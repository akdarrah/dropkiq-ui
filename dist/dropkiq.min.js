!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return i(t[s][1][e]||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){t.exports=e("./lib/axios")},{"./lib/axios":3}],2:[function(e,t,n){"use strict";var r=e("./../utils"),i=e("./../core/settle"),o=e("./../helpers/buildURL"),s=e("./../helpers/parseHeaders"),a=e("./../helpers/isURLSameOrigin"),u=e("../core/createError");t.exports=function(t){return new Promise((function(n,l){var c=t.data,p=t.headers;r.isFormData(c)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",d=t.auth.password||"";p.Authorization="Basic "+btoa(h+":"+d)}if(f.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:e,config:t,request:f};i(n,l,r),f=null}},f.onerror=function(){l(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var m=e("./../helpers/cookies"),g=(t.withCredentials||a(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;g&&(p[t.xsrfHeaderName]=g)}if("setRequestHeader"in f&&r.forEach(p,(function(e,t){void 0===c&&"content-type"===t.toLowerCase()?delete p[t]:f.setRequestHeader(t,e)})),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(e){f&&(f.abort(),l(e),f=null)})),void 0===c&&(c=null),f.send(c)}))}},{"../core/createError":9,"./../core/settle":12,"./../helpers/buildURL":16,"./../helpers/cookies":18,"./../helpers/isURLSameOrigin":20,"./../helpers/parseHeaders":22,"./../utils":24}],3:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./helpers/bind"),o=e("./core/Axios"),s=e("./defaults");function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=a(s);u.Axios=o,u.create=function(e){return a(r.merge(s,e))},u.Cancel=e("./cancel/Cancel"),u.CancelToken=e("./cancel/CancelToken"),u.isCancel=e("./cancel/isCancel"),u.all=function(e){return Promise.all(e)},u.spread=e("./helpers/spread"),t.exports=u,t.exports.default=u},{"./cancel/Cancel":4,"./cancel/CancelToken":5,"./cancel/isCancel":6,"./core/Axios":7,"./defaults":14,"./helpers/bind":15,"./helpers/spread":23,"./utils":24}],4:[function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},{}],5:[function(e,t,n){"use strict";var r=e("./Cancel");function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},t.exports=i},{"./Cancel":4}],6:[function(e,t,n){"use strict";t.exports=function(e){return!(!e||!e.__CANCEL__)}},{}],7:[function(e,t,n){"use strict";var r=e("./../defaults"),i=e("./../utils"),o=e("./InterceptorManager"),s=e("./dispatchRequest");function a(e){this.defaults=e,this.interceptors={request:new o,response:new o}}a.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],(function(e){a.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){a.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}})),t.exports=a},{"./../defaults":14,"./../utils":24,"./InterceptorManager":8,"./dispatchRequest":10}],8:[function(e,t,n){"use strict";var r=e("./../utils");function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},t.exports=i},{"./../utils":24}],9:[function(e,t,n){"use strict";var r=e("./enhanceError");t.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},{"./enhanceError":11}],10:[function(e,t,n){"use strict";var r=e("./../utils"),i=e("./transformData"),o=e("../cancel/isCancel"),s=e("../defaults"),a=e("./../helpers/isAbsoluteURL"),u=e("./../helpers/combineURLs");function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}t.exports=function(e){return l(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},{"../cancel/isCancel":6,"../defaults":14,"./../helpers/combineURLs":17,"./../helpers/isAbsoluteURL":19,"./../utils":24,"./transformData":13}],11:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},{}],12:[function(e,t,n){"use strict";var r=e("./createError");t.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},{"./createError":9}],13:[function(e,t,n){"use strict";var r=e("./../utils");t.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},{"./../utils":24}],14:[function(e,t,n){(function(n){"use strict";var r=e("./utils"),i=e("./helpers/normalizeHeaderName"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=e("./adapters/xhr"):void 0!==n&&(a=e("./adapters/http")),a),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(o)})),t.exports=u}).call(this,e("_process"))},{"./adapters/http":2,"./adapters/xhr":2,"./helpers/normalizeHeaderName":21,"./utils":24,_process:123}],15:[function(e,t,n){"use strict";t.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},{}],16:[function(e,t,n){"use strict";var r=e("./../utils");function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},{"./../utils":24}],17:[function(e,t,n){"use strict";t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},{}],18:[function(e,t,n){"use strict";var r=e("./../utils");t.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{"./../utils":24}],19:[function(e,t,n){"use strict";t.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},{}],20:[function(e,t,n){"use strict";var r=e("./../utils");t.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},{"./../utils":24}],21:[function(e,t,n){"use strict";var r=e("../utils");t.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},{"../utils":24}],22:[function(e,t,n){"use strict";var r=e("./../utils"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},{"./../utils":24}],23:[function(e,t,n){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},{}],24:[function(e,t,n){"use strict";var r=e("./helpers/bind"),i=e("is-buffer"),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}t.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},{"./helpers/bind":15,"is-buffer":25}],25:[function(e,t,n){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},{}],26:[function(e,t,n){"use strict";n.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r=l(e),s=r[0],a=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),c=0,p=a>0?s-4:s;for(n=0;n<p;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(c(e,s,s+16383>a?a:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],27:[function(e,t,n){(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var r=e("base64-js"),i=e("ieee754"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=t,n.SlowBuffer=function(e){+e!=e&&(e=0);return t.alloc(+e)},n.INSPECT_MAX_BYTES=50;function s(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=new Uint8Array(e);return Object.setPrototypeOf(n,t.prototype),n}function t(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return a(e,t,n)}function a(e,n,r){if("string"==typeof e)return function(e,n){"string"==typeof n&&""!==n||(n="utf8");if(!t.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r=0|f(e,n),i=s(r),o=i.write(e,n);o!==r&&(i=i.slice(0,o));return i}(e,n);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(I(e,ArrayBuffer)||e&&I(e.buffer,ArrayBuffer))return function(e,n,r){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;i=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);return Object.setPrototypeOf(i,t.prototype),i}(e,n,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return t.from(i,n,r);var o=function(e){if(t.isBuffer(e)){var n=0|p(e.length),r=s(n);return 0===r.length?r:(e.copy(r,0,0,n),r)}if(void 0!==e.length)return"number"!=typeof e.length||U(e.length)?s(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),s(e<0?0:0|p(e))}function c(e){for(var t=e.length<0?0:0|p(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function f(e,n){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||I(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(o)return i?-1:F(e).length;n=(""+n).toLowerCase(),o=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),U(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:g(e,n,r,i,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):g(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=n;o<a;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var p=!0,f=0;f<u;f++)if(l(e,o+f)!==l(t,f)){p=!1;break}if(p)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(U(a))return s;e[n+s]=a}return s}function v(e,t,n,r){return D(F(t,e.length-n),e,n,r)}function b(e,t,n,r){return D(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return b(e,t,n,r)}function T(e,t,n,r){return D(q(t),e,n,r)}function x(e,t,n,r){return D(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,l=e[i],c=null,p=l>239?4:l>223?3:l>191?2:1;if(i+p<=n)switch(p){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,p=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=p}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}n.kMaxLength=2147483647,t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,n){return a(e,t,n)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},t.allocUnsafe=function(e){return l(e)},t.allocUnsafeSlow=function(e){return l(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,n){if(I(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),I(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var r=e.length,i=n.length,o=0,s=Math.min(r,i);o<s;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=t.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var s=e[r];if(I(s,Uint8Array)&&(s=t.from(s)),!t.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},t.byteLength=f,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):h.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o&&(t.prototype[o]=t.prototype.inspect),t.prototype.compare=function(e,n,r,i,o){if(I(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(i>>>=0),a=(r>>>=0)-(n>>>=0),u=Math.min(s,a),l=this.slice(i,o),c=e.slice(n,r),p=0;p<u;++p)if(l[p]!==c[p]){s=l[p],a=c[p];break}return s<a?-1:a<s?1:0},t.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},t.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},t.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},t.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B[e[o]];return i}function S(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,n,r,i,o,s){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<s)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,o){return t=+t,n>>>=0,o||j(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,o){return t=+t,n>>>=0,o||j(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.prototype.slice=function(e,n){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<e&&(n=e);var i=this.subarray(e,n);return Object.setPrototypeOf(i,t.prototype),i},t.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},t.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},t.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},t.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},t.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),i.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),i.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),i.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),i.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},t.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},t.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},t.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},t.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},t.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},t.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},t.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},t.prototype.copy=function(e,n,r,i){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o=i-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,r,i);else if(this===e&&r<n&&n<i)for(var s=o-1;s>=0;--s)e[s+n]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,i),n);return o},t.prototype.fill=function(e,n,r,i){if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var o=e.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var s;if(n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=n;s<r;++s)this[s]=e;else{var a=t.isBuffer(e)?e:t.from(e,i),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<r-n;++s)this[s+n]=a[s%u]}return this};var L=/[^+/0-9A-Za-z-_]/g;function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function I(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}var B=function(){for(var e=new Array(256),t=0;t<16;++t)for(var n=16*t,r=0;r<16;++r)e[n+r]="0123456789abcdef"[t]+"0123456789abcdef"[r];return e}()}).call(this,e("buffer").Buffer)},{"base64-js":26,buffer:27,ieee754:121}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("axios");n.Authorizer=class{constructor(e=""){this.licenseKey=e,this.domainName=window.location.hostname,this.response={}}authorized(){return this.response&&this.response.data&&this.response.data.authorized}authorize(){let e=this;r({method:"POST",url:"https://app.dropkiq.com/authorization_attempts",headers:{"Access-Control-Allow-Origin":"*"},data:{domain_name:this.domainName,license_key:this.licenseKey}}).then((function(t){e.response=t})).catch((function(e){throw new Error("Unable to authenticate with dropkiq.com")}))}}},{axios:1}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./constants");n.CaretTagFinder=class{constructor(e,t,n){this.tokens=e,this.caretRow=t,this.caretColumn=n,this.tokenLine=this.caretRow+1,this.tokenColumn=this.caretColumn+1}findState(){let e=r.HTML,t=this.findCaretToken();if(void 0===t)return e;switch(t.type){case"html":e=r.HTML;break;case"output":e=r.OUTPUT;break;case"tag":e=r.TAG}return e}findCaretLiquidPosition(){let e=this.findCaretToken();return e?this.tokenColumn-e.col:0}findCaretToken(){return this.tokens.find((e,t)=>{let n=this.tokens[t+1];return e.line==this.tokenLine&&this.tokenColumn>=e.col&&(null==n||this.tokenColumn<n.col||n.line>this.tokenLine)})}}},{"./constants":38}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./constants");n.CycleDetector=class{constructor(){this.registry={}}register(e,t){if(this.registry[e]=this.registry[e]||0,this.registry[e]=this.registry[e]+1,this.registry[e]>r.MAX_CYCLES_AT_MAX_DEPTH&&t>r.ALLOW_CYCLES_UNTIL_DEPTH)throw new Error(`Cycle detected for key "${e}"`)}unregister(e){this.registry[e]=this.registry[e]-1}}},{"./constants":38}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./CycleDetector"),i=e("./FilterRegistry");n.DataSchema=class{constructor(e,t,n){this.schema=e,this.context=t,this.scope=n,this.cycleDetector=new r.CycleDetector,this.constructedScope=this.constructFakeScopeForArrays(),this.filterRegistry=new i.FilterRegistry}setCurrentPath(e){return this.currentPath=e,this.currentPath}buildPathSchema(e=[],t=this.context,n=[...this.currentPath]){let r=n.shift();if(""===r)throw new Error("Liquid is invalid (You likely have too many periods)");if(r){if(!t[r])throw new Error(`Unable to find "${r}" in the current context`);let i=Object.assign({},t[r],{name:r});switch(e.push(i),i.type){case"ColumnTypes::HasOne":{let t=i.foreign_table_name,r=this.schema[t];if(!r)throw new Error(`Table "${t}" was not found in data schema`);this.buildPathSchema(e,r.methods,n);break}default:if(n.length)throw new Error("Liquid expression extends beyond a terminating node")}}return e}nextOptions(e=this.buildPathSchema(),t=this.context){let n=e[e.length-1];if(!n)return t;let r=n.foreign_table_name;switch(n.type){case"ColumnTypes::HasOne":return this.schema[r].methods;default:return{}}}constructFakeScopeForArrays(e=this.context,t={},n="",r=0){return t._table_name=n,Object.keys(e).forEach(n=>{let i=e[n];if("ColumnTypes::HasOne"==i.type){let e=i.foreign_table_name,o=this.schema[e];if(!o)throw new Error(`Table "${e}" was not found in data schema`);let s=o.methods;try{this.cycleDetector.register(e,r)}catch(e){return t}return t[n]=this.constructFakeScopeForArrays(s,{},e,r+1),this.cycleDetector.unregister(e),t}if("ColumnTypes::HasMany"==i.type){let e=i.foreign_table_name,o=this.schema[e];if(!o)throw new Error(`Table "${e}" was not found in data schema`);let s=o.methods;try{this.cycleDetector.register(e,r)}catch(e){return t}return t[n]=[this.constructFakeScopeForArrays(s,{},e,r+1)],this.cycleDetector.unregister(e),t}}),t}}},{"./CycleDetector":30,"./FilterRegistry":34}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./constants"),i=e("./DataSchema"),o=e("./CaretTagFinder"),s=e("./Authorizer"),a=e("./OutputAnalyzer"),u=e("./liquidjs/src/context/context"),l=e("./liquidjs/src/liquid-options"),c=e("./liquidjs/src/parser/tokenizer"),p=e("./liquidjs/src/liquid"),f=e("./liquidjs/src/parser/parser"),h=e("./liquidjs/src/render/render"),d=e("./liquidjs/src/util/async"),m=e("./liquidjs/src/util/error");n.DropkiqEngine=class{constructor(e,t,n,r,o,a="",u={}){if(this.opts={},this.options=l.applyDefault(l.normalize(this.opts)),this.liquid=new p.Liquid(this.opts),this.tokenizer=new c.Tokenizer(this.options),this.parser=new f.default(this.liquid),this.renderer=new h.Render,this.optionsFromUI=u,this.allowEmptySchema=this.optionsFromUI.allowEmptySchema||!1,this.suggestionFilter=()=>{},"function"==typeof u.suggestionFilter&&(this.suggestionFilter=u.suggestionFilter),!this.allowEmptySchema){if(!n)throw new Error("Dropkiq schema is empty. Please double check you're loading the dropkiq_schema.yaml file correctly.");0===Object.keys(n).length&&console.log("WARNING: Dropkiq schema object is empty.")}this.schema=n,this.context=r,this.scope=o,this.licenseKey=a,this.result={},this.dataSchema=new i.DataSchema(n,r,o),this.authorizer=new s.Authorizer(this.licenseKey),this.authorizer.authorize(),this.setTextBodyAndCaretPositionWithUpdate(e,t)}update(e,t){return this.setTextBodyAndCaretPositionWithUpdate(e,t)}updateScope(e){return this.scope=e,this.dataSchema=new i.DataSchema(this.schema,this.context,e),this.setTextBodyAndCaretPositionWithUpdate(this.rawTextBody,this.caretIndex)}registerFilter(e,t,n,r,i){this.liquid.registerFilter(e,t);let o={};o[e]={type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:n,selectRange:r,hint:i},this.dataSchema.filterRegistry.registerFilter(o)}setTextBodyAndCaretPositionWithUpdate(e,t){this.rawTextBody=e,this.caretIndex=t,this.setRowAndColumnFromIndex();try{this.tokens=this.tokenizer.tokenize(this.rawTextBody)}catch(e){if(this.state=r.ERROR,e instanceof m.TokenizationError)return{message:"Liquid is invalid (possibly because of unmatched {{ or {% braces)"};throw e}return this.caretTagFinder=new o.CaretTagFinder(this.tokens,this.caretRow,this.caretColumn),this.state=this.caretTagFinder.findState(),this.caretToken=this.caretTagFinder.findCaretToken(),this.caretLiquidPosition=this.caretTagFinder.findCaretLiquidPosition(),this.findResult()}findResult(){if(this.result={renderedDocument:this.renderedDocument()},!this.caretToken)return this.result;switch(this.state){case r.HTML:case r.TAG:this.result;break;case r.OUTPUT:{this.templates=this.parser.parse(this.tokens);let e=new a.OutputAnalyzer(this.templates,this.caretToken,this.caretLiquidPosition,this.dataSchema,this.authorizer,this.suggestionFilter);this.result=Object.assign(this.result,e.analyze());break}default:throw new Error(`Unknown Dropkiq state "${this.state}"`)}return this.result}renderedDocument(){const e=this.tokenizer.tokenize(this.rawTextBody),t=this.parser.parse(e),n=new u.Context(this.scope,this.options,!0);return d.toValue(this.renderer.renderTemplates(t,n))}setRowAndColumnFromIndex(){this.rawLeftTextBody=this.rawTextBody.slice(0,this.caretIndex),this.rawRightTextBody=this.rawTextBody.slice(this.caretIndex,this.rawTextBody.length);let e=this.rawLeftTextBody.split(/\r?\n/g);var t=e.length-1,n=e[t].length;this.caretRow=t,this.caretColumn=n}}},{"./Authorizer":28,"./CaretTagFinder":29,"./DataSchema":31,"./OutputAnalyzer":36,"./constants":38,"./liquidjs/src/context/context":68,"./liquidjs/src/liquid":78,"./liquidjs/src/liquid-options":77,"./liquidjs/src/parser/parser":86,"./liquidjs/src/parser/tokenizer":89,"./liquidjs/src/render/render":96,"./liquidjs/src/util/async":107,"./liquidjs/src/util/error":108}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./DropkiqEngine"),i=e("uuid");n.DropkiqEngineFromScope=class{constructor(e,t,n,r="",i={}){this.rawTextBody=e,this.caretIndex=t,this.scope=n,this.licenseKey=r,this.optionsFromUI=Object.assign(i,{allowEmptySchema:!0}),this.schema={},this.context=this.constructContextFromScope()}dropkiqEngine(){return new r.DropkiqEngine(this.rawTextBody,this.caretIndex,this.schema,this.context,this.scope,this.licenseKey,this.optionsFromUI)}constructContextFromScope(){let e=this,t={};return Object.keys(this.scope).forEach((function(n){e.addValueSignature(e.scope,n,t)})),t}findValueType(e){switch(typeof e){case"undefined":return"ColumnTypes::String";case"boolean":return"ColumnTypes::Boolean";case"object":if(null===e)return"ColumnTypes::String";if("function"==typeof e.getMonth)return"ColumnTypes::DateTime";if(Array.isArray(e)){let t=e[0];return"ColumnTypes::HasOne"===this.findValueType(t)?"ColumnTypes::HasMany":"ColumnTypes::YAML"}return"ColumnTypes::HasOne";case"string":case"symbol":return"ColumnTypes::String";case"number":case"bigint":return"ColumnTypes::Numeric";default:throw new Error(`Received unknown type ${typeof e} while constructing context`)}}constructFakeSchemaTable(e){let t=i.v4(),n=this;return this.schema[t]={methods:{}},Object.keys(e).forEach((function(r){n.addValueSignature(e,r,n.schema[t].methods)})),t}addValueSignature(e,t,n){let r=e[t],i=this.findValueType(r),o=null;if("ColumnTypes::HasOne"===i&&(o=this.constructFakeSchemaTable(r)),"ColumnTypes::HasMany"===i){let e=r[0];o=this.constructFakeSchemaTable(e)}n[t]={type:i,foreign_table_name:o}}}},{"./DropkiqEngine":32,uuid:112}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r={abs:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"abs",selectRange:[3,3],hint:"Returns the absolute value of a number."},append:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:'append: "example"',selectRange:[9,16],hint:"Concatenates two strings and returns the concatenated value."},at_least:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"at_least: 0",selectRange:[10,11],hint:"Limits a number to a minimum value."},at_most:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"at_most: 0",selectRange:[9,10],hint:"Limits a number to a maximum value."},capitalize:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"capitalize",selectRange:[10,10],hint:"Makes the first character of a string capitalized."},ceil:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"ceil",selectRange:[4,4],hint:"Rounds the input up to the nearest whole number. Liquid tries to convert the input to a number before the filter is applied."},date:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:'date: "year: %y, month: %m, day: %d"',selectRange:[7,35],hint:"Converts a timestamp into another date format. The format for this syntax is the same as strftime. The input uses the same format as Ruby’s Time.parse."},default:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:'default: "example"',selectRange:[10,17],hint:"Allows you to specify a fallback in case a value doesn’t exist. default will show its value if the left side is nil, false, or empty."},divided_by:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"divided_by: 4",selectRange:[12,13],hint:"Divides a number by another number."},downcase:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"downcase",selectRange:[8,8],hint:"Makes each character in a string lowercase. It has no effect on strings which are already all lowercase."},escape:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"escape",selectRange:[6,6],hint:"Escapes a string by replacing characters with escape sequences (so that the string can be used in a URL, for example). It doesn’t change strings that don’t have anything to escape."},escape_once:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"escape_once",selectRange:[11,11],hint:"Escapes a string without changing existing escaped entities. It doesn’t change strings that don’t have anything to escape."},first:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"first",selectRange:[5,5],hint:"Returns the first item of an array."},floor:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"floor",selectRange:[5,5],hint:"Rounds the input down to the nearest whole number. Liquid tries to convert the input to a number before the filter is applied."},join:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:'join: ","',selectRange:[7,8],hint:"Combines the items in an array into a single string using the argument as a separator."},last:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"last",selectRange:[4,4],hint:"Returns the last item of an array."},lstrip:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"lstrip",selectRange:[6,6],hint:"Removes all whitespace (tabs, spaces, and newlines) from the left side of a string. It does not affect spaces between words."},map:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:'map: "length"',selectRange:[6,12],hint:"Creates an array of values by extracting the values of a named property from another object."},minus:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"minus: 2",selectRange:[7,8],hint:"Subtracts a number from another number."},modulo:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"modulo: 2",selectRange:[8,9],hint:"Returns the remainder of a division operation."},newline_to_br:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"newline_to_br",selectRange:[13,13],hint:"Replaces every newline (\n) in a string with an HTML line break (<br />)."},plus:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"plus: 3",selectRange:[6,7],hint:"Adds a number to another number."},prepend:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:'prepend: "example"',selectRange:[10,17],hint:"Adds the specified string to the beginning of another string."},remove:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:'remove: "example"',selectRange:[9,16],hint:"Removes every occurrence of the specified substring from a string."},remove_first:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:'remove_first: "example"',selectRange:[15,22],hint:"Removes only the first occurrence of the specified substring from a string."},replace:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:'replace: "this", "that"',selectRange:[10,14],hint:"Replaces every occurrence of the first argument in a string with the second argument."},replace_first:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:'replace_first: "this", "that"',selectRange:[16,20],hint:"Replaces only the first occurrence of the first argument in a string with the second argument."},reverse:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"reverse",selectRange:[7,7],hint:"Reverses the order of the items in an array. reverse cannot reverse a string."},round:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"round",selectRange:[5,5],hint:"Rounds a number to the nearest integer or, if a number is passed as an argument, to that number of decimal places."},rstrip:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"rstrip",selectRange:[6,6],hint:"Removes all whitespace (tabs, spaces, and newlines) from the right side of a string. It does not affect spaces between words."},size:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"size",selectRange:[4,4],hint:"Returns the number of characters in a string or the number of items in an array."},slice:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"slice: 0",selectRange:[7,8],hint:"Returns a substring of 1 character beginning at the index specified by the first argument. An optional second argument specifies the length of the substring to be returned."},sort:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"sort",selectRange:[4,4],hint:"Sorts items in an array in case-sensitive order."},sort_natural:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"sort_natural",selectRange:[12,12],hint:"Sorts items in an array in case-insensitive order."},split:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:'split: ", "',selectRange:[8,10],hint:"Divides a string into an array using the argument as a separator. split is commonly used to convert comma-separated items from a string to an array."},strip:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"strip",selectRange:[5,5],hint:"Removes all whitespace (tabs, spaces, and newlines) from both the left and right sides of a string. It does not affect spaces between words."},strip_html:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"strip_html",selectRange:[10,10],hint:"Removes any HTML tags from a string."},strip_newlines:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"strip_newlines",selectRange:[14,14],hint:"Removes any newline characters (line breaks) from a string."},times:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"times: 2",selectRange:[7,8],hint:"Multiplies a number by another number."},truncate:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"truncate: 20",selectRange:[10,12],hint:"Shortens a string down to the number of characters passed as an argument. If the specified number of characters is less than the length of the string, an ellipsis (…) is appended to the string and is included in the character count."},truncatewords:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"truncatewords: 3",selectRange:[15,16],hint:"Shortens a string down to the number of words passed as an argument. If the specified number of words is less than the number of words in the string, an ellipsis (…) is appended to the string."},uniq:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"uniq",selectRange:[4,4],hint:"Removes any duplicate elements in an array."},upcase:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"upcase",selectRange:[6,6],hint:"Makes each character in a string uppercase. It has no effect on strings which are already all uppercase."},url_decode:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"url_decode",selectRange:[10,10],hint:"Decodes a string that has been encoded as a URL or by url_encode."},url_encode:{type:"ColumnTypes::Filter",foreign_table_name:null,insertionTemplate:"url_encode",selectRange:[10,10],hint:"Converts any URL-unsafe characters in a string into percent-encoded characters."}};n.FilterRegistry=class{constructor(){this.registry=r}registerFilter(e){this.registry=Object.assign(this.registry,e)}}},{}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./ScopeCapture"),i=e("./liquidjs/src/template/value"),o=e("./liquidjs/src/template/output"),s=e("./liquidjs/src/template/tag/tag"),a=e("./liquidjs/src/template/html");n.LivePreviewer=class{constructor(e,t,n,r,i,o){this.path=e,this.suggestions=t,this.templates=n,this.caretToken=r,this.dataSchema=i,this.caretLiquidPosition=o,this.originalRawExpression=""+this.caretToken.raw,this.templatesWithoutHTML=[...n],this.removeHTMLFromTemplates(this.templatesWithoutHTML)}suggestionsWithPreviews(){return Object.keys(this.suggestions).forEach(e=>{let t,n=this.suggestions[e];t="ColumnTypes::Filter"===n.type?this.constructLiquidStatementForFilterSuggestion(n,e):this.constructLiquidStatementForSuggestion(n,e);let i=[...this.templatesWithoutHTML];this.modifyCaretTokenInTemplates(t,i);let o=new r.ScopeCapture(i,this.caretToken,this.dataSchema);o.capture(this.dataSchema.scope);let s=o.getCapturedRendered();n.template=this.writePreviewTemplate(i),n.preview=s}),this.suggestions}constructLiquidStatementForSuggestion(e,t){let n=(""+this.originalRawExpression).replace("{{","").replace("}}","").split("|"),r=(n.shift(),[...this.path]);r.push(t);let i=r.join(".");return n.unshift(i),n.join(" | ")}constructLiquidStatementForFilterSuggestion(e,t){let n=""+this.originalRawExpression,r=n.slice(0,this.caretLiquidPosition).replace("{{","").replace(/\|(?!.*\|).*/,""),i=n.slice(this.caretLiquidPosition,n.length).replace("}}","").replace(/.*\||\}{2}/,"");return[r,e.insertionTemplate,i].map((function(e){return e.trim()})).filter((function(e){return e.length>0})).join(" | ")}modifyCaretTokenInTemplates(e,t){for(let n=0;n<t.length;n++){let r=t[n];r instanceof s.Tag&&["increment","include","cycle","decrement","layout","tablerow","raw","comment"].includes(r.name)&&(t.splice(n,1),n--),r instanceof o.Output&&(r.token===this.caretToken?(r.token.raw=`{{ ${e} }}`,r.value=new i.Value(e,!1)):(t.splice(n,1),n--)),this.traverseChildren(r,t=>{this.modifyCaretTokenInTemplates(e,t)})}}removeHTMLFromTemplates(e){for(let t=0;t<e.length;t++){let n=e[t];n instanceof a.HTML&&(e.splice(t,1),t--),this.traverseChildren(n,e=>{this.removeHTMLFromTemplates(e)})}}traverseChildren(e,t){e.impl&&e.impl.templates&&t(e.impl.templates),e.impl&&e.impl.branches&&e.impl.branches.forEach((e,n)=>{let r=n>0?`{% elsif ${e.cond} %}`:null;t(e.templates,r)}),e.impl&&e.impl.cases&&e.impl.cases.forEach(e=>{t(e.templates,`{% when ${e.val} %}`)}),e.impl&&e.impl.elseTemplates&&e.impl.elseTemplates.length>0&&t(e.impl.elseTemplates,"{% else %}")}writePreviewTemplate(e,t=""){return e.forEach((e,n)=>{if("for"===e.name){let n=e.token.raw.replace("%}"," limit:1 %}");t=t.concat(n)}else t=t.concat(e.token.raw);if(this.traverseChildren(e,(e,n)=>{n&&(t=t.concat(n)),t=this.writePreviewTemplate(e,t)}),e instanceof s.Tag)switch(e.name){case"for":t=t.concat("{% endfor %}");break;case"if":t=t.concat("{% endif %}");break;case"unless":t=t.concat("{% endunless %}");break;case"capture":t=t.concat("{% endcapture %}");break;case"case":t=t.concat("{% endcase %}");break;case"assign":break;default:throw new Error(`Unhandled Tag: "${e.name}"`)}}),t}}},{"./ScopeCapture":37,"./liquidjs/src/template/html":99,"./liquidjs/src/template/output":100,"./liquidjs/src/template/tag/tag":102,"./liquidjs/src/template/value":104}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./ScopeCapture"),i=e("./LivePreviewer");n.OutputAnalyzer=class{constructor(e,t,n,r,i,o=(()=>{})){this.templates=e,this.caretToken=t,this.caretLiquidPosition=n,this.dataSchema=r,this.authorizer=i,this.suggestionFilter=o,this.rawText=this.caretToken.raw,this.leftCaretText=this.rawText.slice(0,this.caretLiquidPosition),this.rightCaretText=this.rawText.slice(this.caretLiquidPosition,this.rawText.length)}analyze(){let e={preview:"",suggestions:[],prefix:""},t=new r.ScopeCapture([...this.templates],this.caretToken,this.dataSchema);t.capture(this.dataSchema.scope);let n=t.getCapturedRendered();if(n&&(e.preview=n),this.canMakeSuggestion()){let t=this.getPathFromRawText(),n=t.pop(),r=[];this.dataSchema.setCurrentPath(t);let o=this.getContextWithScopeOptions();this.dataSchema.buildPathSchema(r,o);let s,a=r[r.length-1];if(a&&"ColumnTypes::HasOne"!==a.type)throw new Error("End of Liquid expression reached");if(a&&!this.authorizer.authorized()){let e=this.dataSchema.nextOptions(r,o);s={dropkiq:{type:"ColumnTypes::String",foreign_table_name:null,hint:`${Object.keys(e).length} ${a.name} Liquid methods are hidden in the free version of Dropkiq.`}}}else s=this.dataSchema.nextOptions(r,o);s=s||{},n&&(s=this.filterResults(n,s)),this.livePreviewer=new i.LivePreviewer(t,s,this.templates,this.caretToken,this.dataSchema,this.caretLiquidPosition),s=this.livePreviewer.suggestionsWithPreviews(),e.pathSchema=r,e.prefix=n||"",e.suggestions=s||{},e.suggestionsArray=Object.keys(e.suggestions).map(t=>{let r=e.suggestions[t];return Object.assign({},r,{name:t,prefix:n,nameWithoutPrefix:this.nameWithoutPrefix(t,e.prefix),iconImageURLForSuggestion:this.iconImageURLForSuggestion(r.type)})}),this.suggestionFilter(e.suggestionsArray)}else if(this.canMakeFilterSuggestion()&&this.authorizer.authorized()){let t=this.getFilterPrefix(),n=this.dataSchema.filterRegistry.registry;t&&(n=this.filterResults(t,n)),this.livePreviewer=new i.LivePreviewer([],n,this.templates,this.caretToken,this.dataSchema,this.caretLiquidPosition),n=this.livePreviewer.suggestionsWithPreviews(),e.pathSchema=[],e.prefix=t||"",e.suggestions=n||{},e.suggestionsArray=Object.keys(e.suggestions).map(n=>{let r=e.suggestions[n];return Object.assign({},r,{name:n,prefix:t,nameWithoutPrefix:this.nameWithoutPrefix(n,e.prefix),iconImageURLForSuggestion:this.iconImageURLForSuggestion(r.type),template:r.template,selectRange:r.selectRange})})}return e}canMakeSuggestion(){return!this.cursorIsInBraces()&&this.cursorIsLeftOfFilters()&&this.pastRightMostPeriod()&&!this.spaceExistsAfterContent()&&this.rightCharacterIsEligible()}canMakeFilterSuggestion(){return!this.cursorIsInBraces()&&this.cursorIsRightOfFilters()&&!this.spaceOrColonExistsAfterContent()&&this.rightCharacterIsEligible()}cursorIsInBraces(){return!this.leftCaretText.includes("{{")||!this.rightCaretText.includes("}}")}cursorIsLeftOfFilters(){return!this.leftCaretText.includes("|")}cursorIsRightOfFilters(){return!this.cursorIsLeftOfFilters()}pastRightMostPeriod(){return!this.rightCaretText.includes(".")}rightCharacterIsEligible(){let e=this.rightCaretText[0];return" "===e||e==String.fromCharCode(160)||"|"===e||"}"===e}spaceExistsAfterContent(){let e=this.leftCaretText.replace(/\{+/,"");return new RegExp(/\S+\s+/).test(e)}spaceOrColonExistsAfterContent(){let e=this.leftCaretText.replace(/\{+.*\|/,"");return new RegExp(/(\s+)?\S+(\s+|\:)/).test(e)}getFilterPrefix(){let e=this.leftCaretText.replace(/\{+.*\|/,""),t=new RegExp(/\s+?(\S+)/),n=e.match(t);return n?n[1]:""}getPathFromRawText(){let e=this.rawText.replace("{{","").replace("}}","").split("|")[0].trim();return 0===e.length?[]:e.split(".")}filterResults(e,t){let n=Object.assign({},t);return Object.keys(n).forEach(t=>{n[t],t===e&&delete n[t],t.startsWith(e)||delete n[t]}),n}getContextWithScopeOptions(){let e=new r.ScopeCapture(this.templates,this.caretToken,this.dataSchema).optionsFromScope(),t=JSON.parse(JSON.stringify(this.dataSchema.context));return this.authorizer.authorized()?Object.assign(t,e):Object.assign(t,{})}nameWithoutPrefix(e,t){return e.slice(t.length,e.length)}iconImageURLForSuggestion(e){switch(e){case"ColumnTypes::Filter":return"https://app.dropkiq.com/plugin/filter1.png";case"ColumnTypes::HasMany":return"https://app.dropkiq.com/plugin/array.png";case"ColumnTypes::HasOne":case"ColumnTypes::YAML":return"https://app.dropkiq.com/plugin/object.png";case"ColumnTypes::String":return"https://app.dropkiq.com/plugin/string.png";case"ColumnTypes::Numeric":return"https://app.dropkiq.com/plugin/numeric.png";case"ColumnTypes::Boolean":return"https://app.dropkiq.com/plugin/boolean.png";case"ColumnTypes::DateTime":return"https://app.dropkiq.com/plugin/date.png";case"ColumnTypes::Text":return"https://app.dropkiq.com/plugin/string.png"}}}},{"./LivePreviewer":35,"./ScopeCapture":37}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./liquidjs/src/liquid-options"),i=e("./liquidjs/src/render/render"),o=e("./liquidjs/src/context/context"),s=e("./liquidjs/src/util/async"),a=e("./liquidjs/src/template/output"),u=e("./liquidjs/src/util/underscore");let l,c,p;a.Output.prototype.render=function*(e,t){this.token===p&&(l=JSON.parse(JSON.stringify(e)));const n=yield this.value.value(e),r=u.stringify(s.toValue(n));t.write(r),this.token===p&&(c=r)};n.ScopeCapture=class{constructor(e,t,n){this.templates=e,this.caretToken=t,this.renderer=new i.Render,this.dataSchema=n}optionsFromScope(){let e={};this.capture();let t=this.getCapturedContext()||{scopes:[]},n=t.scopes.shift()||{};return Object.keys(n).forEach(t=>{e[t]={type:this.classifyDataType(n[t]),foreign_table_name:null}}),t.scopes.forEach(t=>{delete t.forloop,Object.keys(t).forEach(n=>{let r=t[n];e[n]={type:"ColumnTypes::HasOne",foreign_table_name:r._table_name}})}),e}getCapturedContext(){return l}getCapturedRendered(){return c}capture(e=this.dataSchema.constructedScope){let t={},n=r.applyDefault(r.normalize(t));p=this.caretToken;const i=Object.assign(Object.assign({},n),r.normalize(t)),a=new o.Context(e,i,!0);try{s.toValue(this.renderer.renderTemplates(this.templates,a))}catch(e){if("RenderError"===e.name)return c="Liquid Render Error",!0;throw e}}classifyDataType(e){switch(typeof e){case"string":return"ColumnTypes::String";case"boolean":return"ColumnTypes::Boolean";case"number":return"ColumnTypes::Numeric";case"object":return"ColumnTypes::YAML";default:throw new Error(`Unknown assigns variable type for ${e}`)}}}},{"./liquidjs/src/context/context":68,"./liquidjs/src/liquid-options":77,"./liquidjs/src/render/render":96,"./liquidjs/src/template/output":100,"./liquidjs/src/util/async":107,"./liquidjs/src/util/underscore":110}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HTML="HTML",n.OUTPUT="OUTPUT",n.TAG="TAG",n.ERROR="ERROR",n.MAX_CYCLES_AT_MAX_DEPTH=3,n.ALLOW_CYCLES_UNTIL_DEPTH=3},{}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./DropkiqEngine");n.DropkiqEngine=r.DropkiqEngine;const i=e("./DropkiqEngineFromScope");n.DropkiqEngineFromScope=i.DropkiqEngineFromScope,window.DropkiqEngine=r.DropkiqEngine,window.DropkiqEngineFromScope=i.DropkiqEngineFromScope},{"./DropkiqEngine":32,"./DropkiqEngineFromScope":33}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/underscore"),i=e("../../render/boolean");n.default={join:(e,t)=>e.join(void 0===t?" ":t),last:e=>r.isArray(e)?r.last(e):"",first:e=>r.isArray(e)?e[0]:"",map:function(e,t){return e.map(e=>e[t])},reverse:e=>[...e].reverse(),sort:(e,t)=>e.sort(t),size:e=>e&&e.length||0,concat:function(e,t){return Array.prototype.concat.call(e,t)},slice:function(e,t,n=1){return t=t<0?e.length+t:t,e.slice(t,t+n)},uniq:function(e){const t={};return(e||[]).filter(e=>!t.hasOwnProperty(String(e))&&(t[String(e)]=!0,!0))},where:function(e,t,n){return e.filter(e=>{const r=this.context.getFromScope(e,t);return void 0===n?i.isTruthy(r):r===n})}}},{"../../render/boolean":91,"../../util/underscore":110}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/strftime"),i=e("../../util/underscore");n.default={date:(e,t)=>{let n=e;return"now"===e?n=new Date:i.isNumber(e)?n=new Date(1e3*e):i.isString(e)&&(n=/^\d+$/.test(e)?new Date(1e3*+e):new Date(e)),function(e){return e instanceof Date&&!isNaN(e.getTime())}(n)?r.default(n,t):e}}},{"../../util/strftime":109,"../../util/underscore":110}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/underscore"),i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},o={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function s(e){return r.stringify(e).replace(/&|<|>|"|'/g,e=>i[e])}n.default={escape:s,escape_once:e=>s(function(e){return String(e).replace(/&(amp|lt|gt|#34|#39);/g,e=>o[e])}(e)),newline_to_br:e=>e.replace(/\n/g,"<br />"),strip_html:e=>e.replace(/<script.*?<\/script>|<!--.*?-->|<style.*?<\/style>|<.*?>/g,"")}},{"../../util/underscore":110}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./html"),i=e("./string"),o=e("./math"),s=e("./url"),a=e("./array"),u=e("./date"),l=e("./object");n.default=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r.default),i.default),o.default),s.default),u.default),l.default),a.default)},{"./array":40,"./date":41,"./html":42,"./math":44,"./object":45,"./string":46,"./url":47}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=String.prototype.toLowerCase;function i(e,t){return t?e?(e=r.call(e))<(t=r.call(t))?-1:e>t?1:0:1:-1}n.default={abs:e=>Math.abs(e),at_least:(e,t)=>Math.max(e,t),at_most:(e,t)=>Math.min(e,t),ceil:e=>Math.ceil(e),divided_by:(e,t)=>e/t,floor:e=>Math.floor(e),minus:(e,t)=>e-t,modulo:(e,t)=>e%t,round:(e,t=0)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},plus:(e,t)=>Number(e)+Number(t),sort_natural:function(e,t){return e&&e.sort?void 0!==t?[...e].sort((e,n)=>i(e[t],n[t])):[...e].sort(i):[]},times:(e,t)=>e*t}},{}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../render/boolean"),i=e("../../util/underscore");n.default={default:function(e,t){return r.isFalsy(i.toValue(e))||""===e?t:e}}},{"../../render/boolean":91,"../../util/underscore":110}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/underscore");n.default={append:(e,t)=>r.stringify(e)+r.stringify(t),prepend:(e,t)=>r.stringify(t)+r.stringify(e),capitalize:function(e){return(e=r.stringify(e)).charAt(0).toUpperCase()+e.slice(1)},lstrip:e=>r.stringify(e).replace(/^\s+/,""),downcase:e=>r.stringify(e).toLowerCase(),upcase:e=>r.stringify(e).toUpperCase(),remove:(e,t)=>r.stringify(e).split(t).join(""),remove_first:(e,t)=>r.stringify(e).replace(t,""),replace:function(e,t,n){return r.stringify(e).split(t).join(n)},replace_first:function(e,t,n){return r.stringify(e).replace(t,n)},rstrip:e=>r.stringify(e).replace(/\s+$/,""),split:(e,t)=>r.stringify(e).split(t),strip:e=>r.stringify(e).trim(),strip_newlines:e=>r.stringify(e).replace(/\n/g,""),truncate:function(e,t=50,n="..."){return(e=r.stringify(e)).length<=t?e:e.substr(0,t-n.length)+n},truncatewords:function(e,t=15,n="..."){const r=e.split(/\s+/);let i=r.slice(0,t).join(" ");return r.length>=t&&(i+=n),i}}},{"../../util/underscore":110}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={url_decode:e=>e.split("+").map(decodeURIComponent).join(" "),url_encode:e=>e.split(" ").map(encodeURIComponent).join("+")}},{}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/assert"),i=e("../../parser/lexical"),o=new RegExp(`(${i.identifier.source})\\s*=([^]*)`);n.default={parse:function(e){const t=e.args.match(o);r.assert(t,`illegal token ${e.raw}`),this.key=t[1],this.value=t[2]},render:function*(e){e.front()[this.key]=yield this.liquid._evalValue(this.value,e)}}},{"../../parser/lexical":82,"../../util/assert":106}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../context/block-mode");n.default={parse:function(e,t){const n=/\w+/.exec(e.args);this.block=n?n[0]:"",this.tpls=[];const r=this.liquid.parser.parseStream(t).on("tag:endblock",()=>r.stop()).on("template",e=>this.tpls.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});r.start()},render:function*(e,t,n){const i=e.getRegister("blocks"),o=i[this.block],s=this.liquid.renderer,a=void 0!==o?o:yield s.renderTemplates(this.tpls,e);e.getRegister("blockMode",r.default.OUTPUT)!==r.default.STORE?n.write(a):i[this.block]=a}}},{"../../context/block-mode":67}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={render:function(e,t,n){n.break=!0}}},{}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/assert"),i=e("../../parser/lexical"),o=new RegExp(`(${i.identifier.source})`);n.default={parse:function(e,t){const n=e.args.match(o);r.assert(n,`${e.args} not valid identifier`),this.variable=n[1],this.templates=[];const i=this.liquid.parser.parseStream(t);i.on("tag:endcapture",()=>i.stop()).on("template",e=>this.templates.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)}),i.start()},render:function*(e){const t=this.liquid.renderer,n=yield t.renderTemplates(this.templates,e);e.front()[this.variable]=n}}},{"../../parser/lexical":82,"../../util/assert":106}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../types");n.default={parse:function(e,t){this.cond=e.args,this.cases=[],this.elseTemplates=[];let n=[];const r=this.liquid.parser.parseStream(t).on("tag:when",e=>{this.cases.push({val:e.args,templates:n=[]})}).on("tag:else",()=>n=this.elseTemplates).on("tag:endcase",()=>r.stop()).on("template",e=>n.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});r.start()},render:function*(e,t,n){const i=this.liquid.renderer;for(let t=0;t<this.cases.length;t++){const o=this.cases[t];if((yield new r.Expression(o.val).value(e))===(yield new r.Expression(this.cond).value(e)))return void(yield i.renderTemplates(o.templates,e,n))}yield i.renderTemplates(this.elseTemplates,e,n)}}},{"../../types":105}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={parse:function(e,t){const n=this.liquid.parser.parseStream(t);n.on("token",e=>{"endcomment"===e.name&&n.stop()}).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)}),n.start()}}},{}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={render:function(e,t,n){n.continue=!0}}},{}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/assert"),i=e("../../parser/lexical"),o=e("../../types"),s=new RegExp(`^(?:(${i.value.source})\\s*:\\s*)?(.*)$`),a=new RegExp(i.value.source,"g");n.default={parse:function(e){let t=s.exec(e.args);r.assert(t,`illegal tag: ${e.raw}`),this.group=new o.Expression(t[1]);const n=t[2];for(this.candidates=[];t=a.exec(n);)this.candidates.push(t[0]);r.assert(this.candidates.length,`empty candidates: ${e.raw}`)},render:function*(e,t,n){const r=`cycle:${yield this.group.value(e)}:`+this.candidates.join(","),i=e.getRegister("cycle");let s=i[r];void 0===s&&(s=i[r]=0);const a=this.candidates[s];s=(s+1)%this.candidates.length,i[r]=s;const u=yield new o.Expression(a).value(e);n.write(u)}}},{"../../parser/lexical":82,"../../types":105,"../../util/assert":106}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/assert"),i=e("../../parser/lexical"),o=e("../../util/underscore");n.default={parse:function(e){const t=e.args.match(i.identifier);r.assert(t,`illegal identifier ${e.args}`),this.variable=t[0]},render:function(e,t,n){const r=e.environments;o.isNumber(r[this.variable])||(r[this.variable]=0),n.write(o.stringify(--r[this.variable]))}}},{"../../parser/lexical":82,"../../util/assert":106,"../../util/underscore":110}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/underscore"),i=e("../../render/expression"),o=e("../../util/assert"),s=e("../../parser/lexical"),a=e("../../drop/forloop-drop"),u=new RegExp(`^(${s.identifier.source})\\s+in\\s+`+`(${s.value.source})`+`(?:\\s+${s.hash.source})*`+"(?:\\s+(reversed))?"+`(?:\\s+${s.hash.source})*$`);n.default={type:"block",parse:function(e,t){const n=u.exec(e.args);let r;o.assert(n,`illegal tag: ${e.raw}`),this.variable=n[1],this.collection=n[2],this.reversed=!!n[3],this.templates=[],this.elseTemplates=[];const i=this.liquid.parser.parseStream(t).on("start",()=>r=this.templates).on("tag:else",()=>r=this.elseTemplates).on("tag:endfor",()=>i.stop()).on("template",e=>r.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});i.start()},render:function*(e,t,n){const o=this.liquid.renderer;let s=yield new i.Expression(this.collection).value(e);if(r.isArray(s)||(r.isString(s)&&s.length>0?s=[s]:r.isObject(s)&&(s=Object.keys(s).map(e=>[e,s[e]]))),!r.isArray(s)||!s.length)return void(yield o.renderTemplates(this.elseTemplates,e,n));const u=t.offset||0,l=void 0===t.limit?s.length:t.limit;s=s.slice(u,u+l),this.reversed&&s.reverse();const c={forloop:new a.ForloopDrop(s.length)};e.push(c);for(const t of s){if(c[this.variable]=t,yield o.renderTemplates(this.templates,e,n),n.break){n.break=!1;break}n.continue=!1,c.forloop.next()}e.pop()}}},{"../../drop/forloop-drop":72,"../../parser/lexical":82,"../../render/expression":93,"../../util/assert":106,"../../util/underscore":110}],58:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../types");n.default={parse:function(e,t){let n;this.branches=[],this.elseTemplates=[];const r=this.liquid.parser.parseStream(t).on("start",()=>this.branches.push({cond:e.args,templates:n=[]})).on("tag:elsif",e=>{this.branches.push({cond:e.args,templates:n=[]})}).on("tag:else",()=>n=this.elseTemplates).on("tag:endif",()=>r.stop()).on("template",e=>n.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});r.start()},render:function*(e,t,n){const i=this.liquid.renderer;for(const t of this.branches){const o=yield new r.Expression(t.cond).value(e);if(r.isTruthy(o))return void(yield i.renderTemplates(t.templates,e,n))}yield i.renderTemplates(this.elseTemplates,e,n)}}},{"../../types":105}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/assert"),i=e("../../types"),o=e("../../parser/lexical"),s=e("../../context/block-mode"),a=/[^\s,]+/,u=new RegExp(`with\\s+(${o.value.source})`);n.default={parse:function(e){let t=a.exec(e.args);t&&(this.staticValue=t[0]),t=o.value.exec(e.args),t&&(this.value=t[0]),t=u.exec(e.args),t&&(this.with=t[1])},render:function*(e,t,n){let a;if(e.opts.dynamicPartials)if(o.quotedLine.exec(this.value)){const t=this.value.slice(1,-1);a=yield this.liquid._parseAndRender(t,e.getAll(),e.opts,e.sync)}else a=yield new i.Expression(this.value).value(e);else a=this.staticValue;r.assert(a,"cannot include with empty filename");const u=e.getRegister("blocks"),l=e.getRegister("blockMode");e.setRegister("blocks",{}),e.setRegister("blockMode",s.default.OUTPUT),this.with&&(t[a]=yield new i.Expression(this.with).evaluate(e));const c=yield this.liquid._parseFile(a,e.opts,e.sync);e.push(t),yield this.liquid.renderer.renderTemplates(c,e,n),e.pop(),e.setRegister("blocks",u),e.setRegister("blockMode",l)}}},{"../../context/block-mode":67,"../../parser/lexical":82,"../../types":105,"../../util/assert":106}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/assert"),i=e("../../parser/lexical"),o=e("../../util/underscore");n.default={parse:function(e){const t=e.args.match(i.identifier);r.assert(t,`illegal identifier ${e.args}`),this.variable=t[0]},render:function(e,t,n){const r=e.environments;o.isNumber(r[this.variable])||(r[this.variable]=0);const i=r[this.variable];r[this.variable]++,n.write(o.stringify(i))}}},{"../../parser/lexical":82,"../../util/assert":106,"../../util/underscore":110}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./assign"),i=e("./for"),o=e("./capture"),s=e("./case"),a=e("./comment"),u=e("./include"),l=e("./render"),c=e("./decrement"),p=e("./cycle"),f=e("./if"),h=e("./increment"),d=e("./layout"),m=e("./block"),g=e("./raw"),y=e("./tablerow"),v=e("./unless"),b=e("./break"),w=e("./continue"),T={assign:r.default,for:i.default,capture:o.default,case:s.default,comment:a.default,include:u.default,render:l.default,decrement:c.default,increment:h.default,cycle:p.default,if:f.default,layout:d.default,block:m.default,raw:g.default,tablerow:y.default,unless:v.default,break:b.default,continue:w.default};n.default=T},{"./assign":48,"./block":49,"./break":50,"./capture":51,"./case":52,"./comment":53,"./continue":54,"./cycle":55,"./decrement":56,"./for":57,"./if":58,"./include":59,"./increment":60,"./layout":62,"./raw":63,"./render":64,"./tablerow":65,"./unless":66}],62:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/assert"),i=e("../../parser/lexical"),o=e("../../types"),s=e("../../context/block-mode"),a=/\S+/;n.default={parse:function(e,t){let n=a.exec(e.args);n&&(this.staticLayout=n[0]),n=i.value.exec(e.args),n&&(this.layout=n[0]),this.tpls=this.liquid.parser.parse(t)},render:function*(e,t,n){const i=e.opts.dynamicPartials?yield new o.Expression(this.layout).value(e):this.staticLayout;r.assert(i,"cannot apply layout with empty filename"),e.setRegister("blockMode",s.default.STORE);const a=e.getRegister("blocks"),u=this.liquid.renderer,l=yield u.renderTemplates(this.tpls,e);void 0===a[""]&&(a[""]=l);const c=yield this.liquid._parseFile(i,e.opts,e.sync);e.push(t),e.setRegister("blockMode",s.default.OUTPUT);const p=yield u.renderTemplates(c,e);e.pop(),n.write(p)}}},{"../../context/block-mode":67,"../../parser/lexical":82,"../../types":105,"../../util/assert":106}],63:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={parse:function(e,t){this.tokens=[];const n=this.liquid.parser.parseStream(t);n.on("token",e=>{"endraw"===e.name?n.stop():this.tokens.push(e)}).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)}),n.start()},render:function(){return this.tokens.map(e=>e.raw).join("")}}},{}],64:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/assert"),i=e("../../types"),o=e("../../parser/lexical"),s=e("../../context/block-mode"),a=/[^\s,]+/,u=new RegExp(`with\\s+(${o.value.source})`);n.default={parse:function(e){let t=a.exec(e.args);t&&(this.staticValue=t[0]),t=o.value.exec(e.args),t&&(this.value=t[0]),t=u.exec(e.args),t&&(this.with=t[1])},render:function*(e,t,n){let a;if(e.opts.dynamicPartials)if(o.quotedLine.exec(this.value)){const t=this.value.slice(1,-1);a=yield this.liquid._parseAndRender(t,e.getAll(),e.opts,e.sync)}else a=yield new i.Expression(this.value).value(e);else a=this.staticValue;r.assert(a,"cannot render with empty filename");const u=e.getRegister("blocks"),l=e.getRegister("blockMode"),c=new i.Context({},e.opts,e.sync);c.setRegister("blocks",{}),c.setRegister("blockMode",s.default.OUTPUT),this.with&&(t[a]=yield new i.Expression(this.with).evaluate(e)),c.push(t);const p=yield this.liquid._parseFile(a,c.opts,c.sync);yield this.liquid.renderer.renderTemplates(p,c,n),c.setRegister("blocks",u),c.setRegister("blockMode",l)}}},{"../../context/block-mode":67,"../../parser/lexical":82,"../../types":105,"../../util/assert":106}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/assert"),i=e("../../types"),o=e("../../parser/lexical"),s=e("../../drop/tablerowloop-drop"),a=new RegExp(`^(${o.identifier.source})\\s+in\\s+`+`(${o.value.source})`+`(?:\\s+${o.hash.source})*$`);n.default={parse:function(e,t){const n=a.exec(e.args);let i;r.assert(n,`illegal tag: ${e.raw}`),this.variable=n[1],this.collection=n[2],this.templates=[];const o=this.liquid.parser.parseStream(t).on("start",()=>i=this.templates).on("tag:endtablerow",()=>o.stop()).on("template",e=>i.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});o.start()},render:function*(e,t,n){let r=(yield new i.Expression(this.collection).value(e))||[];const o=t.offset||0,a=void 0===t.limit?r.length:t.limit;r=r.slice(o,o+a);const u=t.cols||r.length,l=this.liquid.renderer,c=new s.TablerowloopDrop(r.length,u),p={tablerowloop:c};e.push(p);for(let t=0;t<r.length;t++,c.next())p[this.variable]=r[t],0===c.col0()&&(1!==c.row()&&n.write("</tr>"),n.write(`<tr class="row${c.row()}">`)),n.write(`<td class="col${c.col()}">`),yield l.renderTemplates(this.templates,e,n),n.write("</td>");r.length&&n.write("</tr>"),e.pop()}}},{"../../drop/tablerowloop-drop":75,"../../parser/lexical":82,"../../types":105,"../../util/assert":106}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../types");n.default={parse:function(e,t){let n;this.templates=[],this.elseTemplates=[];const r=this.liquid.parser.parseStream(t).on("start",()=>{n=this.templates,this.cond=e.args}).on("tag:else",()=>n=this.elseTemplates).on("tag:endunless",()=>r.stop()).on("template",e=>n.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});r.start()},render:function*(e,t,n){const i=this.liquid.renderer,o=yield new r.Expression(this.cond).value(e);yield r.isFalsy(o)?i.renderTemplates(this.templates,e,n):i.renderTemplates(this.elseTemplates,e,n)}}},{"../../types":105}],67:[function(e,t,n){"use strict";var r,i;Object.defineProperty(n,"__esModule",{value:!0}),(i=r||(r={}))[i.OUTPUT=0]="OUTPUT",i[i.STORE=1]="STORE",n.default=r},{}],68:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../drop/drop"),i=e("tslib"),o=e("../util/assert"),s=e("../liquid-options"),a=e("../util/underscore");function u(e,t){return a.isNil(e)?e:(e=a.toLiquid(e))instanceof r.Drop?a.isFunction(e[t])?e[t]():e.hasOwnProperty(t)?e[t]:e.liquidMethodMissing(t):"size"===t?function(e){return a.isArray(e)||a.isString(e)?e.length:e.size}(e):"first"===t?function(e){return a.isArray(e)?e[0]:e.first}(e):"last"===t?function(e){return a.isArray(e)?e[e.length-1]:e.last}(e):e[t]}function l(e,t){let n=1;for(let r=t;r<e.length;r++)if("["===e[r]&&n++,"]"===e[r]&&(n--,0===n))return r;return-1}n.Context=class{constructor(e={},t,n=!1){this.scopes=[{}],this.registers={},this.sync=n,this.opts=s.applyDefault(t),this.environments=e}getRegister(e,t={}){return this.registers[e]=this.registers[e]||t}setRegister(e,t){return this.registers[e]=t}getAll(){return[this.environments,...this.scopes].reduce((e,t)=>i.__assign(e,t),{})}get(e){const t=this.parseProp(e),n=this.findScope(t[0])||this.environments;return this.getFromScope(n,t)}getFromScope(e,t){return a.isArray(t)||(t=this.parseProp(t)),t.reduce((e,t)=>{if(e=u(e,t),a.isNil(e)&&this.opts.strictVariables)throw new TypeError(`undefined variable: ${t}`);return e},e)}push(e){return this.scopes.push(e)}pop(){return this.scopes.pop()}front(){return this.scopes[0]}findScope(e){for(let t=this.scopes.length-1;t>=0;t--){const n=this.scopes[t];if(e in n)return n}return null}parseProp(e){e=String(e);const t=[];let n,r="",i=0;for(;i<e.length;)switch(e[i]){case"[":s();const t=e[i+1];/['"]/.test(t)?(n=e.indexOf(t,i+2),o.assert(-1!==n,`unbalanced ${t}: ${e}`),r=e.slice(i+2,n),s(),i=n+2):(n=l(e,i+1),o.assert(-1!==n,`unbalanced []: ${e}`),r=e.slice(i+1,n),/^[+-]?\d+$/.test(r)||(r=String(this.get(r))),s(),i=n+1);break;case".":s(),i++;break;default:r+=e[i++]}if(s(),!t.length)throw new TypeError(`invalid path:"${e}"`);return t;function s(){r.length&&t.push(r),r=""}}},n.readProperty=u},{"../drop/drop":70,"../liquid-options":77,"../util/assert":106,"../util/underscore":110,tslib:126}],69:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../util/underscore"),i=e("../drop/empty-drop");class o extends i.EmptyDrop{equals(e){return!1===e||!!r.isNil(r.toValue(e))||(r.isString(e)?/^\s*$/.test(e):super.equals(e))}}n.BlankDrop=o},{"../drop/empty-drop":71,"../util/underscore":110}],70:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.Drop=class{valueOf(){}liquidMethodMissing(e){}}},{}],71:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./drop"),i=e("../util/underscore");class o extends r.Drop{equals(e){return i.isString(e)||i.isArray(e)?0===e.length:!!i.isObject(e)&&0===Object.keys(e).length}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return""}}n.EmptyDrop=o},{"../util/underscore":110,"./drop":70}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./drop");class i extends r.Drop{constructor(e){super(),this.i=0,this.length=e}next(){this.i++}index0(){return this.i}index(){return this.i+1}first(){return 0===this.i}last(){return this.i===this.length-1}rindex(){return this.length-this.i}rindex0(){return this.length-this.i-1}valueOf(){return JSON.stringify(this)}}n.ForloopDrop=i},{"./drop":70}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../util/underscore");n.isComparable=function(e){return e&&r.isFunction(e.equals)}},{"../util/underscore":110}],74:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./drop"),i=e("../util/underscore"),o=e("../drop/blank-drop");class s extends r.Drop{equals(e){return i.isNil(i.toValue(e))||e instanceof o.BlankDrop}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return null}}n.NullDrop=s},{"../drop/blank-drop":69,"../util/underscore":110,"./drop":70}],75:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./forloop-drop");class i extends r.ForloopDrop{constructor(e,t){super(e),this.length=e,this.cols=t}row(){return Math.floor(this.i/this.cols)+1}col0(){return this.i%this.cols}col(){return this.col0()+1}col_first(){return 0===this.col0()}col_last(){return this.col()===this.cols}}n.TablerowloopDrop=i},{"./forloop-drop":72}],76:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../util/underscore");n.default={readFile:function(e){return r(this,void 0,void 0,(function*(){return new Promise((t,n)=>{const r=new XMLHttpRequest;r.onload=()=>{r.status>=200&&r.status<300?t(r.responseText):n(new Error(r.statusText))},r.onerror=()=>{n(new Error("An error occurred whilst receiving the response."))},r.open("GET",e),r.send()})}))},resolve:function(e,t,n){return e.length&&"/"!==i.last(e)&&(e+="/"),function(e,t){const n=document.createElement("base");n.href=e;const r=document.getElementsByTagName("head")[0];r.insertBefore(n,r.firstChild);const i=document.createElement("a");i.href=t;const o=i.href;return r.removeChild(n),o}(e,t).replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,(e,t,r)=>{const i=r.split("/").pop();return/\.\w+$/.test(i)?e:t+r+n})},exists:function(){return r(this,void 0,void 0,(function*(){return!0}))},existsSync:function(){return!0},readFileSync:function(e){const t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(),t.status<200||t.status>=300)throw new Error(t.statusText);return t.responseText}}},{"../util/underscore":110}],77:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./util/underscore"),i={root:["."],cache:!1,extname:"",dynamicPartials:!0,trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",strictFilters:!1,strictVariables:!1};function o(e){return r.isArray(e)?e:r.isString(e)?[e]:[]}n.normalize=function(e){return(e=e||{}).hasOwnProperty("root")&&(e.root=o(e.root)),e},n.applyDefault=function(e){return Object.assign(Object.assign({},i),e)},n.normalizeStringArray=o},{"./util/underscore":110}],78:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});const i=e("./context/context"),o=e("./fs/node"),s=e("./util/underscore"),a=e("./parser/tokenizer"),u=e("./render/render"),l=e("./template/tag/tag"),c=e("./template/filter/filter"),p=e("./parser/parser"),f=e("./template/value"),h=e("./builtin/tags"),d=e("./builtin/filters"),m=e("./liquid-options"),g=e("./util/async");!function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./types"));class y{constructor(e={}){this.cache={},this.options=m.applyDefault(m.normalize(e)),this.parser=new p.default(this),this.renderer=new u.Render,this.tokenizer=new a.Tokenizer(this.options),this.fs=e.fs||o.default,s.forOwn(h.default,(e,t)=>this.registerTag(t,e)),s.forOwn(d.default,(e,t)=>this.registerFilter(t,e))}parse(e,t){const n=this.tokenizer.tokenize(e,t);return this.parser.parse(n)}_render(e,t,n,r){const o=Object.assign(Object.assign({},this.options),m.normalize(n)),s=new i.Context(t,o,r);return this.renderer.renderTemplates(e,s)}render(e,t,n){return r(this,void 0,void 0,(function*(){return g.toThenable(this._render(e,t,n,!1))}))}renderSync(e,t,n){return g.toValue(this._render(e,t,n,!0))}_parseAndRender(e,t,n,r){const i=this.parse(e);return this._render(i,t,n,r)}parseAndRender(e,t,n){return r(this,void 0,void 0,(function*(){return g.toThenable(this._parseAndRender(e,t,n,!1))}))}parseAndRenderSync(e,t,n){return g.toValue(this._parseAndRender(e,t,n,!0))}*_parseFile(e,t,n){const r=Object.assign(Object.assign({},this.options),m.normalize(t)),i=r.root.map(t=>this.fs.resolve(t,e,r.extname));if(void 0!==this.fs.fallback){const t=this.fs.fallback(e);void 0!==t&&i.push(t)}for(const e of i){if(this.options.cache&&this.cache[e])return this.cache[e];if(!(n?this.fs.existsSync(e):yield this.fs.exists(e)))continue;const t=this.parse(n?this.fs.readFileSync(e):yield this.fs.readFile(e),e);return this.cache[e]=t}throw this.lookupError(e,r.root)}parseFile(e,t){return r(this,void 0,void 0,(function*(){return g.toThenable(this._parseFile(e,t,!1))}))}parseFileSync(e,t){return g.toValue(this._parseFile(e,t,!0))}renderFile(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield this.parseFile(e,n);return this.render(r,t,n)}))}renderFileSync(e,t,n){const r=m.normalize(n),i=this.parseFileSync(e,r);return this.renderSync(i,t,n)}_evalValue(e,t){return new f.Value(e,this.options.strictFilters).value(t)}evalValue(e,t){return r(this,void 0,void 0,(function*(){return g.toThenable(this._evalValue(e,t))}))}evalValueSync(e,t){return g.toValue(this._evalValue(e,t))}registerFilter(e,t){return c.Filter.register(e,t)}registerTag(e,t){return l.Tag.register(e,t)}plugin(e){return e.call(this,y)}express(){const e=this;return function(t,n,r){const i={root:[...m.normalizeStringArray(this.root),...e.options.root]};e.renderFile(t,n,i).then(e=>r(null,e),r)}}lookupError(e,t){const n=new Error("ENOENT");return n.message=`ENOENT: Failed to lookup "${e}" in "${t}"`,n.code="ENOENT",n}getTemplate(e,t){return r(this,void 0,void 0,(function*(){return this.parseFile(e,t)}))}getTemplateSync(e,t){return this.parseFileSync(e,t)}}n.Liquid=y},{"./builtin/filters":43,"./builtin/tags":61,"./context/context":68,"./fs/node":76,"./liquid-options":77,"./parser/parser":86,"./parser/tokenizer":89,"./render/render":96,"./template/filter/filter":98,"./template/tag/tag":102,"./template/value":104,"./types":105,"./util/async":107,"./util/underscore":110}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./token"),i=e("../util/underscore");class o extends r.Token{constructor(e,t,n,r,o,s,a,u){super(e,n,r,o,u);const l="-"===t[0],c="-"===i.last(t);this.value=t.slice(l?1:0,c?-1:t.length).trim(),this.trimLeft=l||s,this.trimRight=c||a}}n.DelimitedToken=o},{"../util/underscore":110,"./token":88}],80:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.flatten=function(t){return e.from(t).toString()}}).call(this,e("buffer").Buffer)},{buffer:27}],81:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./token");class i extends r.Token{constructor(e,t,n,r,i){super(e,t,n,r,i),this.type="html",this.value=e}static is(e){return"html"===e.type}}n.HTMLToken=i},{"./token":88}],82:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.quoted=new RegExp(`${/'[^']*'/.source}|${/"[^"]*"/.source}`),n.quoteBalanced=new RegExp(`(?:${n.quoted.source}|[^'"])*`),n.number=/[+-]?(?:\d+\.?\d*|\.?\d+)/,n.bool=/true|false/,n.identifier=/[\w-]+[?]?/,n.subscript=new RegExp(`\\[(?:${n.quoted.source}|[\\w-\\.]+)\\]`),n.literal=new RegExp(`(?:${n.quoted.source}|${n.bool.source}|${n.number.source})`),n.variable=new RegExp(`${n.identifier.source}(?:\\.${n.identifier.source}|${n.subscript.source})*`),n.rangeLimit=new RegExp(`(?:${n.variable.source}|${n.number.source})`),n.range=new RegExp(`\\(${n.rangeLimit.source}\\.\\.${n.rangeLimit.source}\\)`),n.rangeCapture=new RegExp(`\\((${n.rangeLimit.source})\\.\\.(${n.rangeLimit.source})\\)`),n.value=new RegExp(`(?:${n.variable.source}|${n.literal.source}|${n.range.source})`),n.hash=new RegExp(`(?:${n.identifier.source})\\s*:\\s*(?:${n.value.source})`),n.hashCapture=new RegExp(`(${n.identifier.source})\\s*:\\s*(${n.value.source})`,"g"),n.tagLine=new RegExp(`^\\s*(${n.identifier.source})\\s*([\\s\\S]*?)\\s*$`),n.numberLine=new RegExp(`^${n.number.source}$`),n.boolLine=new RegExp(`^${n.bool.source}$`,"i"),n.quotedLine=new RegExp(`^${n.quoted.source}$`),n.rangeLine=new RegExp(`^${n.rangeCapture.source}$`),n.operators=[/\s+or\s+/,/\s+and\s+/,/==|!=|<=|>=|<|>|\s+contains\s+/],n.isRange=function(e){return n.rangeLine.test(e)}},{}],83:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../util/underscore"),i=e("../drop/null-drop"),o=e("../drop/empty-drop"),s=e("../drop/blank-drop");n.parseLiteral=function(e){return"true"===(e=e.trim())||"false"!==e&&("nil"===e||"null"===e?new i.NullDrop:"empty"===e?new o.EmptyDrop:"blank"===e?new s.BlankDrop:isNaN(Number(e))?'"'!==e[0]&&"'"!==e[0]||e[0]!==r.last(e)?void 0:e.slice(1,-1):Number(e))}},{"../drop/blank-drop":69,"../drop/empty-drop":71,"../drop/null-drop":74,"../util/underscore":110}],84:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./delimited-token");class i extends r.DelimitedToken{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,o.trimOutputLeft,o.trimOutputRight,s),this.type="output"}static is(e){return"output"===e.type}}n.OutputToken=i},{"./delimited-token":79}],85:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./tag-token");n.ParseStream=class{constructor(e,t){this.handlers={},this.stopRequested=!1,this.tokens=e,this.parseToken=t}on(e,t){return this.handlers[e]=t,this}trigger(e,t){const n=this.handlers[e];return!!n&&(n(t),!0)}start(){let e;for(this.trigger("start");!this.stopRequested&&(e=this.tokens.shift());){if(this.trigger("token",e))continue;if(r.TagToken.is(e)&&this.trigger(`tag:${e.name}`,e))continue;const t=this.parseToken(e,this.tokens);this.trigger("template",t)}return this.stopRequested||this.trigger("end"),this}stop(){return this.stopRequested=!0,this}}},{"./tag-token":87}],86:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../util/error"),i=e("./parse-stream"),o=e("./tag-token"),s=e("./output-token"),a=e("../template/tag/tag"),u=e("../template/output"),l=e("../template/html");n.default=class{constructor(e){this.liquid=e}parse(e){let t;const n=[];for(;t=e.shift();)n.push(this.parseToken(t,e));return n}parseToken(e,t){try{return o.TagToken.is(e)?new a.Tag(e,t,this.liquid):s.OutputToken.is(e)?new u.Output(e,this.liquid.options.strictFilters):new l.HTML(e)}catch(t){throw new r.ParseError(t,e)}}parseStream(e){return new i.ParseStream(e,(e,t)=>this.parseToken(e,t))}}},{"../template/html":99,"../template/output":100,"../template/tag/tag":102,"../util/error":108,"./output-token":84,"./parse-stream":85,"./tag-token":87}],87:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./delimited-token"),i=e("../util/error"),o=e("./lexical");class s extends r.DelimitedToken{constructor(e,t,n,r,s,a,u){super(e,t,n,r,s,a.trimTagLeft,a.trimTagRight,u),this.type="tag";const l=this.value.match(o.tagLine);if(!l)throw new i.TokenizationError("illegal tag syntax",this);this.name=l[1],this.args=l[2]}static is(e){return"tag"===e.type}}n.TagToken=s},{"../util/error":108,"./delimited-token":79,"./lexical":82}],88:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.Token=class{constructor(e,t,n,r,i){this.trimLeft=!1,this.trimRight=!1,this.type="notset",this.col=r,this.line=n,this.raw=e,this.value=e,this.input=t,this.file=i}}},{}],89:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./whitespace-ctrl"),i=e("./html-token"),o=e("./tag-token"),s=e("./token"),a=e("./output-token"),u=e("../util/error"),l=e("../liquid-options"),c=e("./flatten/node");var p,f;(f=p||(p={}))[f.HTML=0]="HTML",f[f.OUTPUT=1]="OUTPUT",f[f.TAG=2]="TAG";n.Tokenizer=class{constructor(e){this.options=l.applyDefault(e)}tokenize(e,t){const n=[],{tagDelimiterLeft:l,tagDelimiterRight:f,outputDelimiterLeft:h,outputDelimiterRight:d}=this.options;let m=0,g=1,y=p.HTML,v="",b=0,w=1,T=1;for(;m<e.length;){if("\n"===e[m]&&(g++,b=m+1),y===p.HTML){if(e.substr(m,h.length)===h){v&&n.push(new i.HTMLToken(c.flatten(v),e,w,T,t)),v=h,w=g,T=m-b+1,m+=h.length,y=p.OUTPUT;continue}if(e.substr(m,l.length)===l){v&&n.push(new i.HTMLToken(c.flatten(v),e,w,T,t)),v=l,w=g,T=m-b+1,m+=l.length,y=p.TAG;continue}}else{if(y===p.OUTPUT&&e.substr(m,d.length)===d){v+=d,n.push(new a.OutputToken(c.flatten(v),v.slice(h.length,-d.length),e,w,T,this.options,t)),m+=d.length,v="",w=g,T=m-b+1,y=p.HTML;continue}if(e.substr(m,f.length)===f){v+=f,n.push(new o.TagToken(c.flatten(v),v.slice(l.length,-f.length),e,w,T,this.options,t)),m+=f.length,v="",w=g,T=m-b+1,y=p.HTML;continue}}v+=e[m++]}if(y!==p.HTML){const n=y===p.OUTPUT?"output":"tag",r=v.length>16?v.slice(0,13)+"...":v;throw new u.TokenizationError(`${n} "${r}" not closed`,new s.Token(c.flatten(v),e,w,T,t))}return v&&n.push(new i.HTMLToken(c.flatten(v),e,w,T,t)),r.whiteSpaceCtrl(n,this.options),n}}},{"../liquid-options":77,"../util/error":108,"./flatten/node":80,"./html-token":81,"./output-token":84,"./tag-token":87,"./token":88,"./whitespace-ctrl":90}],90:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../parser/tag-token"),i=e("../parser/html-token");function o(e,t){if(!e||!i.HTMLToken.is(e))return;const n=t?/\s+$/g:/[\t\r ]*$/g;e.value=e.value.replace(n,"")}function s(e,t){if(!e||!i.HTMLToken.is(e))return;const n=t?/^\s+/g:/^[\t\r ]*\n?/g;e.value=e.value.replace(n,"")}n.whiteSpaceCtrl=function(e,t){t=Object.assign({greedy:!0},t);let n=!1;for(let i=0;i<e.length;i++){const a=e[i];!n&&a.trimLeft&&o(e[i-1],t.greedy),r.TagToken.is(a)&&("raw"===a.name?n=!0:"endraw"===a.name&&(n=!1)),!n&&a.trimRight&&s(e[i+1],t.greedy)}}},{"../parser/html-token":81,"../parser/tag-token":87}],91:[function(e,t,n){"use strict";function r(e){return!1===e||null==e}Object.defineProperty(n,"__esModule",{value:!0}),n.isTruthy=function(e){return!r(e)},n.isFalsy=r},{}],92:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.Emitter=class{constructor(){this.html="",this.break=!1,this.continue=!1}write(e){this.html+=e}}},{}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../util/assert"),i=e("./range"),o=e("./value"),s=e("../util/underscore"),a=e("./operator");function*u(e){const t=[];for(const n of function*(e){const t=e.length;let n="";const r={'"':'"',"'":"'","[":"]","(":")"};for(let i=0;i<t;i++){const o=e[i];switch(o){case"[":case'"':case"'":for(n+=o;i+1<t&&(n+=e[++i],e[i]!==r[o]););break;case" ":case"\t":case"\n":n&&(yield n),n="";break;default:n+=o}}n&&(yield n)}(e))if(a.isOperator(n)){for(;t.length&&a.precedence[t[t.length-1]]>a.precedence[n];)yield t.pop();t.push(n)}else yield n;for(;t.length;)yield t.pop()}n.Expression=class{constructor(e=""){this.operands=[],this.postfix=[...u(e)]}*evaluate(e){r.assert(e,"unable to evaluate: context not defined");for(const t of this.postfix)a.isOperator(t)?this.evaluateOnce(t):i.isRange(t)?this.operands.push(yield i.rangeValue(t,e)):this.operands.push(yield new o.Value(t).evaluate(e));return this.operands[0]}*value(e){return s.toValue(yield this.evaluate(e))}evaluateOnce(e){const t=this.operands.pop(),n=this.operands.pop(),r=a.operatorImpls[e](n,t);this.operands.push(r)}}},{"../util/assert":106,"../util/underscore":110,"./operator":94,"./range":95,"./value":97}],94:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../drop/icomparable"),i=e("../util/underscore"),o=e("../render/boolean");n.precedence={"==":1,"!=":1,">":1,"<":1,">=":1,"<=":1,contains:1,and:0,or:0},n.operatorImpls={"==":(e,t)=>r.isComparable(e)?e.equals(t):r.isComparable(t)?t.equals(e):e===t,"!=":(e,t)=>r.isComparable(e)?!e.equals(t):r.isComparable(t)?!t.equals(e):e!==t,">":(e,t)=>r.isComparable(e)?e.gt(t):r.isComparable(t)?t.lt(e):e>t,"<":(e,t)=>r.isComparable(e)?e.lt(t):r.isComparable(t)?t.gt(e):e<t,">=":(e,t)=>r.isComparable(e)?e.geq(t):r.isComparable(t)?t.leq(e):e>=t,"<=":(e,t)=>r.isComparable(e)?e.leq(t):r.isComparable(t)?t.geq(e):e<=t,contains:(e,t)=>!(!e||!i.isFunction(e.indexOf))&&e.indexOf(t)>-1,and:(e,t)=>o.isTruthy(e)&&o.isTruthy(t),or:(e,t)=>o.isTruthy(e)||o.isTruthy(t)};const s=Object.keys(n.precedence);n.isOperator=function(e){return s.includes(e)}},{"../drop/icomparable":73,"../render/boolean":91,"../util/underscore":110}],95:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../parser/lexical"),i=e("../util/underscore"),o=e("./value");n.isRange=function(e){return"("===e[0]&&")"===e[e.length-1]},n.rangeValue=function*(e,t){let n;if(n=e.match(r.rangeLine)){const e=yield new o.Value(n[1]).value(t),r=yield new o.Value(n[2]).value(t);return i.range(+e,+r+1)}}},{"../parser/lexical":82,"../util/underscore":110,"./value":97}],96:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../util/error"),i=e("./emitter");n.Render=class{*renderTemplates(e,t,n=new i.Emitter){for(const i of e)try{const e=yield i.render(t,n);if(e&&n.write(e),n.break||n.continue)break}catch(e){throw r.RenderError.is(e)?e:new r.RenderError(e,i)}return n.html}}},{"../util/error":108,"./emitter":92}],97:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../util/underscore"),i=e("../parser/literal");n.Value=class{constructor(e){this.str=e}evaluate(e){const t=i.parseLiteral(this.str);return void 0!==t?t:e.get(this.str)}value(e){return r.toValue(this.evaluate(e))}}},{"../parser/literal":83,"../util/underscore":110}],98:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../render/expression"),i=e("../../util/underscore");class o{constructor(e,t,n){const r=o.impls[e];if(!r&&n)throw new TypeError(`undefined filter: ${e}`);this.name=e,this.impl=r||i.identify,this.args=t}*render(e,t){const n=[];for(const e of this.args)s(e)?n.push([e[0],yield new r.Expression(e[1]).evaluate(t)]):n.push(yield new r.Expression(e).evaluate(t));return this.impl.apply({context:t},[e,...n])}static register(e,t){o.impls[e]=t}static clear(){o.impls={}}}function s(e){return i.isArray(e)}n.Filter=o,o.impls={}},{"../../render/expression":93,"../../util/underscore":110}],99:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../template/template");class i extends r.Template{constructor(e){super(e),this.str=e.value}*render(e,t){t.write(this.str)}}n.HTML=i},{"../template/template":103}],100:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./value"),i=e("../util/underscore"),o=e("../template/template");class s extends o.Template{constructor(e,t){super(e),this.value=new r.Value(e.value,t)}*render(e,t){const n=yield this.value.value(e);t.write(i.stringify(i.toValue(n)))}}n.Output=s},{"../template/template":103,"../util/underscore":110,"./value":104}],101:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../parser/lexical"),i=e("../../render/expression");class o{static parse(e){const t=new o;let n;for(r.hashCapture.lastIndex=0;n=r.hashCapture.exec(e);){const e=n[1],r=n[2];t[e]=r}return t}static*create(e,t){const n=o.parse(e);for(const e of Object.keys(n))n[e]=yield new i.Expression(n[e]).evaluate(t);return n}}n.Hash=o},{"../../parser/lexical":82,"../../render/expression":93}],102:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../util/underscore"),i=e("../../util/assert"),o=e("../../template/template"),s=e("../../types");class a extends o.Template{constructor(e,t,n){super(e),this.name=e.name;const r=a.impls[e.name];i.assert(r,`tag ${e.name} not found`),this.impl=Object.create(r),this.impl.liquid=n,this.impl.parse&&this.impl.parse(e,t)}*render(e,t){const n=yield s.Hash.create(this.token.args,e),i=this.impl;if(r.isFunction(i.render))return yield i.render(e,n,t)}static register(e,t){a.impls[e]=t}static clear(){a.impls={}}}n.Tag=a,a.impls={}},{"../../template/template":103,"../../types":105,"../../util/assert":106,"../../util/underscore":110}],103:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.Template=class{constructor(e){this.token=e}}},{}],104:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../render/expression"),i=e("./filter/filter");class o{constructor(e,t){this.filters=[];const n=o.tokenize(e);this.strictFilters=t,this.initial=n[0],this.parseFilters(n,1)}parseFilters(e,t){let n=t;for(;n<e.length;){if("|"!==e[n]){n++;continue}const t=++n;for(;n<e.length&&"|"!==e[n];)n++;this.parseFilter(e,t,n)}}parseFilter(e,t,n){const r=e[t],o=[];let s,a;for(let r=t+1;r<n+1;r++)r===n||","===e[r]?((s||a)&&o.push(s?[s,a]:a),a=s=void 0):":"===e[r]?(s=a,a=void 0):void 0===a&&(a=e[r]);this.filters.push(new i.Filter(r,o,this.strictFilters))}*value(e){let t=yield new r.Expression(this.initial).evaluate(e);for(const n of this.filters)t=yield n.render(t,e);return t}static tokenize(e){const t=[];let n=0;for(;n<e.length;){const r=e[n];if('"'===r||"'"===r){const i=n;for(n+=2;n<e.length&&e[n-1]!==r;++n);t.push(e.slice(i,n))}else if(/\s/.test(r))n++;else if(/[|,:]/.test(r))t.push(e[n++]);else{const r=n++;let i;for(;n<e.length&&!/[|,:\s]/.test(i=e[n]);++n)if('"'===i||"'"===i)for(n+=2;n<e.length&&e[n-1]!==i;++n);t.push(e.slice(r,n))}}return t}}n.Value=o},{"../render/expression":93,"./filter/filter":98}],105:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./util/error");n.ParseError=r.ParseError,n.TokenizationError=r.TokenizationError,n.AssertionError=r.AssertionError;var i=e("./drop/drop");n.Drop=i.Drop;var o=e("./render/emitter");n.Emitter=o.Emitter;var s=e("./render/expression");n.Expression=s.Expression;var a=e("./render/boolean");n.isFalsy=a.isFalsy,n.isTruthy=a.isTruthy;var u=e("./parser/tag-token");n.TagToken=u.TagToken;var l=e("./context/context");n.Context=l.Context;var c=e("./parser/parse-stream");n.ParseStream=c.ParseStream;var p=e("./parser/token");n.Token=p.Token;var f=e("./template/tag/hash");n.Hash=f.Hash},{"./context/context":68,"./drop/drop":70,"./parser/parse-stream":85,"./parser/tag-token":87,"./parser/token":88,"./render/boolean":91,"./render/emitter":92,"./render/expression":93,"./template/tag/hash":101,"./util/error":108}],106:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./error");n.assert=function(e,t){if(!e)throw t=t||`expect ${e} to be true`,new r.AssertionError(t)}},{"./error":108}],107:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./underscore");function i(e){const t={then:t=>t(e),catch:()=>t};return t}function o(e){const t={then:(n,r)=>r?r(e):t,catch:t=>t(e)};return t}function s(e){return function(e){return e&&r.isFunction(e.then)}(e)?e:function(e){return e&&r.isFunction(e.next)&&r.isFunction(e.throw)&&r.isFunction(e.return)}(e)?function t(n){let r;try{r=e.next(n)}catch(e){return o(e)}return r.done?i(r.value):s(r.value).then(t,n=>{let r;try{r=e.throw(n)}catch(e){return o(e)}return r.done?i(r.value):t(r.value)})}():i(e)}n.toThenable=s,n.toValue=function(e){let t;return s(e).then(e=>(t=e,i(t))).catch(e=>{throw e}),t}},{"./underscore":110}],108:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./underscore");class i extends Error{constructor(e,t){super(e.message),this.originalError=e,this.token=t}update(){const e=this.originalError,t=function(e){const t=e.input.split("\n"),n=Math.max(e.line-2,1),i=Math.min(e.line+3,t.length);return r.range(n,i+1).map(n=>`${n===e.line?">> ":"   "}${r.padStart(String(n),String(i).length)}| ${t[n-1]}`).join("\n")}(this.token);this.message=function(e,t){return t.file&&(e+=`, file:${t.file}`),e+=`, line:${t.line}, col:${t.col}`}(e.message,this.token),this.stack=this.message+"\n"+t+"\n"+this.stack+"\nFrom "+e.stack}}n.TokenizationError=class extends i{constructor(e,t){super(new Error(e),t),this.name="TokenizationError",super.update()}};n.ParseError=class extends i{constructor(e,t){super(e,t),this.name="ParseError",this.message=e.message,super.update()}};class o extends i{constructor(e,t){super(e,t.token),this.name="RenderError",this.message=e.message,super.update()}static is(e){return e instanceof o}}n.RenderError=o;class s extends Error{constructor(e){super(e),this.name="AssertionError",this.message=e+""}}n.AssertionError=s},{"./underscore":110}],109:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./underscore"),i=/%([-_0^#:]+)?(\d+)?([EO])?(.)/,o=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=o.map(c),u=s.map(c),l={1:"st",2:"nd",3:"rd",default:"th"};function c(e){return e.slice(0,3)}function p(e){return[31,d(e)?29:28,31,30,31,30,31,31,30,31,30,31]}function f(e){let t=0;for(let n=0;n<e.getMonth();++n)t+=p(e)[n];return t+e.getDate()}function h(e,t){const n=f(e)+(t-e.getDay()),r=7-new Date(e.getFullYear(),0,1).getDay()+t;return String(Math.floor((n-r)/7)+1)}function d(e){const t=e.getFullYear();return!(0!=(3&t)||!(t%100||t%400==0&&t))}const m={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},g={a:" ",A:" ",b:" ",B:" ",c:" ",e:" ",k:" ",l:" ",p:" ",P:" "},y={a:e=>u[e.getDay()],A:e=>s[e.getDay()],b:e=>a[e.getMonth()],B:e=>o[e.getMonth()],c:e=>e.toLocaleString(),C:e=>function(e){return parseInt(e.getFullYear().toString().substring(0,2),10)}(e),d:e=>e.getDate(),e:e=>e.getDate(),H:e=>e.getHours(),I:e=>String(e.getHours()%12||12),j:e=>f(e),k:e=>e.getHours(),l:e=>String(e.getHours()%12||12),L:e=>e.getMilliseconds(),m:e=>e.getMonth()+1,M:e=>e.getMinutes(),N:(e,t)=>{const n=Number(t.width)||9,i=String(e.getMilliseconds()).substr(0,n);return r.padEnd(i,n,"0")},p:e=>e.getHours()<12?"AM":"PM",P:e=>e.getHours()<12?"am":"pm",q:e=>function(e){const t=e.getDate().toString(),n=parseInt(t.slice(-1));return l[n]||l.default}(e),s:e=>Math.round(e.valueOf()/1e3),S:e=>e.getSeconds(),u:e=>e.getDay()||7,U:e=>h(e,0),w:e=>e.getDay(),W:e=>h(e,1),x:e=>e.toLocaleDateString(),X:e=>e.toLocaleTimeString(),y:e=>e.getFullYear().toString().substring(2,4),Y:e=>e.getFullYear(),z:(e,t)=>{const n=e.getTimezoneOffset(),i=Math.abs(n),o=Math.floor(i/60),s=i%60;return(n>0?"-":"+")+r.padStart(o,2,"0")+(t.flags[":"]?":":"")+r.padStart(s,2,"0")},t:()=>"\t",n:()=>"\n","%":()=>"%"};function v(e,t){const[n,i="",o,s,a]=t,u=y[a];if(!u)return n;const l={};for(const e of i)l[e]=!0;let c=String(u(e,{flags:l,width:o,modifier:s})),p=g[a]||"0",f=o||m[a]||0;return l["^"]?c=c.toUpperCase():l["#"]&&(c=r.changeCase(c)),l._?p=" ":l[0]&&(p="0"),l["-"]&&(f=0),r.padStart(c,f,p)}y.h=y.b,n.default=function(e,t){let n,r="",o=t;for(;n=i.exec(o);)r+=o.slice(0,n.index),o=o.slice(n.index+n[0].length),r+=v(e,n);return r+o}},{"./underscore":110}],110:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../drop/drop"),i=Object.prototype.toString;function o(e){return"function"==typeof e}function s(e){return e instanceof r.Drop?e.valueOf():e}function a(e){return null==e}function u(e,t,n,r){let i=t-(e=String(e)).length;for(;i-- >0;)e=r(e,n);return e}n.isString=function(e){return"[object String]"===i.call(e)},n.isFunction=o,n.promisify=function(e){return function(...t){return new Promise((n,r)=>{e(...t,(e,t)=>{e?r(e):n(t)})})}},n.stringify=function(e){return a(e=s(e))?"":String(e)},n.toValue=s,n.isNumber=function(e){return"number"==typeof e},n.toLiquid=function e(t){return t&&o(t.toLiquid)?e(t.toLiquid()):t},n.isNil=a,n.isArray=function(e){return"[object Array]"===i.call(e)},n.forOwn=function(e,t){e=e||{};for(const n in e)if(e.hasOwnProperty(n)&&!1===t(e[n],n,e))break;return e},n.last=function(e){return e[e.length-1]},n.isObject=function(e){const t=typeof e;return null!==e&&("object"===t||"function"===t)},n.range=function(e,t,n=1){const r=[];for(let i=e;i<t;i+=n)r.push(i);return r},n.padStart=function(e,t,n=" "){return u(e,t,n,(e,t)=>t+e)},n.padEnd=function(e,t,n=" "){return u(e,t,n,(e,t)=>e+t)},n.pad=u,n.identify=function(e){return e},n.changeCase=function(e){return[...e].some(e=>e>="a"&&e<="z")?e.toUpperCase():e.toLowerCase()}},{"../drop/drop":70}],111:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);var o=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")};n.default=o,t.exports=n.default},{}],112:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return s.default}});var r=a(e("./v1.js")),i=a(e("./v3.js")),o=a(e("./v4.js")),s=a(e("./v5.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"./v1.js":116,"./v3.js":117,"./v4.js":119,"./v5.js":120}],113:[function(e,t,n){"use strict";function r(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,i,o,s){return r((a=r(r(t,e),r(i,s)))<<(u=o)|a>>>32-u,n);var a,u}function o(e,t,n,r,o,s,a){return i(t&n|~t&r,e,t,o,s,a)}function s(e,t,n,r,o,s,a){return i(t&r|n&~r,e,t,o,s,a)}function a(e,t,n,r,o,s,a){return i(t^n^r,e,t,o,s,a)}function u(e,t,n,r,o,s,a){return i(n^(t|~r),e,t,o,s,a)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var n=0;n<t.length;n++)e[n]=t.charCodeAt(n)}return function(e){var t,n,r,i=[],o=32*e.length;for(t=0;t<o;t+=8)n=e[t>>5]>>>t%32&255,r=parseInt("0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n),16),i.push(r);return i}(function(e,t){var n,i,l,c,p;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var f=1732584193,h=-271733879,d=-1732584194,m=271733878;for(n=0;n<e.length;n+=16)i=f,l=h,c=d,p=m,f=o(f,h,d,m,e[n],7,-680876936),m=o(m,f,h,d,e[n+1],12,-389564586),d=o(d,m,f,h,e[n+2],17,606105819),h=o(h,d,m,f,e[n+3],22,-1044525330),f=o(f,h,d,m,e[n+4],7,-176418897),m=o(m,f,h,d,e[n+5],12,1200080426),d=o(d,m,f,h,e[n+6],17,-1473231341),h=o(h,d,m,f,e[n+7],22,-45705983),f=o(f,h,d,m,e[n+8],7,1770035416),m=o(m,f,h,d,e[n+9],12,-1958414417),d=o(d,m,f,h,e[n+10],17,-42063),h=o(h,d,m,f,e[n+11],22,-1990404162),f=o(f,h,d,m,e[n+12],7,1804603682),m=o(m,f,h,d,e[n+13],12,-40341101),d=o(d,m,f,h,e[n+14],17,-1502002290),h=o(h,d,m,f,e[n+15],22,1236535329),f=s(f,h,d,m,e[n+1],5,-165796510),m=s(m,f,h,d,e[n+6],9,-1069501632),d=s(d,m,f,h,e[n+11],14,643717713),h=s(h,d,m,f,e[n],20,-373897302),f=s(f,h,d,m,e[n+5],5,-701558691),m=s(m,f,h,d,e[n+10],9,38016083),d=s(d,m,f,h,e[n+15],14,-660478335),h=s(h,d,m,f,e[n+4],20,-405537848),f=s(f,h,d,m,e[n+9],5,568446438),m=s(m,f,h,d,e[n+14],9,-1019803690),d=s(d,m,f,h,e[n+3],14,-187363961),h=s(h,d,m,f,e[n+8],20,1163531501),f=s(f,h,d,m,e[n+13],5,-1444681467),m=s(m,f,h,d,e[n+2],9,-51403784),d=s(d,m,f,h,e[n+7],14,1735328473),h=s(h,d,m,f,e[n+12],20,-1926607734),f=a(f,h,d,m,e[n+5],4,-378558),m=a(m,f,h,d,e[n+8],11,-2022574463),d=a(d,m,f,h,e[n+11],16,1839030562),h=a(h,d,m,f,e[n+14],23,-35309556),f=a(f,h,d,m,e[n+1],4,-1530992060),m=a(m,f,h,d,e[n+4],11,1272893353),d=a(d,m,f,h,e[n+7],16,-155497632),h=a(h,d,m,f,e[n+10],23,-1094730640),f=a(f,h,d,m,e[n+13],4,681279174),m=a(m,f,h,d,e[n],11,-358537222),d=a(d,m,f,h,e[n+3],16,-722521979),h=a(h,d,m,f,e[n+6],23,76029189),f=a(f,h,d,m,e[n+9],4,-640364487),m=a(m,f,h,d,e[n+12],11,-421815835),d=a(d,m,f,h,e[n+15],16,530742520),h=a(h,d,m,f,e[n+2],23,-995338651),f=u(f,h,d,m,e[n],6,-198630844),m=u(m,f,h,d,e[n+7],10,1126891415),d=u(d,m,f,h,e[n+14],15,-1416354905),h=u(h,d,m,f,e[n+5],21,-57434055),f=u(f,h,d,m,e[n+12],6,1700485571),m=u(m,f,h,d,e[n+3],10,-1894986606),d=u(d,m,f,h,e[n+10],15,-1051523),h=u(h,d,m,f,e[n+1],21,-2054922799),f=u(f,h,d,m,e[n+8],6,1873313359),m=u(m,f,h,d,e[n+15],10,-30611744),d=u(d,m,f,h,e[n+6],15,-1560198380),h=u(h,d,m,f,e[n+13],21,1309151649),f=u(f,h,d,m,e[n+4],6,-145523070),m=u(m,f,h,d,e[n+11],10,-1120210379),d=u(d,m,f,h,e[n+2],15,718787259),h=u(h,d,m,f,e[n+9],21,-343485551),f=r(f,i),h=r(h,l),d=r(d,c),m=r(m,p);return[f,h,d,m]}(function(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e[t/8])<<t%32;return n}(e),8*e.length))};n.default=l,t.exports=n.default},{}],114:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)};var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);t.exports=n.default},{}],115:[function(e,t,n){"use strict";function r(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var o=unescape(encodeURIComponent(e));e=new Array(o.length);for(var s=0;s<o.length;s++)e[s]=o.charCodeAt(s)}e.push(128);var a=e.length/4+2,u=Math.ceil(a/16),l=new Array(u);for(s=0;s<u;s++){l[s]=new Array(16);for(var c=0;c<16;c++)l[s][c]=e[64*s+4*c]<<24|e[64*s+4*c+1]<<16|e[64*s+4*c+2]<<8|e[64*s+4*c+3]}for(l[u-1][14]=8*(e.length-1)/Math.pow(2,32),l[u-1][14]=Math.floor(l[u-1][14]),l[u-1][15]=8*(e.length-1)&4294967295,s=0;s<u;s++){for(var p=new Array(80),f=0;f<16;f++)p[f]=l[s][f];for(f=16;f<80;f++)p[f]=i(p[f-3]^p[f-8]^p[f-14]^p[f-16],1);var h=n[0],d=n[1],m=n[2],g=n[3],y=n[4];for(f=0;f<80;f++){var v=Math.floor(f/20),b=i(h,5)+r(v,d,m,g)+y+t[v]+p[f]>>>0;y=g,g=m,m=i(d,30)>>>0,d=h,h=b}n[0]=n[0]+h>>>0,n[1]=n[1]+d>>>0,n[2]=n[2]+m>>>0,n[3]=n[3]+g>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]};n.default=o,t.exports=n.default},{}],116:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i,o=a(e("./rng.js")),s=a(e("./bytesToUuid.js"));function a(e){return e&&e.__esModule?e:{default:e}}var u=0,l=0;var c=function(e,t,n){var a=t&&n||0,c=t||[],p=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==p||null==f){var h=e.random||(e.rng||o.default)();null==p&&(p=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==f&&(f=i=16383&(h[6]<<8|h[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=d-u+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||d>u)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=d,l=m,i=f;var y=(1e4*(268435455&(d+=122192928e5))+m)%4294967296;c[a++]=y>>>24&255,c[a++]=y>>>16&255,c[a++]=y>>>8&255,c[a++]=255&y;var v=d/4294967296*1e4&268435455;c[a++]=v>>>8&255,c[a++]=255&v,c[a++]=v>>>24&15|16,c[a++]=v>>>16&255,c[a++]=f>>>8|128,c[a++]=255&f;for(var b=0;b<6;++b)c[a+b]=p[b];return t||(0,s.default)(c)};n.default=c,t.exports=n.default},{"./bytesToUuid.js":111,"./rng.js":114}],117:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("./v35.js")),i=o(e("./md5.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("v3",48,i.default);n.default=s,t.exports=n.default},{"./md5.js":113,"./v35.js":118}],118:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var r=function(e,r,o,s){var a=o&&s||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)),"string"==typeof r&&(r=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(r)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(r)||16!==r.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var u=n(r.concat(e));if(u[6]=15&u[6]|t,u[8]=63&u[8]|128,o)for(var l=0;l<16;++l)o[a+l]=u[l];return o||(0,i.default)(u)};try{r.name=e}catch(e){}return r.DNS=o,r.URL=s,r},n.URL=n.DNS=void 0;var r,i=(r=e("./bytesToUuid.js"))&&r.__esModule?r:{default:r};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=o;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=s},{"./bytesToUuid.js":111}],119:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("./rng.js")),i=o(e("./bytesToUuid.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||(0,i.default)(s)};n.default=s,t.exports=n.default},{"./bytesToUuid.js":111,"./rng.js":114}],120:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("./v35.js")),i=o(e("./sha1.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("v5",80,i.default);n.default=s,t.exports=n.default},{"./sha1.js":115,"./v35.js":118}],121:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,p=n?i-1:0,f=n?-1:1,h=e[t+p];for(p+=f,o=h&(1<<-c)-1,h>>=-c,c+=a;c>0;o=256*o+e[t+p],p+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+p],p+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=l}return(h?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,p=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=c?(a=0,s=c):s+p>=1?(a=(t*u-1)*Math.pow(2,i),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[n+h]=255&s,h+=d,s/=256,l-=8);e[n+h-d]|=128*m}},{}],122:[function(e,t,n){(function(e){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.Popper=r()}(this,(function(){"use strict";var t="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,n=function(){for(var e=["Edge","Trident","Firefox"],n=0;n<e.length;n+=1)if(t&&navigator.userAgent.indexOf(e[n])>=0)return 1;return 0}();var r=t&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),n))}};function i(e){return e&&"[object Function]"==={}.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function a(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:a(s(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}var l=t&&!(!window.MSInputMethodContext||!document.documentMode),c=t&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?l:10===e?c:l||c}function f(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?f(n):n:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function d(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s,a,u=o.commonAncestorContainer;if(e!==u&&t!==u||r.contains(i))return"BODY"===(a=(s=u).nodeName)||"HTML"!==a&&f(s.firstElementChild)!==s?f(u):u;var l=h(e);return l.host?d(l.host,t):d(e,h(t).host)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||i;return o[n]}return e[n]}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=m(t,"top"),i=m(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}function y(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function v(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],p(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,n=e.documentElement,r=p(10)&&getComputedStyle(n);return{height:v("Height",t,n,r),width:v("Width",t,n,r)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _(e){return E({},e,{right:e.left+e.width,bottom:e.top+e.height})}function C(e){var t={};try{if(p(10)){t=e.getBoundingClientRect();var n=m(e,"top"),r=m(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?b(e.ownerDocument):{},a=s.width||e.clientWidth||i.width,u=s.height||e.clientHeight||i.height,l=e.offsetWidth-a,c=e.offsetHeight-u;if(l||c){var f=o(e);l-=y(f,"x"),c-=y(f,"y"),i.width-=l,i.height-=c}return _(i)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=p(10),i="HTML"===t.nodeName,s=C(e),u=C(t),l=a(e),c=o(t),f=parseFloat(c.borderTopWidth),h=parseFloat(c.borderLeftWidth);n&&i&&(u.top=Math.max(u.top,0),u.left=Math.max(u.left,0));var d=_({top:s.top-u.top-f,left:s.left-u.left-h,width:s.width,height:s.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var m=parseFloat(c.marginTop),y=parseFloat(c.marginLeft);d.top-=f-m,d.bottom-=f-m,d.left-=h-y,d.right-=h-y,d.marginTop=m,d.marginLeft=y}return(r&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(d=g(d,t)),d}function O(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=k(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:m(n),a=t?0:m(n,"left"),u={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o};return _(u)}function S(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var n=s(e);return!!n&&S(n)}function A(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function R(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},l=i?A(e):d(e,u(t));if("viewport"===r)o=O(l,i);else{var c=void 0;"scrollParent"===r?"BODY"===(c=a(s(t))).nodeName&&(c=e.ownerDocument.documentElement):c="window"===r?e.ownerDocument.documentElement:r;var p=k(c,l,i);if("HTML"!==c.nodeName||S(l))o=p;else{var f=b(e.ownerDocument),h=f.height,m=f.width;o.top+=p.top-p.marginTop,o.bottom=h+p.top,o.left+=p.left-p.marginLeft,o.right=m+p.left}}var g="number"==typeof(n=n||0);return o.left+=g?n:n.left||0,o.top+=g?n:n.top||0,o.right-=g?n:n.right||0,o.bottom-=g?n:n.bottom||0,o}function j(e){return e.width*e.height}function P(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=R(n,r,o,i),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},u=Object.keys(a).map((function(e){return E({key:e},a[e],{area:j(a[e])})})).sort((function(e,t){return t.area-e.area})),l=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),c=l.length>0?l[0].key:u[0].key,p=e.split("-")[1];return c+(p?"-"+p:"")}function M(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?A(t):d(t,u(n));return k(n,i,r)}function L(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function F(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function q(e,t,n){n=n.split("-")[0];var r=L(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",u=o?"height":"width",l=o?"width":"height";return i[s]=t[s]+t[u]/2-r[u]/2,i[a]=n===a?t[a]-r[l]:t[F(a)],i}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function I(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=D(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&i(n)&&(t.offsets.popper=_(t.offsets.popper),t.offsets.reference=_(t.offsets.reference),t=n(t,e))})),t}function U(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=M(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=P(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=q(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=I(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function B(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function N(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function $(){return this.state.isDestroyed=!0,B(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[N("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function H(e){var t=e.ownerDocument;return t?t.defaultView:window}function z(e,t,n,r){n.updateBound=r,H(e).addEventListener("resize",n.updateBound,{passive:!0});var i=a(e);return function e(t,n,r,i){var o="BODY"===t.nodeName,s=o?t.ownerDocument.defaultView:t;s.addEventListener(n,r,{passive:!0}),o||e(a(s.parentNode),n,r,i),i.push(s)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function V(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}function W(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,H(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Y(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function X(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Y(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var K=t&&/Firefox/i.test(navigator.userAgent);function G(e,t,n){var r=D(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Z=J.slice(3);function Q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Z.indexOf(e),r=Z.slice(n+1).concat(Z.slice(0,n));return t?r.reverse():r}var ee="flip",te="clockwise",ne="counterclockwise";function re(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(D(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==a?[s.slice(0,a).concat([s[a].split(u)[0]]),[s[a].split(u)[1]].concat(s.slice(a+1))]:[s];return(l=l.map((function(e,r){var i=(1===r?!o:o)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}return _(a)[t]/100*o}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){Y(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var ie={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),u=a?"left":"top",l=a?"width":"height",c={start:x({},u,o[u]),end:x({},u,o[u]+o[l]-s[l])};e.offsets.popper=E({},s,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],u=void 0;return u=Y(+n)?[+n,0]:re(n,o,s,a),"left"===a?(o.top+=u[0],o.left-=u[1]):"right"===a?(o.top+=u[0],o.left+=u[1]):"top"===a?(o.left+=u[0],o.top-=u[1]):"bottom"===a&&(o.left+=u[0],o.top+=u[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||f(e.instance.popper);e.instance.reference===n&&(n=f(n));var r=N("transform"),i=e.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var u=R(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=s,i[r]=a,t.boundaries=u;var l=t.priority,c=e.offsets.popper,p={primary:function(e){var n=c[e];return c[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(c[e],u[e])),x({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(c[n],u[e]-("right"===e?c.width:c.height))),x({},n,r)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=E({},c,p[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",u=s?"left":"top",l=s?"width":"height";return n[a]<o(r[u])&&(e.offsets.popper[u]=o(r[u])-n[l]),n[u]>o(r[a])&&(e.offsets.popper[u]=o(r[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!G(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],s=e.offsets,a=s.popper,u=s.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",p=l?"Top":"Left",f=p.toLowerCase(),h=l?"left":"top",d=l?"bottom":"right",m=L(r)[c];u[d]-m<a[f]&&(e.offsets.popper[f]-=a[f]-(u[d]-m)),u[f]+m>a[d]&&(e.offsets.popper[f]+=u[f]+m-a[d]),e.offsets.popper=_(e.offsets.popper);var g=u[f]+u[c]/2-m/2,y=o(e.instance.popper),v=parseFloat(y["margin"+p]),b=parseFloat(y["border"+p+"Width"]),w=g-e.offsets.popper[f]-v-b;return w=Math.max(Math.min(a[c]-m,w),0),e.arrowElement=r,e.offsets.arrow=(x(n={},f,Math.round(w)),x(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(B(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=R(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=F(r),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case ee:s=[r,i];break;case te:s=Q(r);break;case ne:s=Q(r,!0);break;default:s=t.behavior}return s.forEach((function(a,u){if(r!==a||s.length===u+1)return e;r=e.placement.split("-")[0],i=F(r);var l=e.offsets.popper,c=e.offsets.reference,p=Math.floor,f="left"===r&&p(l.right)>p(c.left)||"right"===r&&p(l.left)<p(c.right)||"top"===r&&p(l.bottom)>p(c.top)||"bottom"===r&&p(l.top)<p(c.bottom),h=p(l.left)<p(n.left),d=p(l.right)>p(n.right),m=p(l.top)<p(n.top),g=p(l.bottom)>p(n.bottom),y="left"===r&&h||"right"===r&&d||"top"===r&&m||"bottom"===r&&g,v=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(v&&"start"===o&&h||v&&"end"===o&&d||!v&&"start"===o&&m||!v&&"end"===o&&g),w=!!t.flipVariationsByContent&&(v&&"start"===o&&d||v&&"end"===o&&h||!v&&"start"===o&&g||!v&&"end"===o&&m),T=b||w;(f||y||T)&&(e.flipped=!0,(f||y)&&(r=s[u+1]),T&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=E({},e.offsets.popper,q(e.instance.popper,e.offsets.reference,e.placement)),e=I(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),e.placement=F(t),e.offsets.popper=_(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!G(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=D(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=D(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,a=f(e.instance.popper),u=C(a),l={position:i.position},c=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(e){return e},u=o(i.width),l=o(r.width),c=-1!==["left","right"].indexOf(e.placement),p=-1!==e.placement.indexOf("-"),f=t?c||p||u%2==l%2?o:s:a,h=t?o:a;return{left:f(u%2==1&&l%2==1&&!p&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!K),p="bottom"===n?"top":"bottom",h="right"===r?"left":"right",d=N("transform"),m=void 0,g=void 0;if(g="bottom"===p?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-u.height+c.bottom:c.top,m="right"===h?"HTML"===a.nodeName?-a.clientWidth+c.right:-u.width+c.right:c.left,s&&d)l[d]="translate3d("+m+"px, "+g+"px, 0)",l[p]=0,l[h]=0,l.willChange="transform";else{var y="bottom"===p?-1:1,v="right"===h?-1:1;l[p]=g*y,l[h]=m*v,l.willChange=p+", "+h}var b={"x-placement":e.placement};return e.attributes=E({},b,e.attributes),e.styles=E({},l,e.styles),e.arrowStyles=E({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return X(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&X(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=M(i,t,e,n.positionFixed),s=P(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),X(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},oe=function(){function e(t,n){var o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=r(this.update.bind(this)),this.options=E({},e.Defaults,s),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(E({},e.Defaults.modifiers,s.modifiers)).forEach((function(t){o.options.modifiers[t]=E({},e.Defaults.modifiers[t]||{},s.modifiers?s.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return E({name:e},o.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&i(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return T(e,[{key:"update",value:function(){return U.call(this)}},{key:"destroy",value:function(){return $.call(this)}},{key:"enableEventListeners",value:function(){return V.call(this)}},{key:"disableEventListeners",value:function(){return W.call(this)}}]),e}();return oe.Utils=("undefined"!=typeof window?window:e).PopperUtils,oe.placements=J,oe.Defaults=ie,oe}))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],123:[function(e,t,n){var r,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],p=!1,f=-1;function h(){p&&l&&(p=!1,l.length?c=l.concat(c):f=-1,c.length&&d())}function d(){if(!p){var e=u(h);p=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,p=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||p||u(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],124:[function(e,t,n){(function(t){
/**!
* tippy.js v5.1.4
* (c) 2017-2020 atomiks
* MIT License
*/
"use strict";var r,i=(r=e("popper.js"))&&"object"==typeof r&&"default"in r?r.default:r;function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){e.innerHTML=t}function a(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function u(e,t){return{}.hasOwnProperty.call(e,t)}function l(e){return h(e)?[e]:function(e){return f(e,"NodeList")}(e)?E(e):Array.isArray(e)?e:E(document.querySelectorAll(e))}function c(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function p(e,t){return e&&e.modifiers&&e.modifiers[t]}function f(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function h(e){return f(e,"Element")}function d(e){return f(e,"MouseEvent")}function m(e,t){return"function"==typeof e?e.apply(void 0,t):e}function g(e,t,n,r){e.filter((function(e){return e.name===t}))[0][n]=r}function y(){return document.createElement("div")}function v(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function b(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function w(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function T(e,t,n){e&&e!==t&&e.apply(void 0,n)}function x(e,t){var n=o({},e);return t.forEach((function(e){delete n[e]})),n}function E(e){return[].slice.call(e)}function _(e,t){for(;e;){if(t(e))return e;e=e.parentElement}return null}function C(e,t){return e.indexOf(t)>-1}function k(e){return e.split(/\s+/).filter(Boolean)}function O(e,t){return void 0!==e?e:t}function S(e){return[].concat(e)}function A(e){var t=S(e)[0];return t&&t.ownerDocument||document}function R(e,t){-1===e.indexOf(t)&&e.push(t)}function j(e){return"number"==typeof e?e:parseFloat(e)}function P(e,t,n){void 0===t&&(t=5);var r={top:0,right:0,bottom:0,left:0};return Object.keys(r).reduce((function(r,i){return r[i]="number"==typeof t?t:t[i],e===i&&(r[i]="number"==typeof t?t+n:t[e]+n),r}),r)}function M(e){return"\n    "+e+"() was called on a"+("destroy"===e?"n already-":" ")+"destroyed instance. This is a no-op but\n    indicates a potential memory leak.\n  "}function L(e){return e.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function F(e){return L("\n  %ctippy.js\n\n  %c"+L(e)+"\n\n  %c👷‍ This is a development-only message. It will be removed in production.\n  ")}function q(e){return[F(e),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function D(e,t){var n;e&&(n=console).warn.apply(n,q(t))}function I(e,t){var n;e&&(n=console).error.apply(n,q(t))}var U=o({allowHTML:!0,animation:"fade",appendTo:function(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[300,250],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",plugins:[],popperOptions:{},role:"tooltip",showOnCreate:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1}),B=Object.keys(U),N=["arrow","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],$=function(e){"production"!==t.env.NODE_ENV&&V(e,[]),Object.keys(e).forEach((function(t){U[t]=e[t]}))};function H(e){var t=(e.plugins||[]).reduce((function(t,n){var r=n.name,i=n.defaultValue;return r&&(t[r]=void 0!==e[r]?e[r]:i),t}),{});return o({},e,{},t)}function z(e,t){var n=o({},t,{content:m(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(H(o({},U,{plugins:t}))):B).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t}),{})}(e,t.plugins));return n.interactive&&(n.aria=null),n}function V(e,t){void 0===e&&(e={}),void 0===t&&(t=[]),Object.keys(e).forEach((function(n){var r=e[n],i="popperOptions"===n&&null!==r&&"object"==typeof r&&u(r,"placement"),o=!u(x(U,["animateFill","followCursor","inlinePositioning","sticky"]),n)&&!C(["a11y","arrowType","showOnInit","size","target","touchHold"],n);o&&(o=0===t.filter((function(e){return e.name===n})).length),D("target"===n,["The `target` prop was removed in v5 and replaced with the delegate() addon","in order to conserve bundle size.","See: https://atomiks.github.io/tippyjs/addons/#event-delegation"].join(" ")),D("a11y"===n,["The `a11y` prop was removed in v5. Make sure the element you are giving a","tippy to is natively focusable, such as <button> or <input>, not <div>","or <span>."].join(" ")),D("showOnInit"===n,"The `showOnInit` prop was renamed to `showOnCreate` in v5."),D("arrowType"===n,["The `arrowType` prop was removed in v5 in favor of overloading the `arrow`","prop.","\n\n",'"round" string was replaced with importing the string from the package.',"\n\n","* import {roundArrow} from 'tippy.js'; (ESM version)\n","* const {roundArrow} = tippy; (IIFE CDN version)","\n\n",'Before: {arrow: true, arrowType: "round"}\n',"After: {arrow: roundArrow}`"].join(" ")),D("touchHold"===n,["The `touchHold` prop was removed in v5 in favor of overloading the `touch`","prop.","\n\n","Before: {touchHold: true}\n",'After: {touch: "hold"}'].join(" ")),D("size"===n,["The `size` prop was removed in v5. Instead, use a theme that specifies","CSS padding and font-size properties."].join(" ")),D("theme"===n&&"google"===r,'The included theme "google" was renamed to "material" in v5.'),D(i,["Specifying placement in `popperOptions` is not supported. Use the base-level","`placement` prop instead.","\n\n",'Before: {popperOptions: {placement: "bottom"}}\n','After: {placement: "bottom"}'].join(" ")),D(o,["`"+n+"`","is not a valid prop. You may have spelled it incorrectly, or if it's a","plugin, forgot to pass it in an array as props.plugins.","\n\n","In v5, the following props were turned into plugins:","\n\n","* animateFill\n","* followCursor\n","* sticky","\n\n","All props: https://atomiks.github.io/tippyjs/all-props/\n","Plugins: https://atomiks.github.io/tippyjs/plugins/"].join(" "))}))}var W={passive:!0},Y={isTouch:!1},X=0;function K(){Y.isTouch||(Y.isTouch=!0,window.performance&&document.addEventListener("mousemove",G))}function G(){var e=performance.now();e-X<20&&(Y.isTouch=!1,document.removeEventListener("mousemove",G)),X=e}function J(){var e=document.activeElement;if(a(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var Z="undefined"!=typeof window&&"undefined"!=typeof document,Q=Z?navigator.userAgent:"",ee=/MSIE |Trident\//.test(Q),te=/UCBrowser\//.test(Q),ne=Z&&/iPhone|iPad|iPod/.test(navigator.platform);function re(e){var t=e&&ne&&Y.isTouch;document.body.classList[t?"add":"remove"]("tippy-iOS")}function ie(e){return e.split("-")[0]}function oe(e){e.setAttribute("data-inertia","")}function se(e){e.setAttribute("data-interactive","")}function ae(e,t){if(h(t.content))s(e,""),e.appendChild(t.content);else if("function"!=typeof t.content){e[t.allowHTML?"innerHTML":"textContent"]=t.content}}function ue(e){return{tooltip:e.querySelector(".tippy-tooltip"),content:e.querySelector(".tippy-content"),arrow:e.querySelector(".tippy-arrow")||e.querySelector(".tippy-svg-arrow")}}function le(e){var t=y();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",h(e)?t.appendChild(e):s(t,e)),t}function ce(e,t){var n=y();n.className="tippy-popper",n.style.position="absolute",n.style.top="0",n.style.left="0";var r=y();r.className="tippy-tooltip",r.id="tippy-"+e,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1"),he(r,"add",t.theme);var i=y();return i.className="tippy-content",i.setAttribute("data-state","hidden"),t.interactive&&se(r),t.arrow&&(r.setAttribute("data-arrow",""),r.appendChild(le(t.arrow))),t.inertia&&oe(r),ae(i,t),r.appendChild(i),n.appendChild(r),pe(n,t,t),n}function pe(e,t,n){var r,i=ue(e),o=i.tooltip,s=i.content,a=i.arrow;e.style.zIndex=""+n.zIndex,o.setAttribute("data-animation",n.animation),o.style.maxWidth="number"==typeof(r=n.maxWidth)?r+"px":r,n.role?o.setAttribute("role",n.role):o.removeAttribute("role"),t.content!==n.content&&ae(s,n),!t.arrow&&n.arrow?(o.appendChild(le(n.arrow)),o.setAttribute("data-arrow","")):t.arrow&&!n.arrow?(o.removeChild(a),o.removeAttribute("data-arrow")):t.arrow!==n.arrow&&(o.removeChild(a),o.appendChild(le(n.arrow))),!t.interactive&&n.interactive?se(o):t.interactive&&!n.interactive&&function(e){e.removeAttribute("data-interactive")}(o),!t.inertia&&n.inertia?oe(o):t.inertia&&!n.inertia&&function(e){e.removeAttribute("data-inertia")}(o),t.theme!==n.theme&&(he(o,"remove",t.theme),he(o,"add",n.theme))}function fe(e,t,n){var r=te&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";e[t+"EventListener"](r,n)}function he(e,t,n){k(n).forEach((function(n){e.classList[t](n+"-theme")}))}var de=1,me=[],ge=[];function ye(e,n){var r,s,a,l=z(e,o({},U,{},H(n)));if(!l.multiple&&e._tippy)return null;var f,h,y,x,L,F=!1,q=!1,I=!1,B=0,$=[],X=w(je,l.interactiveDebounce),K=A(l.triggerTarget||e),G=de++,J=ce(G,l),Z=ue(J),Q=(L=l.plugins).filter((function(e,t){return L.indexOf(e)===t})),te=Z.tooltip,ne=Z.content,oe=[te,ne],se={id:G,reference:e,popper:J,popperChildren:Z,popperInstance:null,props:l,state:{currentPlacement:null,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:Q,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(s),cancelAnimationFrame(a)},setProps:function(n){"production"!==t.env.NODE_ENV&&D(se.state.isDestroyed,M("setProps"));if(se.state.isDestroyed)return;"production"!==t.env.NODE_ENV&&(V(n,Q),D(!!n.plugins&&(n.plugins.length!==Q.length||Q.some((function(e,t){return!n.plugins||!n.plugins[t]||e!==n.plugins[t]}))),"Cannot update plugins"));be("onBeforeUpdate",[se,n]),Ae();var r=se.props,i=z(e,o({},se.props,{},n,{ignoreAttributes:!0}));i.ignoreAttributes=O(n.ignoreAttributes,r.ignoreAttributes),se.props=i,Se(),r.interactiveDebounce!==i.interactiveDebounce&&(xe(),X=w(je,i.interactiveDebounce));pe(J,r,i),se.popperChildren=ue(J),r.triggerTarget&&!i.triggerTarget?S(r.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):i.triggerTarget&&e.removeAttribute("aria-expanded");if(Te(),se.popperInstance)if(N.some((function(e){return u(n,e)&&n[e]!==r[e]}))){var s=se.popperInstance.reference;se.popperInstance.destroy(),Fe(),se.popperInstance.reference=s,se.state.isVisible&&se.popperInstance.enableEventListeners()}else se.popperInstance.update();be("onAfterUpdate",[se,n])},setContent:function(e){se.setProps({content:e})},show:function(e){void 0===e&&(e=c(se.props.duration,0,U.duration));"production"!==t.env.NODE_ENV&&D(se.state.isDestroyed,M("show"));var n=se.state.isVisible,r=se.state.isDestroyed,i=!se.state.isEnabled,o=Y.isTouch&&!se.props.touch;if(n||r||i||o)return;if(ye().hasAttribute("disabled"))return;se.popperInstance||Fe();if(be("onShow",[se],!1),!1===se.props.onShow(se))return;_e(),J.style.visibility="visible",se.state.isVisible=!0,se.state.isMounted||v(oe.concat(J),0);h=function(){se.state.isVisible&&(v([J],se.props.updateDuration),v(oe,e),b(oe,"visible"),we(),Te(),R(ge,se),re(!0),se.state.isMounted=!0,be("onMount",[se]),function(e,t){ke(e,t)}(e,(function(){se.state.isShown=!0,be("onShown",[se])})))},function(){B=0;var e,n=se.props.appendTo,r=ye();e=se.props.interactive&&n===U.appendTo||"parent"===n?r.parentNode:m(n,[r]);e.contains(J)||e.appendChild(J);"production"!==t.env.NODE_ENV&&D(se.props.interactive&&n===U.appendTo&&r.nextElementSibling!==J,["Interactive tippy element may not be accessible via keyboard navigation","because it is not directly after the reference element in the DOM source","order.","\n\n","Using a wrapper <div> or <span> tag around the reference element solves","this by creating a new parentNode context.","\n\n","Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle keyboard","navigation.","\n\n","See: https://atomiks.github.io/tippyjs/accessibility/#interactivity"].join(" "));g(se.popperInstance.modifiers,"flip","enabled",se.props.flip),se.popperInstance.enableEventListeners(),se.popperInstance.update()}()},hide:function(e){void 0===e&&(e=c(se.props.duration,1,U.duration));"production"!==t.env.NODE_ENV&&D(se.state.isDestroyed,M("hide"));var n=!se.state.isVisible&&!F,r=se.state.isDestroyed,i=!se.state.isEnabled&&!F;if(n||r||i)return;if(be("onHide",[se],!1),!1===se.props.onHide(se)&&!F)return;Ce(),J.style.visibility="hidden",se.state.isVisible=!1,se.state.isShown=!1,v(oe,e),b(oe,"hidden"),we(),Te(),function(e,t){ke(e,(function(){!se.state.isVisible&&J.parentNode&&J.parentNode.contains(J)&&t()}))}(e,(function(){se.popperInstance.disableEventListeners(),se.popperInstance.options.placement=se.props.placement,J.parentNode.removeChild(J),0===(ge=ge.filter((function(e){return e!==se}))).length&&re(!1),se.state.isMounted=!1,be("onHidden",[se])}))},enable:function(){se.state.isEnabled=!0},disable:function(){se.hide(),se.state.isEnabled=!1},destroy:function(){"production"!==t.env.NODE_ENV&&D(se.state.isDestroyed,M("destroy"));if(se.state.isDestroyed)return;F=!0,se.clearDelayTimeouts(),se.hide(0),Ae(),delete e._tippy,se.popperInstance&&se.popperInstance.destroy();F=!1,se.state.isDestroyed=!0,be("onDestroy",[se])}};e._tippy=se,J._tippy=se;var ae=Q.map((function(e){return e.fn(se)}));return Se(),Te(),l.lazy||Fe(),be("onCreate",[se]),l.showOnCreate&&De(),J.addEventListener("mouseenter",(function(){se.props.interactive&&se.state.isVisible&&se.clearDelayTimeouts()})),J.addEventListener("mouseleave",(function(){se.props.interactive&&C(se.props.trigger,"mouseenter")&&K.addEventListener("mousemove",X)})),se;function le(){var e=se.props.touch;return Array.isArray(e)?e:[e,0]}function he(){return"hold"===le()[0]}function ye(){return x||e}function ve(e){return se.state.isMounted&&!se.state.isVisible||Y.isTouch||f&&"focus"===f.type?0:c(se.props.delay,e?0:1,U.delay)}function be(e,t,n){var r;(void 0===n&&(n=!0),ae.forEach((function(n){u(n,e)&&n[e].apply(n,t)})),n)&&(r=se.props)[e].apply(r,t)}function we(){var t=se.props.aria;if(t){var n="aria-"+t,r=te.id;S(se.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(se.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function Te(){S(se.props.triggerTarget||e).forEach((function(e){se.props.interactive?e.setAttribute("aria-expanded",se.state.isVisible&&e===ye()?"true":"false"):e.removeAttribute("aria-expanded")}))}function xe(){K.body.removeEventListener("mouseleave",Ie),K.removeEventListener("mousemove",X),me=me.filter((function(e){return e!==X}))}function Ee(e){if(!se.props.interactive||!J.contains(e.target)){if(ye().contains(e.target)){if(Y.isTouch)return;if(se.state.isVisible&&C(se.props.trigger,"click"))return}!0===se.props.hideOnClick&&(q=!1,se.clearDelayTimeouts(),se.hide(),I=!0,setTimeout((function(){I=!1})),se.state.isMounted||Ce())}}function _e(){K.addEventListener("mousedown",Ee,!0)}function Ce(){K.removeEventListener("mousedown",Ee,!0)}function ke(e,t){function n(e){e.target===te&&(fe(te,"remove",n),t())}if(0===e)return t();fe(te,"remove",y),fe(te,"add",n),y=n}function Oe(t,n,r){void 0===r&&(r=!1),S(se.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),$.push({node:e,eventType:t,handler:n,options:r})}))}function Se(){he()&&(Oe("touchstart",Re,W),Oe("touchend",Pe,W)),k(se.props.trigger).forEach((function(e){if("manual"!==e)switch(Oe(e,Re),e){case"mouseenter":Oe("mouseleave",Pe);break;case"focus":Oe(ee?"focusout":"blur",Me)}}))}function Ae(){$.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),$=[]}function Re(e){var t=!1;if(se.state.isEnabled&&!Le(e)&&!I){if(f=e,x=e.currentTarget,Te(),!se.state.isVisible&&d(e)&&me.forEach((function(t){return t(e)})),"click"!==e.type||C(se.props.trigger,"mouseenter")&&!q||!1===se.props.hideOnClick||!se.state.isVisible){var n=le(),i=n[0],o=n[1];Y.isTouch&&"hold"===i&&o?r=setTimeout((function(){De(e)}),o):De(e)}else t=!0;"click"===e.type&&(q=!t),t&&Ie(e)}}function je(t){_(t.target,(function(t){return t===e||t===J}))||function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.tooltipRect,o=e.interactiveBorder,s=Math.min(t.top,i.top),a=Math.max(t.right,i.right),u=Math.max(t.bottom,i.bottom),l=Math.min(t.left,i.left);return s-r>o||r-u>o||l-n>o||n-a>o}))}(E(J.querySelectorAll(".tippy-popper")).concat(J).map((function(e){var t=e._tippy,n=t.popperChildren.tooltip,r=t.props.interactiveBorder;return{popperRect:e.getBoundingClientRect(),tooltipRect:n.getBoundingClientRect(),interactiveBorder:r}})),t)&&(xe(),Ie(t))}function Pe(e){if(!(Le(e)||C(se.props.trigger,"click")&&q))return se.props.interactive?(K.body.addEventListener("mouseleave",Ie),K.addEventListener("mousemove",X),void R(me,X)):void Ie(e)}function Me(e){e.target===ye()&&(se.props.interactive&&e.relatedTarget&&J.contains(e.relatedTarget)||Ie(e))}function Le(e){var t="ontouchstart"in window,n=C(e.type,"touch"),r=he();return t&&Y.isTouch&&r&&!n||Y.isTouch&&!r&&n}function Fe(){var t,n=se.props.popperOptions,r=se.popperChildren.arrow,s=p(n,"flip"),a=p(n,"preventOverflow");function u(e){var n=se.state.currentPlacement;se.state.currentPlacement=e.placement,se.props.flip&&!se.props.flipOnUpdate&&(e.flipped&&(se.popperInstance.options.placement=e.placement),g(se.popperInstance.modifiers,"flip","enabled",!1)),te.setAttribute("data-placement",e.placement),!1!==e.attributes["x-out-of-boundaries"]?te.setAttribute("data-out-of-boundaries",""):te.removeAttribute("data-out-of-boundaries");var r=ie(e.placement),i=C(["top","bottom"],r),o=C(["bottom","right"],r);te.style.top="0",te.style.left="0",te.style[i?"top":"left"]=(o?1:-1)*t+"px",n&&n!==e.placement&&se.popperInstance.update()}var l=o({eventsEnabled:!1,placement:se.props.placement},n,{modifiers:o({},n&&n.modifiers,{tippyDistance:{enabled:!0,order:0,fn:function(e){t=function(e,t){var n="string"==typeof t&&C(t,"rem"),r=e.documentElement;return r&&n?parseFloat(getComputedStyle(r).fontSize||String(16))*j(t):j(t)}(K,se.props.distance);var n=ie(e.placement),r=P(n,a&&a.padding,t),i=P(n,s&&s.padding,t),o=se.popperInstance.modifiers;return g(o,"preventOverflow","padding",r),g(o,"flip","padding",i),e}},preventOverflow:o({boundariesElement:se.props.boundary},a),flip:o({enabled:se.props.flip,behavior:se.props.flipBehavior},s),arrow:o({element:r,enabled:!!r},p(n,"arrow")),offset:o({offset:se.props.offset},p(n,"offset"))}),onCreate:function(e){u(e),T(n&&n.onCreate,l.onCreate,[e]),qe()},onUpdate:function(e){u(e),T(n&&n.onUpdate,l.onUpdate,[e]),qe()}});se.popperInstance=new i(e,J,l)}function qe(){0===B?(B++,se.popperInstance.update()):h&&1===B&&(B++,J.offsetHeight,h())}function De(e){se.clearDelayTimeouts(),se.popperInstance||Fe(),e&&be("onTrigger",[se,e]),_e();var t=ve(!0);t?r=setTimeout((function(){se.show()}),t):se.show()}function Ie(e){if(se.clearDelayTimeouts(),be("onUntrigger",[se,e]),se.state.isVisible){if(!(C(se.props.trigger,"mouseenter")&&C(se.props.trigger,"click")&&C(["mouseleave","mousemove"],e.type)&&q)){var t=ve(!1);t?s=setTimeout((function(){se.state.isVisible&&se.hide()}),t):a=requestAnimationFrame((function(){se.hide()}))}}else Ce()}}function ve(e,n,r){void 0===n&&(n={}),void 0===r&&(r=[]),r=U.plugins.concat(n.plugins||r),"production"!==t.env.NODE_ENV&&(!function(e){var t=!e,n="[object Object]"===Object.prototype.toString.call(e)&&!e.addEventListener;I(t,["tippy() was passed","`"+String(e)+"`","as its targets (first) argument. Valid types are: String, Element, Element[],","or NodeList."].join(" ")),I(n,["tippy() was passed a plain object which is no longer supported as an argument.","See: https://atomiks.github.io/tippyjs/misc/#custom-position"].join(" "))}(e),V(n,r)),document.addEventListener("touchstart",K,o({},W,{capture:!0})),window.addEventListener("blur",J);var i=o({},n,{plugins:r}),s=l(e);if("production"!==t.env.NODE_ENV){var a=h(i.content),u=s.length>1;D(a&&u,["tippy() was passed an Element as the `content` prop, but more than one tippy","instance was created by this invocation. This means the content element will","only be appended to the last tippy instance.","\n\n","Instead, pass the .innerHTML of the element, or use a function that returns a","cloned version of the element instead.","\n\n","1) content: element.innerHTML\n","2) content: () => element.cloneNode(true)"].join(" "))}var c=s.reduce((function(e,t){var n=t&&ye(t,i);return n&&e.push(n),e}),[]);return h(e)?c[0]:c}ve.version="5.1.4",ve.defaultProps=U,ve.setDefaultProps=$,ve.currentInput=Y;n.BACKDROP_CLASS="tippy-backdrop",n.ROUND_ARROW='<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>',n._extends=o,n.arrayFrom=E,n.closestCallback=_,n.createTippyWithPlugins=function(e){"production"!==t.env.NODE_ENV&&D(!0,["createTippyWithPlugins([...]) has been deprecated.","\n\n","Use tippy.setDefaultProps({plugins: [...]}) instead."].join(" "));var n=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r=[]),r=n.plugins||r,ve(t,o({},n,{plugins:[].concat(e,r)}))};return n.version="5.1.4",n.defaultProps=U,n.setDefaultProps=$,n.currentInput=Y,n},n.currentInput=Y,n.defaultProps=U,n.div=y,n.errorWhen=I,n.getBasePlacement=ie,n.getOwnerDocument=A,n.hideAll=function(e){var t=void 0===e?{}:e,n=t.exclude,r=t.duration;ge.forEach((function(e){var t=!1;n&&(t=a(n)?e.reference===n:e.popper===n.popper),t||e.hide(r)}))},n.includes=C,n.isBrowser=Z,n.isMouseEvent=d,n.isUCBrowser=te,n.normalizeToArray=S,n.removeProperties=x,n.setVisibilityState=b,n.tippy=ve,n.useIfDefined=O,n.warnWhen=D}).call(this,e("_process"))},{_process:123,"popper.js":122}],125:[function(e,t,n){(function(t){
/**!
* tippy.js v5.1.4
* (c) 2017-2020 atomiks
* MIT License
*/
"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./tippy.chunk.cjs.js");e("popper.js");var i={mouseover:"mouseenter",focusin:"focus",click:"click"};var o={name:"animateFill",defaultValue:!1,fn:function(e){var n=e.popperChildren,i=n.tooltip,o=n.content,s=e.props.animateFill&&!r.isUCBrowser?function(){var e=r.div();return e.className=r.BACKDROP_CLASS,r.setVisibilityState([e],"hidden"),e}():null;function a(){e.popperChildren.backdrop=s}return{onCreate:function(){s&&(a(),i.insertBefore(s,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",e.setProps({animation:"shift-away",arrow:!1}))},onMount:function(){if(s){var e=i.style.transitionDuration,n=Number(e.replace("ms",""));o.style.transitionDelay=Math.round(n/10)+"ms",s.style.transitionDuration=e,r.setVisibilityState([s],"visible"),"production"!==t.env.NODE_ENV&&(r.warnWhen("absolute"!==getComputedStyle(s).position,"The `tippy.js/dist/backdrop.css` stylesheet has not been\n              imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."),r.warnWhen("none"===getComputedStyle(i).transform,"The `tippy.js/animations/shift-away.css` stylesheet has not\n              been imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."))}},onShow:function(){s&&(s.style.transitionDuration="0ms")},onHide:function(){s&&r.setVisibilityState([s],"hidden")},onAfterUpdate:function(){a()}}}};var s={name:"followCursor",defaultValue:!1,fn:function(e){var t,n=e.reference,i=e.popper,o=null,s=r.getOwnerDocument(e.props.triggerTarget||n),a=null,u=!1,l=e.props;function c(){return"manual"===e.props.trigger.trim()}function p(){var t=!!c()||null!==a&&!(0===a.clientX&&0===a.clientY);return e.props.followCursor&&t}function f(){return r.currentInput.isTouch||"initial"===e.props.followCursor&&e.state.isVisible}function h(){e.popperInstance&&o&&(e.popperInstance.reference=o)}function d(){if(p()||e.props.placement!==l.placement){var t=l.placement,n=t.split("-")[1];u=!0,e.setProps({placement:p()&&n?t.replace(n,"start"===n?"end":"start"):t}),u=!1}}function m(){e.popperInstance&&p()&&(f()||!0!==e.props.followCursor)&&e.popperInstance.disableEventListeners()}function g(){p()?s.addEventListener("mousemove",b):h()}function y(){p()&&b(t)}function v(){s.removeEventListener("mousemove",b)}function b(s){var a=t=s,u=a.clientX,l=a.clientY;if(e.popperInstance&&e.state.currentPlacement){var c=r.closestCallback(s.target,(function(e){return e===n})),p=n.getBoundingClientRect(),h=e.props.followCursor,d="horizontal"===h,m="vertical"===h,g=r.includes(["top","bottom"],r.getBasePlacement(e.state.currentPlacement)),y=function(e,t){var n=t?e.offsetWidth:e.offsetHeight;return{size:n,x:t?n:0,y:t?0:n}}(i,g),b=y.size,w=y.x,T=y.y;!c&&e.props.interactive||(null===o&&(o=e.popperInstance.reference),e.popperInstance.reference={referenceNode:n,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:g?b:0,height:g?0:b,top:(d?p.top:l)-T,bottom:(d?p.bottom:l)+T,left:(m?p.left:u)-w,right:(m?p.right:u)+w}}},e.popperInstance.update()),f()&&v()}}return{onAfterUpdate:function(e,t){var n;u||(n=t,Object.keys(n).forEach((function(e){l[e]=r.useIfDefined(n[e],l[e])})),t.placement&&d()),t.placement&&m(),requestAnimationFrame(y)},onMount:function(){y(),m()},onShow:function(){c()&&(t=a={clientX:0,clientY:0},d(),g())},onTrigger:function(e,n){a||(r.isMouseEvent(n)&&(a={clientX:n.clientX,clientY:n.clientY},t=n),d(),g())},onUntrigger:function(){e.state.isVisible||(v(),a=null)},onHidden:function(){v(),h(),a=null}}}};var a={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t=e.reference;function n(){return!!e.props.inlinePositioning}return{onHidden:function(){n()&&(e.popperInstance.reference=t)},onShow:function(){n()&&(e.popperInstance.reference={referenceNode:t,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return function(e,t,n){if(n.length<2||null===e)return t;switch(e){case"top":case"bottom":var r=n[0],i=n[n.length-1],o="top"===e,s=r.top,a=i.bottom,u=o?r.left:i.left,l=o?r.right:i.right;return{top:s,bottom:a,left:u,right:l,width:l-u,height:a-s};case"left":case"right":var c=Math.min.apply(Math,n.map((function(e){return e.left}))),p=Math.max.apply(Math,n.map((function(e){return e.right}))),f=n.filter((function(t){return"left"===e?t.left===c:t.right===p})),h=f[0].top,d=f[f.length-1].bottom;return{top:h,bottom:d,left:c,right:p,width:p-c,height:d-h};default:return t}}(e.state.currentPlacement&&r.getBasePlacement(e.state.currentPlacement),t.getBoundingClientRect(),r.arrayFrom(t.getClientRects()))}})}}}};var u={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function r(t){return!0===e.props.sticky||e.props.sticky===t}var i=null,o=null;function s(){var a=r("reference")?(e.popperInstance?e.popperInstance.reference:t).getBoundingClientRect():null,u=r("popper")?n.getBoundingClientRect():null;(a&&l(i,a)||u&&l(o,u))&&e.popperInstance.update(),i=a,o=u,e.state.isMounted&&requestAnimationFrame(s)}return{onMount:function(){e.props.sticky&&s()}}}};function l(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}n.createTippyWithPlugins=r.createTippyWithPlugins,n.default=r.tippy,n.hideAll=r.hideAll,n.roundArrow=r.ROUND_ARROW,n.animateFill=o,n.createSingleton=function(e,n,i){void 0===n&&(n={}),void 0===i&&(i=[]),"production"!==t.env.NODE_ENV&&r.errorWhen(!Array.isArray(e),["The first argument passed to createSingleton() must be an array of tippy","instances. The passed value was",String(e)].join(" ")),i=n.plugins||i,e.forEach((function(e){e.disable()}));var o,s,a=r._extends({},r.defaultProps,{},n).aria,u=!1,l=e.map((function(e){return e.reference})),c={fn:function(t){function n(e){if(o){var n="aria-"+o;e&&!t.props.interactive?s.setAttribute(n,t.popperChildren.tooltip.id):s.removeAttribute(n)}}return{onAfterUpdate:function(e,n){var r=n.aria;void 0!==r&&r!==a&&(u?(u=!0,t.setProps({aria:null}),u=!1):a=r)},onDestroy:function(){e.forEach((function(e){e.enable()}))},onMount:function(){n(!0)},onUntrigger:function(){n(!1)},onTrigger:function(r,i){var u=i.currentTarget,c=l.indexOf(u);u!==s&&(s=u,o=a,t.state.isVisible&&n(!0),t.popperInstance.reference=u,t.setContent(e[c].props.content))}}}};return r.tippy(r.div(),r._extends({},n,{plugins:[c].concat(i),aria:null,triggerTarget:l}))},n.delegate=function(e,n,o){void 0===o&&(o=[]),"production"!==t.env.NODE_ENV&&r.errorWhen(!(n&&n.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" ")),o=n.plugins||o;var s=[],a=[],u=n.target,l=r.removeProperties(n,["target"]),c=r._extends({},l,{plugins:o,trigger:"manual"}),p=r._extends({},l,{plugins:o,showOnCreate:!0}),f=r.tippy(e,c);function h(e){if(e.target){var t=e.target.closest(u);if(t){var o=t.getAttribute("data-tippy-trigger")||n.trigger||r.defaultProps.trigger;if(r.includes(o,i[e.type])){var s=r.tippy(t,p);s&&(a=a.concat(s))}}}}function d(e,t,n,r){void 0===r&&(r=!1),e.addEventListener(t,n,r),s.push({node:e,eventType:t,handler:n,options:r})}return r.normalizeToArray(f).forEach((function(e){var t=e.destroy;e.destroy=function(e){void 0===e&&(e=!0),e&&a.forEach((function(e){e.destroy()})),a=[],s.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),s=[],t()},function(e){var t=e.reference;d(t,"mouseover",h),d(t,"focusin",h),d(t,"click",h)}(e)})),f},n.followCursor=s,n.inlinePositioning=a,n.sticky=u}).call(this,e("_process"))},{"./tippy.chunk.cjs.js":124,_process:123,"popper.js":122}],126:[function(e,t,n){(function(e){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n,r,i,o,s,a,u,l,c,p,f,h,d,m,g,y,v,b,w,T;!function(n){var r="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:{};function i(e,t){return e!==r&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}"function"==typeof define&&define.amd?define("tslib",["exports"],(function(e){n(i(r,i(e)))})):"object"==typeof t&&"object"==typeof t.exports?n(i(r,i(t.exports))):n(i(r))}((function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};n=function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=function(e,t){return function(n,r){t(n,r,e)}},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},p=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},f=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e},d=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},m=function(e){return this instanceof m?(this.v=e,this):new m(e)},g=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(e){c(o[0][3],e)}var n}function u(e){a("next",e)}function l(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},y=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}},v=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}},b=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},T=function(e){return e&&e.__esModule?e:{default:e}},e("__extends",n),e("__assign",r),e("__rest",i),e("__decorate",o),e("__param",s),e("__metadata",a),e("__awaiter",u),e("__generator",l),e("__exportStar",c),e("__values",p),e("__read",f),e("__spread",h),e("__spreadArrays",d),e("__await",m),e("__asyncGenerator",g),e("__asyncDelegator",y),e("__asyncValues",v),e("__makeTemplateObject",b),e("__importStar",w),e("__importDefault",T)}))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],127:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.BoundElement=class{constructor(e,t,n){this.element=e,this.window=t,this.document=n,this.isContenteditable=this.element.isContentEditable,this.isCodeMirror="object"==typeof this.element.doc,this.isAceEditor="object"==typeof this.element.renderer,this.cachedOnBlurRange=null}setFocus(){if(this.isCodeMirror)this.element.focus();else if(this.isAceEditor)this.element.focus();else{let e=new Event("focus");this.element.dispatchEvent(e)}}caretPositionWithDocumentInfo(){return this.isCodeMirror?this.caretPositionWithDocumentInfoForCodeMirror():this.isAceEditor?this.caretPositionWithDocumentInfoForAceEditor():this.isContenteditable?this.caretPositionWithDocumentInfoForContenteditable():this.caretPositionWithDocumentInfoForInput()}setCaretPosition(e,t,n,r,i){let o=e-i.length;if(this.isCodeMirror){var s=this.element.getValue(),a=(l=this.getRowAndColumnForPosition(s,o)).column+t,u=l.column+n;this.element.doc.setSelection({line:l.row,ch:a},{line:l.row,ch:u})}else if(this.isAceEditor){var l;s=this.element.getValue(),a=(l=this.getRowAndColumnForPosition(s,o)).column+t,u=l.column+n;this.element.getSelection().setSelectionRange({start:{row:l.row,column:a},end:{row:l.row,column:u}},!1)}else if(this.isContenteditable){var c=this.document.createRange(),p=this.window.getSelection();c.setStart(r,t-i.length),c.setEnd(r,n-i.length),p.removeAllRanges(),p.addRange(c)}else{let e=o+t,r=o+n;this.element.setSelectionRange(e,r)}}getRowAndColumnForPosition(e,t){var n=e.slice(0,t).split(/\r?\n/),r=n.length-1;return{row:r,column:n[r].length}}getCaretPosition(){if(this.isCodeMirror){let e=this.element.cursorCoords(!0),t=this.element.display.lineDiv,n=this.window.getComputedStyle?getComputedStyle(t):t.currentStyle,r=this.element.getCursor(!0).line+1;return{top:this.element.heightAtLine(r),left:e.left+parseInt(n.borderLeftWidth)}}if(this.isAceEditor){let e=this.element.renderer.$cursorLayer.element.getElementsByClassName("ace_cursor")[0].getBoundingClientRect();return{top:e.top+e.height,left:e.left}}if(this.isContenteditable){let e=this.window.getSelection().getRangeAt(0);return this.getContentEditableCaretPosition(e.startOffset)}{let e=this.element.selectionStart;return this.getTextAreaOrInputUnderlinePosition(this.element,e,!1)}}insertTextAtCaret(e){if(this.isCodeMirror){let t=this.element.getCursor(!0);this.element.doc.replaceRange(e,t,t)}else{if(!this.isAceEditor)return this.isContenteditable?this.insertTextForContenteditable(e):this.insertTextForInput(e);{let t=this.element.getCursorPosition();this.element.session.insert(t,e)}}}setExpiringCachedOnBlurRange(e){let t=this;this.isContenteditable&&(this.cachedOnBlurRange=e,setTimeout((function(){t.cachedOnBlurRange=null}),200))}insertTextForContenteditable(e){var t,n;t=this.window.getSelection(),this.cachedOnBlurRange?(n=this.cachedOnBlurRange,this.cachedOnBlurRange=null):n=t.getRangeAt(0),n.deleteContents();var r=this.document.createTextNode(e);return n.insertNode(r),n.selectNodeContents(r),n.collapse(!1),t.removeAllRanges(),t.addRange(n),r}insertTextForInput(e){var t=this.element,n=t.scrollTop,r=t.selectionStart,i=t.value.substring(0,r),o=t.value.substring(t.selectionEnd,t.value.length);return t.value=i+e+o,r+=e.length,t.selectionStart=r,t.selectionEnd=r,t.focus(),t.scrollTop=n,t}caretPositionWithDocumentInfoForInput(){let e=this.element.selectionStart,t=this.element.value;return{leftText:t.slice(0,e),selectionStart:e,rightText:t.slice(e,t.length),allText:t}}caretPositionWithDocumentInfoForContenteditable(){let e=this.window.getSelection().getRangeAt(0),t=e.cloneRange();t.setStart(this.element,0),t.setEnd(e.startContainer,e.startOffset);let n=this.captureRangeText(t),r=e.cloneRange();r.selectNodeContents(this.element),r.setStart(e.startContainer,e.startOffset);let i=this.captureRangeText(r);return{leftText:n,selectionStart:n.length,rightText:i,allText:n+i}}caretPositionWithDocumentInfoForAceEditor(){let e=this.element.getValue(),t=this.element.getCursorPosition(),n=t.row,r=t.column;return this.caretPositionWithDocumentInfoForValueRowAndColumn(e,n,r)}caretPositionWithDocumentInfoForCodeMirror(){let e=this.element.getValue(),t=this.element.getCursor(!0),n=t.line,r=t.ch;return this.caretPositionWithDocumentInfoForValueRowAndColumn(e,n,r)}caretPositionWithDocumentInfoForValueRowAndColumn(e,t,n){let r=[],i=[];e.split(/\r?\n/).forEach((function(e,o){o<t?r.push(e):o===t?(r.push(e.slice(0,n)),i.push(e.slice(n,e.length))):o>t&&i.push(e)}));let o=r.join("\n"),s=i.join("\n");return{leftText:o,selectionStart:o.length,rightText:s,allText:o+s}}captureRangeText(e){let t=e.cloneContents(),n=this.document.createElement("div");n.setAttribute("style","position: absolute; left: -10000px; top: -10000px"),n.setAttribute("contenteditable","true"),n.appendChild(t),this.document.body.appendChild(n);let r=n.innerText;return n.remove(),r}getTextAreaOrInputUnderlinePosition(e,t,n){let r=null!==this.window.mozInnerScreenX,i=this.document.createElement("div");i.id="input-textarea-caret-position-mirror-div",this.document.body.appendChild(i);let o=i.style,s=this.window.getComputedStyle?getComputedStyle(e):e.currentStyle;o.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"].forEach(e=>{o[e]=s[e]}),r?(o.width=`${parseInt(s.width)-2}px`,e.scrollHeight>parseInt(s.height)&&(o.overflowY="scroll")):o.overflow="hidden",i.textContent=e.value.substring(0,t),"INPUT"===e.nodeName&&(i.textContent=i.textContent.replace(/\s/g," "));let a=this.document.createElement("span");a.textContent=e.value.substring(t)||".",i.appendChild(a);let u=e.getBoundingClientRect(),l=this.document.documentElement,c=(this.window.pageXOffset||l.scrollLeft)-(l.clientLeft||0),p=(this.window.pageYOffset||l.scrollTop)-(l.clientTop||0),f=0,h=0;f=u.top,h=u.left;let d={top:f+p+a.offsetTop+parseInt(s.borderTopWidth)+parseInt(s.fontSize)-e.scrollTop,left:h+c+a.offsetLeft+parseInt(s.borderLeftWidth)};return this.document.body.removeChild(i),d}getContentEditableCaretPosition(e){let t,n,r=`sel_${(new Date).getTime()}_${Math.random().toString().substr(2)}`,i=this.window.getSelection(),o=i.getRangeAt(0);n=this.document.createRange(),n.setStart(i.anchorNode,e),n.setEnd(i.anchorNode,e),n.collapse(!1),t=this.document.createElement("span"),t.id=r,t.appendChild(this.document.createTextNode("\ufeff")),n.insertNode(t),i.removeAllRanges(),i.addRange(o);let s=t.getBoundingClientRect(),a=this.document.documentElement,u=(this.window.pageXOffset||a.scrollLeft)-(a.clientLeft||0),l=(this.window.pageYOffset||a.scrollTop)-(a.clientTop||0),c=0,p=0;c=s.left,p=s.top;let f={left:c+u,top:p+t.offsetHeight+l};return t.parentNode.removeChild(t),f}}},{}],128:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const{DropkiqEngine:r}=e("dropkiq"),i=e("./BoundElement"),o=e("tippy.js");var s;!function(e){e.Boolean="ColumnTypes::Boolean",e.DateTime="ColumnTypes::DateTime",e.HasMany="ColumnTypes::HasMany",e.HasOne="ColumnTypes::HasOne",e.Numeric="ColumnTypes::Numeric",e.String="ColumnTypes::String",e.Text="ColumnTypes::Text",e.YAML="ColumnTypes::YAML"}(s||(s={}));n.DropkiqUI=class{constructor(e,t,n,o,s="",a={}){this.schema=t,this.context=n,this.scope=o,this.licenseKey=s,this.options=a,this.showPreviews="function"==typeof a.showPreviews?a.showPreviews:()=>!0,this.showHints="function"==typeof a.showHints?a.showHints:()=>!0,this.suggestionFilter="function"==typeof a.suggestionFilter?a.suggestionFilter:()=>{},this.onRender="function"==typeof a.onRender?a.onRender:()=>{},this.iframe=a.iframe,this.iframe?(this.window=this.iframe.contentWindow,this.document=this.window.document):(this.window=window,this.document=document),this.element=e,this.window.dropkiqUIInstances||(this.window.dropkiqUIInstances={});let u=this.window.dropkiqUIInstances[this.element];if(u)return u;this.window.dropkiqUIInstances[this.element]=this,this.isCodeMirror="object"==typeof this.element.doc,this.isAceEditor="object"==typeof this.element.renderer,this.boundElement=new i.BoundElement(this.element,this.window,this.document),this.dropkiqEngine=new r("",0,t,n,o,this.licenseKey,{suggestionFilter:this.suggestionFilter}),this.suggestionsArray=[],this.result={},this.caretOffset={},this.pathSchema=[],this.$poweredByDropkiq=document.createElement("div"),this.$poweredByDropkiq.style.display="none",this.$poweredByDropkiq.style.padding="5px",this.$poweredByDropkiq.style.height="24px",this.$poweredByDropkiq.style.color="#666666",this.$poweredByDropkiq.style["font-size"]="10px",this.$poweredByDropkiq.style.background="rgba(240,240,240,0.9)",this.$poweredByDropkiq.style["text-align"]="right";let l=document.createTextNode("Powered by"),c=document.createElement("img");c.setAttribute("src","https://app.dropkiq.com/plugin/dropkiq-sm.png"),c.style.width="48px",c.style.height="10px",c.style["margin-left"]="3px",this.$poweredByDropkiq.appendChild(l),this.$poweredByDropkiq.appendChild(c),this.$paywall=document.createElement("div"),this.$paywall.style["font-size"]="14px",this.$paywall.style.padding="10px",this.$paywall.style.color="#666666",this.$paywall.display="none",this.$ul=document.createElement("ul"),this.$header=document.createElement("div"),this.$header.setAttribute("class","dropkiq-header"),this.$div=document.createElement("div"),this.$div.setAttribute("id","dropkiq-autosuggest-menu"),this.$div.appendChild(this.$header),this.$div.appendChild(this.$ul),this.$div.appendChild(this.$paywall),this.$div.appendChild(this.$poweredByDropkiq),document.body.appendChild(this.$div);let p=this;p.documentCallback=function(){p.closeMenu()};let f=function(){p.closeMenu()},h=function(e){if(p.suggestionsArray.length){let t;switch(e.keyCode){case 27:return p.closeMenu(),e.preventDefault(),!1;case 38:return p.scrollToPrevious(),e.preventDefault(),!1;case 40:return p.scrollToNext(),e.preventDefault(),!1;case 9:case 13:return t=p.suggestionsArray.find((function(e){return e.active})),p.insertSuggestion(t),e.preventDefault(),!1}}setTimeout((function(){let t=p.boundElement.caretPositionWithDocumentInfo(),n=t.selectionStart,r=t.leftText,i=t.rightText,o=r.slice(-2);if(219!=e.keyCode||!e.shiftKey||"{"!=o[1]&&"{"!=o){if(53==e.keyCode&&e.shiftKey&&"{%"==o&&/^(\s+)?\}(.+)?/.test(i)){let e=p.boundElement.insertTextAtCaret("%");p.boundElement.setCaretPosition(n,0,0,e,""),p.element.focus()}}else{let e=p.boundElement.insertTextAtCaret("}");p.boundElement.setCaretPosition(n,0,0,e,""),p.element.focus()}}),25),d(e)},d=function(e){"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation(),setTimeout((function(){p.findResults.apply(p)}),25)},m=function(e){let t=p.window.getSelection().getRangeAt(0);p.boundElement.setExpiringCachedOnBlurRange(t)};this.isCodeMirror?(this.element.on("keydown",(function(e,t){h(t)})),this.element.on("mousedown",(function(e,t){d(t)})),this.element.on("focus",(function(e,t){d(t)})),this.element.on("blur",(function(e,t){m()})),this.element.on("scroll",(function(e,t){f()}))):this.isAceEditor?(this.element.textInput.getElement().addEventListener("keydown",h),this.element.on("click",d),this.element.on("focus",d),this.element.on("blur",m),this.element.session.on("changeScrollTop",f),this.element.session.on("changeScrollLeft",f)):(this.element.addEventListener("keydown",h),this.element.addEventListener("click",d),this.element.addEventListener("focus",d),this.element.addEventListener("blur",m),this.element.addEventListener("scroll",f))}registerFilter(e,t,n,r,i){this.dropkiqEngine.registerFilter(e,t,n,r,i)}menuIsOpen(){return this.suggestionsArray.length>0}closeMenu(){this.removeDocumentEventListeners(),this.suggestionsArray=[],this.renderSuggestions()}removeDocumentEventListeners(){document.removeEventListener("click",this.documentCallback),this.document&&this.document!==document&&this.document.removeEventListener("click",this.documentCallback)}renderSuggestions(){let e,t=this.result.prefix;if(this.$paywall.innerHTML="",this.$paywall.style.display="none",this.$header.innerHTML="",this.$header.style.display="none",this.$poweredByDropkiq.style.display="none",this.dropkiqEngine.authorizer.authorized()||(this.$poweredByDropkiq.style.display="block"),this.pathSchema&&(e=this.pathSchema[this.pathSchema.length-1]),e&&"ColumnTypes::HasOne"===e.type){let t="https://app.dropkiq.com/plugin/object.png",n=document.createElement("img");n.setAttribute("src",t),n.setAttribute("class","icon"),n.setAttribute("width","16px"),n.setAttribute("height","16px");let r=document.createElement("span");r.textContent=e.name,this.$header.appendChild(n),this.$header.appendChild(r),this.$header.style.display="block"}this.$div.style.top=`${this.caretOffset.top}px`,this.$div.style.left=`${this.caretOffset.left}px`,this.suggestionsArray.length?this.$div.style.display="block":this.$div.style.display="none",this.$ul.innerHTML="";let n=this;this.suggestionsArray.forEach((function(e){let r=document.createElement("li"),i=e.iconImageURLForSuggestion,o=document.createElement("img");o.setAttribute("src",i),o.setAttribute("class","icon"),o.setAttribute("width","16px"),o.setAttribute("height","16px");let s=document.createElement("div");s.setAttribute("class","first-line");let a=document.createElement("div");a.setAttribute("class","extra");let u=document.createElement("span"),l=document.createElement("img");if(l.setAttribute("class","right-arrow"),l.setAttribute("src","https://app.dropkiq.com/plugin/next-level.png"),s.appendChild(o),s.appendChild(l),t){let n=document.createElement("strong");n.textContent=t;let r=e.name;u.textContent=r.slice(t.length,r.length),s.appendChild(n)}else u.textContent=e.name;if(s.appendChild(u),r.appendChild(s),r.setAttribute("title",n.suggestionTitleText(e)),e.hint&&n.showHints()){let t=document.createElement("div");t.setAttribute("class","hint-icon"),t.setAttribute("data-tippy-content",e.hint),t.setAttribute("title","");let n="https://app.dropkiq.com/plugin/question-circle.png",i=document.createElement("img");i.setAttribute("src",n),t.appendChild(i),r.appendChild(t)}if(e.preview&&n.showPreviews()){let t=document.createElement("p");t.textContent="OUTPUT";let n=document.createElement("samp");n.textContent=e.preview,a.appendChild(t),a.appendChild(n),r.appendChild(a)}e.active&&r.classList.add("active"),n.$ul.appendChild(r),r.addEventListener("click",(function(t){n.insertSuggestion(e)}))}));let r=this.$ul.querySelector(".active");if(r&&(this.$ul.scrollTop=r.offsetTop-50),e&&"ColumnTypes::HasOne"===e.type&&!this.dropkiqEngine.authorizer.authorized()){this.$ul.innerHTML="",this.$paywall.style.display="block";let e=document.createElement("p"),t=this.suggestionsArray[0];t&&(e.textContent=t.hint),this.$paywall.appendChild(e);let n=document.createElement("p"),r=document.createElement("a");r.textContent="Purchase to unlock",r.setAttribute("href","http://dropkiq.com"),n.appendChild(r),this.$paywall.appendChild(n)}n.removeDocumentEventListeners(),setTimeout((function(){document.addEventListener("click",n.documentCallback),n.document&&n.document!==document&&n.document.addEventListener("click",n.documentCallback)}),100),o.default(".hint-icon")}findResults(){let e=this.boundElement.caretPositionWithDocumentInfo();if(this.caretOffset=this.boundElement.getCaretPosition(),this.iframe){var t=this.iframe.getBoundingClientRect();this.caretOffset.top=this.caretOffset.top+t.top,this.caretOffset.left=this.caretOffset.left+t.left}try{this.result=this.dropkiqEngine.update(e.allText,e.selectionStart)}catch(e){if(this.closeMenu(),"ParseError"===e.name)return!1;throw e}this.onRender(this.result.renderedDocument),this.pathSchema=this.result.pathSchema;this.suggestionsArray=this.result.suggestionsArray||[],this.suggestionsArray.length>0&&(this.suggestionsArray=this.suggestionsArray.sort((e,t)=>e.name>t.name?1:-1),this.suggestionsArray[0].active=!0),this.renderSuggestions()}insertSuggestion(e){let t,n,r=this.result.prefix;"ColumnTypes::Filter"===e.type?(n=this.boundElement.caretPositionWithDocumentInfo(),t=e.insertionTemplate):t=e.name;let i=t.slice(r.length,t.length);"ColumnTypes::HasOne"===e.type&&(i+=".");let o=this.boundElement.insertTextAtCaret(i);if("ColumnTypes::Filter"===e.type){let t=e.selectRange[0],i=e.selectRange[1];this.boundElement.setCaretPosition(n.selectionStart,t,i,o,r)}this.boundElement.setFocus(),this.closeMenu();let s=this;setTimeout((function(){s.findResults.apply(s)}),25)}scrollToNext(){let e=this.suggestionsArray.find((function(e,t){return e.active})),t=this.suggestionsArray.indexOf(e);this.suggestionsArray[t].active=!1,this.suggestionsArray[t+1]?this.suggestionsArray[t+1].active=!0:this.suggestionsArray[0].active=!0,this.renderSuggestions()}scrollToPrevious(){let e=this.suggestionsArray.find((function(e,t){return e.active})),t=this.suggestionsArray.indexOf(e);this.suggestionsArray[t].active=!1,this.suggestionsArray[t-1]?this.suggestionsArray[t-1].active=!0:this.suggestionsArray[this.suggestionsArray.length-1].active=!0,this.renderSuggestions()}suggestionTitleText(e){let t=[e.name];return e.preview&&t.push(`**OUTPUT** ${e.preview}`),e.hint&&t.push(`**HINT** ${e.hint}`),t.join(" ")}}},{"./BoundElement":127,dropkiq:39,"tippy.js":125}],129:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("dropkiq"),i=e("./DropkiqUI");n.DropkiqUIFromScope=class{constructor(e,t,n="",i={}){this.element=e,this.scope=t,this.licenseKey=n,this.options=i,this.dropkiqEngineFromScope=new r.DropkiqEngineFromScope("",0,this.scope,this.licenseKey,this.options),this.schema=this.dropkiqEngineFromScope.schema,this.context=this.dropkiqEngineFromScope.context}dropkiqUI(){return new i.DropkiqUI(this.element,this.schema,this.context,this.scope,this.licenseKey,this.options)}}},{"./DropkiqUI":128,dropkiq:39}],130:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./DropkiqUI");n.DropkiqUI=r.DropkiqUI;const i=e("./DropkiqUIFromScope");n.DropkiqUIFromScope=i.DropkiqUIFromScope,window.DropkiqUI=r.DropkiqUI,window.DropkiqUIFromScope=i.DropkiqUIFromScope},{"./DropkiqUI":128,"./DropkiqUIFromScope":129}]},{},[130]);