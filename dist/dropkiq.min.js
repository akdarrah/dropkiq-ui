!function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};t[s][0].call(c.exports,(function(e){return i(t[s][1][e]||e)}),c,c.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){t.exports=e("./lib/axios")},{"./lib/axios":3}],2:[function(e,t,r){"use strict";var n=e("./../utils"),i=e("./../core/settle"),o=e("./../helpers/buildURL"),s=e("./../helpers/parseHeaders"),a=e("./../helpers/isURLSameOrigin"),u=e("../core/createError");t.exports=function(t){return new Promise((function(r,l){var c=t.data,p=t.headers;n.isFormData(c)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",h=t.auth.password||"";p.Authorization="Basic "+btoa(d+":"+h)}if(f.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:e,config:t,request:f};i(r,l,n),f=null}},f.onerror=function(){l(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var m=e("./../helpers/cookies"),g=(t.withCredentials||a(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;g&&(p[t.xsrfHeaderName]=g)}if("setRequestHeader"in f&&n.forEach(p,(function(e,t){void 0===c&&"content-type"===t.toLowerCase()?delete p[t]:f.setRequestHeader(t,e)})),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(e){f&&(f.abort(),l(e),f=null)})),void 0===c&&(c=null),f.send(c)}))}},{"../core/createError":9,"./../core/settle":12,"./../helpers/buildURL":16,"./../helpers/cookies":18,"./../helpers/isURLSameOrigin":20,"./../helpers/parseHeaders":22,"./../utils":24}],3:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./helpers/bind"),o=e("./core/Axios"),s=e("./defaults");function a(e){var t=new o(e),r=i(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var u=a(s);u.Axios=o,u.create=function(e){return a(n.merge(s,e))},u.Cancel=e("./cancel/Cancel"),u.CancelToken=e("./cancel/CancelToken"),u.isCancel=e("./cancel/isCancel"),u.all=function(e){return Promise.all(e)},u.spread=e("./helpers/spread"),t.exports=u,t.exports.default=u},{"./cancel/Cancel":4,"./cancel/CancelToken":5,"./cancel/isCancel":6,"./core/Axios":7,"./defaults":14,"./helpers/bind":15,"./helpers/spread":23,"./utils":24}],4:[function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},{}],5:[function(e,t,r){"use strict";var n=e("./Cancel");function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},t.exports=i},{"./Cancel":4}],6:[function(e,t,r){"use strict";t.exports=function(e){return!(!e||!e.__CANCEL__)}},{}],7:[function(e,t,r){"use strict";var n=e("./../defaults"),i=e("./../utils"),o=e("./InterceptorManager"),s=e("./dispatchRequest");function a(e){this.defaults=e,this.interceptors={request:new o,response:new o}}a.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},i.forEach(["delete","get","head","options"],(function(e){a.prototype[e]=function(t,r){return this.request(i.merge(r||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){a.prototype[e]=function(t,r,n){return this.request(i.merge(n||{},{method:e,url:t,data:r}))}})),t.exports=a},{"./../defaults":14,"./../utils":24,"./InterceptorManager":8,"./dispatchRequest":10}],8:[function(e,t,r){"use strict";var n=e("./../utils");function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},t.exports=i},{"./../utils":24}],9:[function(e,t,r){"use strict";var n=e("./enhanceError");t.exports=function(e,t,r,i,o){var s=new Error(e);return n(s,t,r,i,o)}},{"./enhanceError":11}],10:[function(e,t,r){"use strict";var n=e("./../utils"),i=e("./transformData"),o=e("../cancel/isCancel"),s=e("../defaults"),a=e("./../helpers/isAbsoluteURL"),u=e("./../helpers/combineURLs");function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}t.exports=function(e){return l(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},{"../cancel/isCancel":6,"../defaults":14,"./../helpers/combineURLs":17,"./../helpers/isAbsoluteURL":19,"./../utils":24,"./transformData":13}],11:[function(e,t,r){"use strict";t.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e}},{}],12:[function(e,t,r){"use strict";var n=e("./createError");t.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},{"./createError":9}],13:[function(e,t,r){"use strict";var n=e("./../utils");t.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},{"./../utils":24}],14:[function(e,t,r){(function(r){"use strict";var n=e("./utils"),i=e("./helpers/normalizeHeaderName"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=e("./adapters/xhr"):void 0!==r&&(a=e("./adapters/http")),a),transformRequest:[function(e,t){return i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(o)})),t.exports=u}).call(this,e("_process"))},{"./adapters/http":2,"./adapters/xhr":2,"./helpers/normalizeHeaderName":21,"./utils":24,_process:122}],15:[function(e,t,r){"use strict";t.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},{}],16:[function(e,t,r){"use strict";var n=e("./../utils");function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},{"./../utils":24}],17:[function(e,t,r){"use strict";t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},{}],18:[function(e,t,r){"use strict";var n=e("./../utils");t.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{"./../utils":24}],19:[function(e,t,r){"use strict";t.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},{}],20:[function(e,t,r){"use strict";var n=e("./../utils");t.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},{"./../utils":24}],21:[function(e,t,r){"use strict";var n=e("../utils");t.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},{"../utils":24}],22:[function(e,t,r){"use strict";var n=e("./../utils"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,r,o,s={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},{"./../utils":24}],23:[function(e,t,r){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},{}],24:[function(e,t,r){"use strict";var n=e("./helpers/bind"),i=e("is-buffer"),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}t.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,i=arguments.length;n<i;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},{"./helpers/bind":15,"is-buffer":25}],25:[function(e,t,r){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},{}],26:[function(e,t,r){"use strict";r.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n=l(e),s=n[0],a=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),c=0,p=a>0?s-4:s;for(r=0;r<p;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[c++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(c(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],27:[function(e,t,r){(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var n=e("base64-js"),i=e("ieee754"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=t,r.SlowBuffer=function(e){+e!=e&&(e=0);return t.alloc(+e)},r.INSPECT_MAX_BYTES=50;function s(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=new Uint8Array(e);return Object.setPrototypeOf(r,t.prototype),r}function t(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return a(e,t,r)}function a(e,r,n){if("string"==typeof e)return function(e,r){"string"==typeof r&&""!==r||(r="utf8");if(!t.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var n=0|f(e,r),i=s(n),o=i.write(e,r);o!==n&&(i=i.slice(0,o));return i}(e,r);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return function(e,r,n){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;i=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);return Object.setPrototypeOf(i,t.prototype),i}(e,r,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return t.from(i,r,n);var o=function(e){if(t.isBuffer(e)){var r=0|p(e.length),n=s(r);return 0===n.length?n:(e.copy(n,0,0,r),n)}if(void 0!==e.length)return"number"!=typeof e.length||U(e.length)?s(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),r,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),s(e<0?0:0|p(e))}function c(e){for(var t=e.length<0?0:0|p(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function f(e,r){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var o=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(e).length;default:if(o)return i?-1:q(e).length;r=(""+r).toLowerCase(),o=!0}}function d(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return S(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function h(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,r,n,i,o){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof r&&(r=t.from(r,i)),t.isBuffer(r))return 0===r.length?-1:g(e,r,n,i,o);if("number"==typeof r)return r&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,r,n):Uint8Array.prototype.lastIndexOf.call(e,r,n):g(e,[r],n,i,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=r;o<a;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var p=!0,f=0;f<u;f++)if(l(e,o+f)!==l(t,f)){p=!1;break}if(p)return o}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(U(a))return s;e[r+s]=a}return s}function v(e,t,r,n){return I(q(t,e.length-r),e,r,n)}function b(e,t,r,n){return I(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return b(e,t,r,n)}function T(e,t,r,n){return I(R(t),e,r,n)}function x(e,t,r,n){return I(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,l=e[i],c=null,p=l>239?4:l>223?3:l>191?2:1;if(i+p<=r)switch(p){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,p=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=p}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}r.kMaxLength=2147483647,t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},t.allocUnsafe=function(e){return l(e)},t.allocUnsafeSlow=function(e){return l(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,r){if(F(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),F(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=t.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){var s=e[n];if(F(s,Uint8Array)&&(s=t.from(s)),!t.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},t.byteLength=f,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):d.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o&&(t.prototype[o]=t.prototype.inspect),t.prototype.compare=function(e,r,n,i,o){if(F(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(i>>>=0),a=(n>>>=0)-(r>>>=0),u=Math.min(s,a),l=this.slice(i,o),c=e.slice(r,n),p=0;p<u;++p)if(l[p]!==c[p]){s=l[p],a=c[p];break}return s<a?-1:a<s?1:0},t.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},t.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},t.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},t.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return T(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function S(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=B[e[o]];return i}function _(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function A(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,r,n,i,o,s){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>o||r<s)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,o){return t=+t,r>>>=0,o||P(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,o){return t=+t,r>>>=0,o||P(e,0,r,8),i.write(e,t,r,n,52,8),r+8}t.prototype.slice=function(e,r){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return Object.setPrototypeOf(i,t.prototype),i},t.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||A(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},t.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||A(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},t.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||A(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},t.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||A(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},t.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),i.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),i.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),i.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),i.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||j(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},t.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||j(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},t.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},t.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},t.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},t.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},t.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},t.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},t.prototype.copy=function(e,r,n,i){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var o=i-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,n,i);else if(this===e&&n<r&&r<i)for(var s=o-1;s>=0;--s)e[s+r]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),r);return o},t.prototype.fill=function(e,r,n,i){if("string"==typeof e){if("string"==typeof r?(i=r,r=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var o=e.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;var s;if(r>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=r;s<n;++s)this[s]=e;else{var a=t.isBuffer(e)?e:t.from(e,i),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=a[s%u]}return this};var D=/[^+/0-9A-Za-z-_]/g;function q(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function R(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function I(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}var B=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}()}).call(this,e("buffer").Buffer)},{"base64-js":26,buffer:27,ieee754:120}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("axios");r.Authorizer=class{constructor(e=""){this.licenseKey=e,this.domainName=window.location.hostname,this.response={}}authorized(){return this.response&&this.response.data&&this.response.data.authorized}authorize(){let e=this;n({method:"POST",url:"https://app.dropkiq.com/authorization_attempts",headers:{"Access-Control-Allow-Origin":"*"},data:{domain_name:this.domainName,license_key:this.licenseKey}}).then((function(t){e.response=t})).catch((function(e){throw new Error("Unable to authenticate with dropkiq.com")}))}}},{axios:1}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./constants");r.CaretTagFinder=class{constructor(e,t,r){this.tokens=e,this.caretRow=t,this.caretColumn=r,this.tokenLine=this.caretRow+1,this.tokenColumn=this.caretColumn+1}findState(){let e=n.HTML,t=this.findCaretToken();if(void 0===t)return e;switch(t.type){case"html":e=n.HTML;break;case"output":e=n.OUTPUT;break;case"tag":e=n.TAG}return e}findCaretLiquidPosition(){let e=this.findCaretToken();return e?this.tokenColumn-e.col:0}findCaretToken(){return this.tokens.find((e,t)=>{let r=this.tokens[t+1];return e.line==this.tokenLine&&this.tokenColumn>=e.col&&(null==r||this.tokenColumn<r.col||r.line>this.tokenLine)})}}},{"./constants":37}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./constants");r.CycleDetector=class{constructor(){this.registry={}}register(e,t){if(this.registry[e]=this.registry[e]||0,this.registry[e]=this.registry[e]+1,this.registry[e]>n.MAX_CYCLES_AT_MAX_DEPTH&&t>n.ALLOW_CYCLES_UNTIL_DEPTH)throw new Error(`Cycle detected for key "${e}"`)}unregister(e){this.registry[e]=this.registry[e]-1}}},{"./constants":37}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./CycleDetector");r.DataSchema=class{constructor(e,t,r){this.schema=e,this.context=t,this.scope=r,this.cycleDetector=new n.CycleDetector,this.constructedScope=this.constructFakeScopeForArrays()}setCurrentPath(e){return this.currentPath=e,this.currentPath}buildPathSchema(e=[],t=this.context,r=[...this.currentPath]){let n=r.shift();if(n){if(!t[n])throw new Error(`Unable to find "${n}" in the current context`);let i=Object.assign({},t[n],{name:n});switch(e.push(i),i.type){case"ColumnTypes::HasOne":{let t=i.foreign_table_name,n=this.schema[t];if(!n)throw new Error(`Table "${t}" was not found in data schema`);this.buildPathSchema(e,n.methods,r);break}default:if(r.length)throw new Error("Liquid expression extends beyond a terminating node")}}return e}nextOptions(e=this.buildPathSchema(),t=this.context){let r=e[e.length-1];if(!r)return t;let n=r.foreign_table_name;switch(r.type){case"ColumnTypes::HasOne":return this.schema[n].methods;default:return{}}}constructFakeScopeForArrays(e=this.context,t={},r="",n=0){return t._table_name=r,Object.keys(e).forEach(r=>{let i=e[r];if("ColumnTypes::HasOne"==i.type){let e=i.foreign_table_name,o=this.schema[e];if(!o)throw new Error(`Table "${e}" was not found in data schema`);let s=o.methods;try{this.cycleDetector.register(e,n)}catch(e){return t}return t[r]=this.constructFakeScopeForArrays(s,{},e,n+1),this.cycleDetector.unregister(e),t}if("ColumnTypes::HasMany"==i.type){let e=i.foreign_table_name,o=this.schema[e];if(!o)throw new Error(`Table "${e}" was not found in data schema`);let s=o.methods;try{this.cycleDetector.register(e,n)}catch(e){return t}return t[r]=[this.constructFakeScopeForArrays(s,{},e,n+1)],this.cycleDetector.unregister(e),t}}),t}}},{"./CycleDetector":30}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./constants"),i=e("./DataSchema"),o=e("./CaretTagFinder"),s=e("./Authorizer"),a=e("./OutputAnalyzer"),u=e("./liquidjs/src/context/context"),l=e("./liquidjs/src/liquid-options"),c=e("./liquidjs/src/parser/tokenizer"),p=e("./liquidjs/src/liquid"),f=e("./liquidjs/src/parser/parser"),d=e("./liquidjs/src/render/render"),h=e("./liquidjs/src/util/async"),m=e("./liquidjs/src/util/error");r.DropkiqEngine=class{constructor(e,t,r,n,o,a="",u={}){if(this.opts={},this.options=l.applyDefault(l.normalize(this.opts)),this.liquid=new p.Liquid(this.opts),this.tokenizer=new c.Tokenizer(this.options),this.parser=new f.default(this.liquid),this.renderer=new d.Render,this.optionsFromUI=u,this.allowEmptySchema=this.optionsFromUI.allowEmptySchema||!1,this.suggestionFilter=()=>{},"function"==typeof u.suggestionFilter&&(this.suggestionFilter=u.suggestionFilter),!this.allowEmptySchema){if(!r)throw new Error("Dropkiq schema is empty. Please double check you're loading the dropkiq_schema.yaml file correctly.");0===Object.keys(r).length&&console.log("WARNING: Dropkiq schema object is empty.")}this.schema=r,this.context=n,this.scope=o,this.licenseKey=a,this.result={},this.dataSchema=new i.DataSchema(r,n,o),this.authorizer=new s.Authorizer(this.licenseKey),this.authorizer.authorize(),this.setTextBodyAndCaretPositionWithUpdate(e,t)}update(e,t){return this.setTextBodyAndCaretPositionWithUpdate(e,t)}setTextBodyAndCaretPositionWithUpdate(e,t){this.rawTextBody=e,this.caretIndex=t,this.setRowAndColumnFromIndex();try{this.tokens=this.tokenizer.tokenize(this.rawTextBody)}catch(e){if(this.state=n.ERROR,e instanceof m.TokenizationError)return{message:"Liquid is invalid (possibly because of unmatched {{ or {% braces)"};throw e}return this.caretTagFinder=new o.CaretTagFinder(this.tokens,this.caretRow,this.caretColumn),this.state=this.caretTagFinder.findState(),this.caretToken=this.caretTagFinder.findCaretToken(),this.caretLiquidPosition=this.caretTagFinder.findCaretLiquidPosition(),this.findResult()}findResult(){if(this.result={renderedDocument:this.renderedDocument()},!this.caretToken)return this.result;switch(this.state){case n.HTML:case n.TAG:this.result;break;case n.OUTPUT:{this.templates=this.parser.parse(this.tokens);let e=new a.OutputAnalyzer(this.templates,this.caretToken,this.caretLiquidPosition,this.dataSchema,this.authorizer,this.suggestionFilter);this.result=Object.assign(this.result,e.analyze());break}default:throw new Error(`Unknown Dropkiq state "${this.state}"`)}return this.result}renderedDocument(){const e=this.tokenizer.tokenize(this.rawTextBody),t=this.parser.parse(e),r=new u.Context(this.scope,this.options,!0);return h.toValue(this.renderer.renderTemplates(t,r))}setRowAndColumnFromIndex(){this.rawLeftTextBody=this.rawTextBody.slice(0,this.caretIndex),this.rawRightTextBody=this.rawTextBody.slice(this.caretIndex,this.rawTextBody.length);let e=this.rawLeftTextBody.split(/\r?\n/g);var t=e.length-1,r=e[t].length;this.caretRow=t,this.caretColumn=r}}},{"./Authorizer":28,"./CaretTagFinder":29,"./DataSchema":31,"./OutputAnalyzer":35,"./constants":37,"./liquidjs/src/context/context":67,"./liquidjs/src/liquid":77,"./liquidjs/src/liquid-options":76,"./liquidjs/src/parser/parser":85,"./liquidjs/src/parser/tokenizer":88,"./liquidjs/src/render/render":95,"./liquidjs/src/util/async":106,"./liquidjs/src/util/error":107}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./DropkiqEngine"),i=e("uuid");r.DropkiqEngineFromScope=class{constructor(e,t,r,n="",i={}){this.rawTextBody=e,this.caretIndex=t,this.scope=r,this.licenseKey=n,this.optionsFromUI=Object.assign(i,{allowEmptySchema:!0}),this.schema={},this.context=this.constructContextFromScope()}dropkiqEngine(){return new n.DropkiqEngine(this.rawTextBody,this.caretIndex,this.schema,this.context,this.scope,this.licenseKey,this.optionsFromUI)}constructContextFromScope(){let e=this,t={};return Object.keys(this.scope).forEach((function(r){e.addValueSignature(e.scope,r,t)})),t}findValueType(e){switch(typeof e){case"undefined":return"ColumnTypes::String";case"boolean":return"ColumnTypes::Boolean";case"object":if(null===e)return"ColumnTypes::String";if("function"==typeof e.getMonth)return"ColumnTypes::DateTime";if(Array.isArray(e)){let t=e[0];return"ColumnTypes::HasOne"===this.findValueType(t)?"ColumnTypes::HasMany":"ColumnTypes::YAML"}return"ColumnTypes::HasOne";case"string":case"symbol":return"ColumnTypes::String";case"number":case"bigint":return"ColumnTypes::Numeric";default:throw new Error(`Received unknown type ${typeof e} while constructing context`)}}constructFakeSchemaTable(e){let t=i.v4(),r=this;return this.schema[t]={methods:{}},Object.keys(e).forEach((function(n){r.addValueSignature(e,n,r.schema[t].methods)})),t}addValueSignature(e,t,r){let n=e[t],i=this.findValueType(n),o=null;if("ColumnTypes::HasOne"===i&&(o=this.constructFakeSchemaTable(n)),"ColumnTypes::HasMany"===i){let e=n[0];o=this.constructFakeSchemaTable(e)}r[t]={type:i,foreign_table_name:o}}}},{"./DropkiqEngine":32,uuid:111}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./ScopeCapture"),i=e("./liquidjs/src/template/value"),o=e("./liquidjs/src/template/output"),s=e("./liquidjs/src/template/tag/tag"),a=e("./liquidjs/src/template/html");r.LivePreviewer=class{constructor(e,t,r,n,i){this.path=e,this.suggestions=t,this.templates=r,this.caretToken=n,this.dataSchema=i,this.templatesWithoutHTML=[...r],this.removeHTMLFromTemplates(this.templatesWithoutHTML)}suggestionsWithPreviews(){return Object.keys(this.suggestions).forEach(e=>{let t=this.suggestions[e],r=this.constructLiquidStatementForSuggestion(e),i=[...this.templatesWithoutHTML];this.modifyCaretTokenInTemplates(r,i);let o=new n.ScopeCapture(i,this.caretToken,this.dataSchema);o.capture(this.dataSchema.scope);let s=o.getCapturedRendered();t.template=this.writePreviewTemplate(i),t.preview=s}),this.suggestions}constructLiquidStatementForSuggestion(e){let t=(""+this.caretToken.raw).replace("{{","").replace("}}","").split("|"),r=(t.shift(),[...this.path]);r.push(e);let n=r.join(".");return t.unshift(n),t.join(" | ")}modifyCaretTokenInTemplates(e,t){for(let r=0;r<t.length;r++){let n=t[r];n instanceof s.Tag&&["increment","include","cycle","decrement","layout","tablerow","raw","comment"].includes(n.name)&&(t.splice(r,1),r--),n instanceof o.Output&&(n.token===this.caretToken?(n.token.raw=`{{ ${e} }}`,n.value=new i.Value(e,!1)):(t.splice(r,1),r--)),this.traverseChildren(n,t=>{this.modifyCaretTokenInTemplates(e,t)})}}removeHTMLFromTemplates(e){for(let t=0;t<e.length;t++){let r=e[t];r instanceof a.HTML&&(e.splice(t,1),t--),this.traverseChildren(r,e=>{this.removeHTMLFromTemplates(e)})}}traverseChildren(e,t){e.impl&&e.impl.templates&&t(e.impl.templates),e.impl&&e.impl.branches&&e.impl.branches.forEach((e,r)=>{let n=r>0?`{% elsif ${e.cond} %}`:null;t(e.templates,n)}),e.impl&&e.impl.cases&&e.impl.cases.forEach(e=>{t(e.templates,`{% when ${e.val} %}`)}),e.impl&&e.impl.elseTemplates&&e.impl.elseTemplates.length>0&&t(e.impl.elseTemplates,"{% else %}")}writePreviewTemplate(e,t=""){return e.forEach((e,r)=>{if("for"===e.name){let r=e.token.raw.replace("%}"," limit:1 %}");t=t.concat(r)}else t=t.concat(e.token.raw);if(this.traverseChildren(e,(e,r)=>{r&&(t=t.concat(r)),t=this.writePreviewTemplate(e,t)}),e instanceof s.Tag)switch(e.name){case"for":t=t.concat("{% endfor %}");break;case"if":t=t.concat("{% endif %}");break;case"unless":t=t.concat("{% endunless %}");break;case"capture":t=t.concat("{% endcapture %}");break;case"case":t=t.concat("{% endcase %}");break;case"assign":break;default:throw new Error(`Unhandled Tag: "${e.name}"`)}}),t}}},{"./ScopeCapture":36,"./liquidjs/src/template/html":98,"./liquidjs/src/template/output":99,"./liquidjs/src/template/tag/tag":101,"./liquidjs/src/template/value":103}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./ScopeCapture"),i=e("./LivePreviewer");r.OutputAnalyzer=class{constructor(e,t,r,n,i,o=(()=>{})){this.templates=e,this.caretToken=t,this.caretLiquidPosition=r,this.dataSchema=n,this.authorizer=i,this.suggestionFilter=o,this.rawText=this.caretToken.raw,this.leftCaretText=this.rawText.slice(0,this.caretLiquidPosition),this.rightCaretText=this.rawText.slice(this.caretLiquidPosition,this.rawText.length)}analyze(){let e={preview:"",suggestions:[],prefix:""},t=new n.ScopeCapture([...this.templates],this.caretToken,this.dataSchema);t.capture(this.dataSchema.scope);let r=t.getCapturedRendered();if(r&&(e.preview=r),this.canMakeSuggestion()){let t=this.getPathFromRawText(),r=t.pop(),n=[];this.dataSchema.setCurrentPath(t);let o=this.getContextWithScopeOptions();this.dataSchema.buildPathSchema(n,o);let s,a=n[n.length-1];if(a&&"ColumnTypes::HasOne"!==a.type)throw new Error("End of Liquid expression reached");if(a&&!this.authorizer.authorized()){let e=this.dataSchema.nextOptions(n,o);s={dropkiq:{type:"ColumnTypes::String",foreign_table_name:null,hint:`${Object.keys(e).length} ${a.name} Liquid methods are hidden in the free version of Dropkiq.`}}}else s=this.dataSchema.nextOptions(n,o);s=s||{},r&&(s=this.filterResults(r,s)),this.livePreviewer=new i.LivePreviewer(t,s,this.templates,this.caretToken,this.dataSchema),s=this.livePreviewer.suggestionsWithPreviews(),e.pathSchema=n,e.prefix=r||"",e.suggestions=s||{},e.suggestionsArray=Object.keys(e.suggestions).map(t=>{let n=e.suggestions[t];return Object.assign({},n,{name:t,prefix:r,nameWithoutPrefix:this.nameWithoutPrefix(t,e.prefix),iconImageURLForSuggestion:this.iconImageURLForSuggestion(n.type)})}),this.suggestionFilter(e.suggestionsArray)}return e}canMakeSuggestion(){return!this.cursorIsInBraces()&&this.cursorIsLeftOfFilters()&&this.pastRightMostPeriod()&&!this.spaceExistsAfterContent()&&this.rightCharacterIsEligible()}cursorIsInBraces(){return!this.leftCaretText.includes("{{")||!this.rightCaretText.includes("}}")}cursorIsLeftOfFilters(){return!this.leftCaretText.includes("|")}pastRightMostPeriod(){return!this.rightCaretText.includes(".")}rightCharacterIsEligible(){let e=this.rightCaretText[0];return" "===e||e==String.fromCharCode(160)||"|"===e||"}"===e}spaceExistsAfterContent(){let e=this.leftCaretText.replace(/\{+/,"");return new RegExp(/\S+\s+/).test(e)}getPathFromRawText(){let e=this.rawText.replace("{{","").replace("}}","").split("|")[0].trim();return 0===e.length?[]:e.split(".")}filterResults(e,t){let r=Object.assign({},t);return Object.keys(r).forEach(t=>{r[t],t===e&&delete r[t],t.startsWith(e)||delete r[t]}),r}getContextWithScopeOptions(){let e=new n.ScopeCapture(this.templates,this.caretToken,this.dataSchema).optionsFromScope(),t=JSON.parse(JSON.stringify(this.dataSchema.context));return this.authorizer.authorized()?Object.assign(t,e):Object.assign(t,{})}nameWithoutPrefix(e,t){return e.slice(t.length,e.length)}iconImageURLForSuggestion(e){switch(e){case"ColumnTypes::HasMany":return"https://app.dropkiq.com/plugin/array.png";case"ColumnTypes::HasOne":case"ColumnTypes::YAML":return"https://app.dropkiq.com/plugin/object.png";case"ColumnTypes::String":return"https://app.dropkiq.com/plugin/string.png";case"ColumnTypes::Numeric":return"https://app.dropkiq.com/plugin/numeric.png";case"ColumnTypes::Boolean":return"https://app.dropkiq.com/plugin/boolean.png";case"ColumnTypes::DateTime":return"https://app.dropkiq.com/plugin/date.png";case"ColumnTypes::Text":return"https://app.dropkiq.com/plugin/string.png"}}}},{"./LivePreviewer":34,"./ScopeCapture":36}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./liquidjs/src/liquid-options"),i=e("./liquidjs/src/render/render"),o=e("./liquidjs/src/context/context"),s=e("./liquidjs/src/util/async"),a=e("./liquidjs/src/template/output"),u=e("./liquidjs/src/util/underscore");let l,c,p;a.Output.prototype.render=function*(e,t){this.token===p&&(l=JSON.parse(JSON.stringify(e)));const r=yield this.value.value(e),n=u.stringify(s.toValue(r));t.write(n),this.token===p&&(c=n)};r.ScopeCapture=class{constructor(e,t,r){this.templates=e,this.caretToken=t,this.renderer=new i.Render,this.dataSchema=r}optionsFromScope(){let e={};this.capture();let t=this.getCapturedContext()||{scopes:[]},r=t.scopes.shift()||{};return Object.keys(r).forEach(t=>{e[t]={type:this.classifyDataType(r[t]),foreign_table_name:null}}),t.scopes.forEach(t=>{delete t.forloop,Object.keys(t).forEach(r=>{let n=t[r];e[r]={type:"ColumnTypes::HasOne",foreign_table_name:n._table_name}})}),e}getCapturedContext(){return l}getCapturedRendered(){return c}capture(e=this.dataSchema.constructedScope){let t={},r=n.applyDefault(n.normalize(t));p=this.caretToken;const i=Object.assign(Object.assign({},r),n.normalize(t)),a=new o.Context(e,i,!0);s.toValue(this.renderer.renderTemplates(this.templates,a))}classifyDataType(e){switch(typeof e){case"string":return"ColumnTypes::String";case"boolean":return"ColumnTypes::Boolean";case"number":return"ColumnTypes::Numeric";case"object":return"ColumnTypes::YAML";default:throw new Error(`Unknown assigns variable type for ${e}`)}}}},{"./liquidjs/src/context/context":67,"./liquidjs/src/liquid-options":76,"./liquidjs/src/render/render":95,"./liquidjs/src/template/output":99,"./liquidjs/src/util/async":106,"./liquidjs/src/util/underscore":109}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HTML="HTML",r.OUTPUT="OUTPUT",r.TAG="TAG",r.ERROR="ERROR",r.MAX_CYCLES_AT_MAX_DEPTH=3,r.ALLOW_CYCLES_UNTIL_DEPTH=3},{}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./DropkiqEngine"),i=e("./DropkiqEngineFromScope");window.DropkiqEngine=n.DropkiqEngine,window.DropkiqEngineFromScope=i.DropkiqEngineFromScope;var o=e("./DropkiqEngine");r.DropkiqEngine=o.DropkiqEngine;var s=e("./DropkiqEngineFromScope");r.DropkiqEngineFromScope=s.DropkiqEngineFromScope},{"./DropkiqEngine":32,"./DropkiqEngineFromScope":33}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/underscore"),i=e("../../render/boolean");r.default={join:(e,t)=>e.join(void 0===t?" ":t),last:e=>n.isArray(e)?n.last(e):"",first:e=>n.isArray(e)?e[0]:"",map:function(e,t){return e.map(e=>e[t])},reverse:e=>[...e].reverse(),sort:(e,t)=>e.sort(t),size:e=>e&&e.length||0,concat:function(e,t){return Array.prototype.concat.call(e,t)},slice:function(e,t,r=1){return t=t<0?e.length+t:t,e.slice(t,t+r)},uniq:function(e){const t={};return(e||[]).filter(e=>!t.hasOwnProperty(String(e))&&(t[String(e)]=!0,!0))},where:function(e,t,r){return e.filter(e=>{const n=this.context.getFromScope(e,t);return void 0===r?i.isTruthy(n):n===r})}}},{"../../render/boolean":90,"../../util/underscore":109}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/strftime"),i=e("../../util/underscore");r.default={date:(e,t)=>{let r=e;return"now"===e?r=new Date:i.isNumber(e)?r=new Date(1e3*e):i.isString(e)&&(r=/^\d+$/.test(e)?new Date(1e3*+e):new Date(e)),function(e){return e instanceof Date&&!isNaN(e.getTime())}(r)?n.default(r,t):e}}},{"../../util/strftime":108,"../../util/underscore":109}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/underscore"),i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},o={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function s(e){return n.stringify(e).replace(/&|<|>|"|'/g,e=>i[e])}r.default={escape:s,escape_once:e=>s(function(e){return String(e).replace(/&(amp|lt|gt|#34|#39);/g,e=>o[e])}(e)),newline_to_br:e=>e.replace(/\n/g,"<br />"),strip_html:e=>e.replace(/<script.*?<\/script>|<!--.*?-->|<style.*?<\/style>|<.*?>/g,"")}},{"../../util/underscore":109}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./html"),i=e("./string"),o=e("./math"),s=e("./url"),a=e("./array"),u=e("./date"),l=e("./object");r.default=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n.default),i.default),o.default),s.default),u.default),l.default),a.default)},{"./array":39,"./date":40,"./html":41,"./math":43,"./object":44,"./string":45,"./url":46}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=String.prototype.toLowerCase;function i(e,t){return t?e?(e=n.call(e))<(t=n.call(t))?-1:e>t?1:0:1:-1}r.default={abs:e=>Math.abs(e),at_least:(e,t)=>Math.max(e,t),at_most:(e,t)=>Math.min(e,t),ceil:e=>Math.ceil(e),divided_by:(e,t)=>e/t,floor:e=>Math.floor(e),minus:(e,t)=>e-t,modulo:(e,t)=>e%t,round:(e,t=0)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},plus:(e,t)=>Number(e)+Number(t),sort_natural:function(e,t){return e&&e.sort?void 0!==t?[...e].sort((e,r)=>i(e[t],r[t])):[...e].sort(i):[]},times:(e,t)=>e*t}},{}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../render/boolean"),i=e("../../util/underscore");r.default={default:function(e,t){return n.isFalsy(i.toValue(e))||""===e?t:e}}},{"../../render/boolean":90,"../../util/underscore":109}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/underscore");r.default={append:(e,t)=>n.stringify(e)+n.stringify(t),prepend:(e,t)=>n.stringify(t)+n.stringify(e),capitalize:function(e){return(e=n.stringify(e)).charAt(0).toUpperCase()+e.slice(1)},lstrip:e=>n.stringify(e).replace(/^\s+/,""),downcase:e=>n.stringify(e).toLowerCase(),upcase:e=>n.stringify(e).toUpperCase(),remove:(e,t)=>n.stringify(e).split(t).join(""),remove_first:(e,t)=>n.stringify(e).replace(t,""),replace:function(e,t,r){return n.stringify(e).split(t).join(r)},replace_first:function(e,t,r){return n.stringify(e).replace(t,r)},rstrip:e=>n.stringify(e).replace(/\s+$/,""),split:(e,t)=>n.stringify(e).split(t),strip:e=>n.stringify(e).trim(),strip_newlines:e=>n.stringify(e).replace(/\n/g,""),truncate:function(e,t=50,r="..."){return(e=n.stringify(e)).length<=t?e:e.substr(0,t-r.length)+r},truncatewords:function(e,t=15,r="..."){const n=e.split(/\s+/);let i=n.slice(0,t).join(" ");return n.length>=t&&(i+=r),i}}},{"../../util/underscore":109}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={url_decode:e=>e.split("+").map(decodeURIComponent).join(" "),url_encode:e=>e.split(" ").map(encodeURIComponent).join("+")}},{}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/assert"),i=e("../../parser/lexical"),o=new RegExp(`(${i.identifier.source})\\s*=([^]*)`);r.default={parse:function(e){const t=e.args.match(o);n.assert(t,`illegal token ${e.raw}`),this.key=t[1],this.value=t[2]},render:function*(e){e.front()[this.key]=yield this.liquid._evalValue(this.value,e)}}},{"../../parser/lexical":81,"../../util/assert":105}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../context/block-mode");r.default={parse:function(e,t){const r=/\w+/.exec(e.args);this.block=r?r[0]:"",this.tpls=[];const n=this.liquid.parser.parseStream(t).on("tag:endblock",()=>n.stop()).on("template",e=>this.tpls.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});n.start()},render:function*(e,t,r){const i=e.getRegister("blocks"),o=i[this.block],s=this.liquid.renderer,a=void 0!==o?o:yield s.renderTemplates(this.tpls,e);e.getRegister("blockMode",n.default.OUTPUT)!==n.default.STORE?r.write(a):i[this.block]=a}}},{"../../context/block-mode":66}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={render:function(e,t,r){r.break=!0}}},{}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/assert"),i=e("../../parser/lexical"),o=new RegExp(`(${i.identifier.source})`);r.default={parse:function(e,t){const r=e.args.match(o);n.assert(r,`${e.args} not valid identifier`),this.variable=r[1],this.templates=[];const i=this.liquid.parser.parseStream(t);i.on("tag:endcapture",()=>i.stop()).on("template",e=>this.templates.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)}),i.start()},render:function*(e){const t=this.liquid.renderer,r=yield t.renderTemplates(this.templates,e);e.front()[this.variable]=r}}},{"../../parser/lexical":81,"../../util/assert":105}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../types");r.default={parse:function(e,t){this.cond=e.args,this.cases=[],this.elseTemplates=[];let r=[];const n=this.liquid.parser.parseStream(t).on("tag:when",e=>{this.cases.push({val:e.args,templates:r=[]})}).on("tag:else",()=>r=this.elseTemplates).on("tag:endcase",()=>n.stop()).on("template",e=>r.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});n.start()},render:function*(e,t,r){const i=this.liquid.renderer;for(let t=0;t<this.cases.length;t++){const o=this.cases[t];if((yield new n.Expression(o.val).value(e))===(yield new n.Expression(this.cond).value(e)))return void(yield i.renderTemplates(o.templates,e,r))}yield i.renderTemplates(this.elseTemplates,e,r)}}},{"../../types":104}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parse:function(e,t){const r=this.liquid.parser.parseStream(t);r.on("token",e=>{"endcomment"===e.name&&r.stop()}).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)}),r.start()}}},{}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={render:function(e,t,r){r.continue=!0}}},{}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/assert"),i=e("../../parser/lexical"),o=e("../../types"),s=new RegExp(`^(?:(${i.value.source})\\s*:\\s*)?(.*)$`),a=new RegExp(i.value.source,"g");r.default={parse:function(e){let t=s.exec(e.args);n.assert(t,`illegal tag: ${e.raw}`),this.group=new o.Expression(t[1]);const r=t[2];for(this.candidates=[];t=a.exec(r);)this.candidates.push(t[0]);n.assert(this.candidates.length,`empty candidates: ${e.raw}`)},render:function*(e,t,r){const n=`cycle:${yield this.group.value(e)}:`+this.candidates.join(","),i=e.getRegister("cycle");let s=i[n];void 0===s&&(s=i[n]=0);const a=this.candidates[s];s=(s+1)%this.candidates.length,i[n]=s;const u=yield new o.Expression(a).value(e);r.write(u)}}},{"../../parser/lexical":81,"../../types":104,"../../util/assert":105}],55:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/assert"),i=e("../../parser/lexical"),o=e("../../util/underscore");r.default={parse:function(e){const t=e.args.match(i.identifier);n.assert(t,`illegal identifier ${e.args}`),this.variable=t[0]},render:function(e,t,r){const n=e.environments;o.isNumber(n[this.variable])||(n[this.variable]=0),r.write(o.stringify(--n[this.variable]))}}},{"../../parser/lexical":81,"../../util/assert":105,"../../util/underscore":109}],56:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/underscore"),i=e("../../render/expression"),o=e("../../util/assert"),s=e("../../parser/lexical"),a=e("../../drop/forloop-drop"),u=new RegExp(`^(${s.identifier.source})\\s+in\\s+`+`(${s.value.source})`+`(?:\\s+${s.hash.source})*`+"(?:\\s+(reversed))?"+`(?:\\s+${s.hash.source})*$`);r.default={type:"block",parse:function(e,t){const r=u.exec(e.args);let n;o.assert(r,`illegal tag: ${e.raw}`),this.variable=r[1],this.collection=r[2],this.reversed=!!r[3],this.templates=[],this.elseTemplates=[];const i=this.liquid.parser.parseStream(t).on("start",()=>n=this.templates).on("tag:else",()=>n=this.elseTemplates).on("tag:endfor",()=>i.stop()).on("template",e=>n.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});i.start()},render:function*(e,t,r){const o=this.liquid.renderer;let s=yield new i.Expression(this.collection).value(e);if(n.isArray(s)||(n.isString(s)&&s.length>0?s=[s]:n.isObject(s)&&(s=Object.keys(s).map(e=>[e,s[e]]))),!n.isArray(s)||!s.length)return void(yield o.renderTemplates(this.elseTemplates,e,r));const u=t.offset||0,l=void 0===t.limit?s.length:t.limit;s=s.slice(u,u+l),this.reversed&&s.reverse();const c={forloop:new a.ForloopDrop(s.length)};e.push(c);for(const t of s){if(c[this.variable]=t,yield o.renderTemplates(this.templates,e,r),r.break){r.break=!1;break}r.continue=!1,c.forloop.next()}e.pop()}}},{"../../drop/forloop-drop":71,"../../parser/lexical":81,"../../render/expression":92,"../../util/assert":105,"../../util/underscore":109}],57:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../types");r.default={parse:function(e,t){let r;this.branches=[],this.elseTemplates=[];const n=this.liquid.parser.parseStream(t).on("start",()=>this.branches.push({cond:e.args,templates:r=[]})).on("tag:elsif",e=>{this.branches.push({cond:e.args,templates:r=[]})}).on("tag:else",()=>r=this.elseTemplates).on("tag:endif",()=>n.stop()).on("template",e=>r.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});n.start()},render:function*(e,t,r){const i=this.liquid.renderer;for(const t of this.branches){const o=yield new n.Expression(t.cond).value(e);if(n.isTruthy(o))return void(yield i.renderTemplates(t.templates,e,r))}yield i.renderTemplates(this.elseTemplates,e,r)}}},{"../../types":104}],58:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/assert"),i=e("../../types"),o=e("../../parser/lexical"),s=e("../../context/block-mode"),a=/[^\s,]+/,u=new RegExp(`with\\s+(${o.value.source})`);r.default={parse:function(e){let t=a.exec(e.args);t&&(this.staticValue=t[0]),t=o.value.exec(e.args),t&&(this.value=t[0]),t=u.exec(e.args),t&&(this.with=t[1])},render:function*(e,t,r){let a;if(e.opts.dynamicPartials)if(o.quotedLine.exec(this.value)){const t=this.value.slice(1,-1);a=yield this.liquid._parseAndRender(t,e.getAll(),e.opts,e.sync)}else a=yield new i.Expression(this.value).value(e);else a=this.staticValue;n.assert(a,"cannot include with empty filename");const u=e.getRegister("blocks"),l=e.getRegister("blockMode");e.setRegister("blocks",{}),e.setRegister("blockMode",s.default.OUTPUT),this.with&&(t[a]=yield new i.Expression(this.with).evaluate(e));const c=yield this.liquid._parseFile(a,e.opts,e.sync);e.push(t),yield this.liquid.renderer.renderTemplates(c,e,r),e.pop(),e.setRegister("blocks",u),e.setRegister("blockMode",l)}}},{"../../context/block-mode":66,"../../parser/lexical":81,"../../types":104,"../../util/assert":105}],59:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/assert"),i=e("../../parser/lexical"),o=e("../../util/underscore");r.default={parse:function(e){const t=e.args.match(i.identifier);n.assert(t,`illegal identifier ${e.args}`),this.variable=t[0]},render:function(e,t,r){const n=e.environments;o.isNumber(n[this.variable])||(n[this.variable]=0);const i=n[this.variable];n[this.variable]++,r.write(o.stringify(i))}}},{"../../parser/lexical":81,"../../util/assert":105,"../../util/underscore":109}],60:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./assign"),i=e("./for"),o=e("./capture"),s=e("./case"),a=e("./comment"),u=e("./include"),l=e("./render"),c=e("./decrement"),p=e("./cycle"),f=e("./if"),d=e("./increment"),h=e("./layout"),m=e("./block"),g=e("./raw"),y=e("./tablerow"),v=e("./unless"),b=e("./break"),w=e("./continue"),T={assign:n.default,for:i.default,capture:o.default,case:s.default,comment:a.default,include:u.default,render:l.default,decrement:c.default,increment:d.default,cycle:p.default,if:f.default,layout:h.default,block:m.default,raw:g.default,tablerow:y.default,unless:v.default,break:b.default,continue:w.default};r.default=T},{"./assign":47,"./block":48,"./break":49,"./capture":50,"./case":51,"./comment":52,"./continue":53,"./cycle":54,"./decrement":55,"./for":56,"./if":57,"./include":58,"./increment":59,"./layout":61,"./raw":62,"./render":63,"./tablerow":64,"./unless":65}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/assert"),i=e("../../parser/lexical"),o=e("../../types"),s=e("../../context/block-mode"),a=/\S+/;r.default={parse:function(e,t){let r=a.exec(e.args);r&&(this.staticLayout=r[0]),r=i.value.exec(e.args),r&&(this.layout=r[0]),this.tpls=this.liquid.parser.parse(t)},render:function*(e,t,r){const i=e.opts.dynamicPartials?yield new o.Expression(this.layout).value(e):this.staticLayout;n.assert(i,"cannot apply layout with empty filename"),e.setRegister("blockMode",s.default.STORE);const a=e.getRegister("blocks"),u=this.liquid.renderer,l=yield u.renderTemplates(this.tpls,e);void 0===a[""]&&(a[""]=l);const c=yield this.liquid._parseFile(i,e.opts,e.sync);e.push(t),e.setRegister("blockMode",s.default.OUTPUT);const p=yield u.renderTemplates(c,e);e.pop(),r.write(p)}}},{"../../context/block-mode":66,"../../parser/lexical":81,"../../types":104,"../../util/assert":105}],62:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parse:function(e,t){this.tokens=[];const r=this.liquid.parser.parseStream(t);r.on("token",e=>{"endraw"===e.name?r.stop():this.tokens.push(e)}).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)}),r.start()},render:function(){return this.tokens.map(e=>e.raw).join("")}}},{}],63:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/assert"),i=e("../../types"),o=e("../../parser/lexical"),s=e("../../context/block-mode"),a=/[^\s,]+/,u=new RegExp(`with\\s+(${o.value.source})`);r.default={parse:function(e){let t=a.exec(e.args);t&&(this.staticValue=t[0]),t=o.value.exec(e.args),t&&(this.value=t[0]),t=u.exec(e.args),t&&(this.with=t[1])},render:function*(e,t,r){let a;if(e.opts.dynamicPartials)if(o.quotedLine.exec(this.value)){const t=this.value.slice(1,-1);a=yield this.liquid._parseAndRender(t,e.getAll(),e.opts,e.sync)}else a=yield new i.Expression(this.value).value(e);else a=this.staticValue;n.assert(a,"cannot render with empty filename");const u=e.getRegister("blocks"),l=e.getRegister("blockMode"),c=new i.Context({},e.opts,e.sync);c.setRegister("blocks",{}),c.setRegister("blockMode",s.default.OUTPUT),this.with&&(t[a]=yield new i.Expression(this.with).evaluate(e)),c.push(t);const p=yield this.liquid._parseFile(a,c.opts,c.sync);yield this.liquid.renderer.renderTemplates(p,c,r),c.setRegister("blocks",u),c.setRegister("blockMode",l)}}},{"../../context/block-mode":66,"../../parser/lexical":81,"../../types":104,"../../util/assert":105}],64:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/assert"),i=e("../../types"),o=e("../../parser/lexical"),s=e("../../drop/tablerowloop-drop"),a=new RegExp(`^(${o.identifier.source})\\s+in\\s+`+`(${o.value.source})`+`(?:\\s+${o.hash.source})*$`);r.default={parse:function(e,t){const r=a.exec(e.args);let i;n.assert(r,`illegal tag: ${e.raw}`),this.variable=r[1],this.collection=r[2],this.templates=[];const o=this.liquid.parser.parseStream(t).on("start",()=>i=this.templates).on("tag:endtablerow",()=>o.stop()).on("template",e=>i.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});o.start()},render:function*(e,t,r){let n=(yield new i.Expression(this.collection).value(e))||[];const o=t.offset||0,a=void 0===t.limit?n.length:t.limit;n=n.slice(o,o+a);const u=t.cols||n.length,l=this.liquid.renderer,c=new s.TablerowloopDrop(n.length,u),p={tablerowloop:c};e.push(p);for(let t=0;t<n.length;t++,c.next())p[this.variable]=n[t],0===c.col0()&&(1!==c.row()&&r.write("</tr>"),r.write(`<tr class="row${c.row()}">`)),r.write(`<td class="col${c.col()}">`),yield l.renderTemplates(this.templates,e,r),r.write("</td>");n.length&&r.write("</tr>"),e.pop()}}},{"../../drop/tablerowloop-drop":74,"../../parser/lexical":81,"../../types":104,"../../util/assert":105}],65:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../types");r.default={parse:function(e,t){let r;this.templates=[],this.elseTemplates=[];const n=this.liquid.parser.parseStream(t).on("start",()=>{r=this.templates,this.cond=e.args}).on("tag:else",()=>r=this.elseTemplates).on("tag:endunless",()=>n.stop()).on("template",e=>r.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});n.start()},render:function*(e,t,r){const i=this.liquid.renderer,o=yield new n.Expression(this.cond).value(e);yield n.isFalsy(o)?i.renderTemplates(this.templates,e,r):i.renderTemplates(this.elseTemplates,e,r)}}},{"../../types":104}],66:[function(e,t,r){"use strict";var n,i;Object.defineProperty(r,"__esModule",{value:!0}),(i=n||(n={}))[i.OUTPUT=0]="OUTPUT",i[i.STORE=1]="STORE",r.default=n},{}],67:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../drop/drop"),i=e("tslib"),o=e("../util/assert"),s=e("../liquid-options"),a=e("../util/underscore");function u(e,t){return a.isNil(e)?e:(e=a.toLiquid(e))instanceof n.Drop?a.isFunction(e[t])?e[t]():e.hasOwnProperty(t)?e[t]:e.liquidMethodMissing(t):"size"===t?function(e){return a.isArray(e)||a.isString(e)?e.length:e.size}(e):"first"===t?function(e){return a.isArray(e)?e[0]:e.first}(e):"last"===t?function(e){return a.isArray(e)?e[e.length-1]:e.last}(e):e[t]}function l(e,t){let r=1;for(let n=t;n<e.length;n++)if("["===e[n]&&r++,"]"===e[n]&&(r--,0===r))return n;return-1}r.Context=class{constructor(e={},t,r=!1){this.scopes=[{}],this.registers={},this.sync=r,this.opts=s.applyDefault(t),this.environments=e}getRegister(e,t={}){return this.registers[e]=this.registers[e]||t}setRegister(e,t){return this.registers[e]=t}getAll(){return[this.environments,...this.scopes].reduce((e,t)=>i.__assign(e,t),{})}get(e){const t=this.parseProp(e),r=this.findScope(t[0])||this.environments;return this.getFromScope(r,t)}getFromScope(e,t){return a.isArray(t)||(t=this.parseProp(t)),t.reduce((e,t)=>{if(e=u(e,t),a.isNil(e)&&this.opts.strictVariables)throw new TypeError(`undefined variable: ${t}`);return e},e)}push(e){return this.scopes.push(e)}pop(){return this.scopes.pop()}front(){return this.scopes[0]}findScope(e){for(let t=this.scopes.length-1;t>=0;t--){const r=this.scopes[t];if(e in r)return r}return null}parseProp(e){e=String(e);const t=[];let r,n="",i=0;for(;i<e.length;)switch(e[i]){case"[":s();const t=e[i+1];/['"]/.test(t)?(r=e.indexOf(t,i+2),o.assert(-1!==r,`unbalanced ${t}: ${e}`),n=e.slice(i+2,r),s(),i=r+2):(r=l(e,i+1),o.assert(-1!==r,`unbalanced []: ${e}`),n=e.slice(i+1,r),/^[+-]?\d+$/.test(n)||(n=String(this.get(n))),s(),i=r+1);break;case".":s(),i++;break;default:n+=e[i++]}if(s(),!t.length)throw new TypeError(`invalid path:"${e}"`);return t;function s(){n.length&&t.push(n),n=""}}},r.readProperty=u},{"../drop/drop":69,"../liquid-options":76,"../util/assert":105,"../util/underscore":109,tslib:125}],68:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../util/underscore"),i=e("../drop/empty-drop");class o extends i.EmptyDrop{equals(e){return!1===e||!!n.isNil(n.toValue(e))||(n.isString(e)?/^\s*$/.test(e):super.equals(e))}}r.BlankDrop=o},{"../drop/empty-drop":70,"../util/underscore":109}],69:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.Drop=class{valueOf(){}liquidMethodMissing(e){}}},{}],70:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./drop"),i=e("../util/underscore");class o extends n.Drop{equals(e){return i.isString(e)||i.isArray(e)?0===e.length:!!i.isObject(e)&&0===Object.keys(e).length}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return""}}r.EmptyDrop=o},{"../util/underscore":109,"./drop":69}],71:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./drop");class i extends n.Drop{constructor(e){super(),this.i=0,this.length=e}next(){this.i++}index0(){return this.i}index(){return this.i+1}first(){return 0===this.i}last(){return this.i===this.length-1}rindex(){return this.length-this.i}rindex0(){return this.length-this.i-1}valueOf(){return JSON.stringify(this)}}r.ForloopDrop=i},{"./drop":69}],72:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../util/underscore");r.isComparable=function(e){return e&&n.isFunction(e.equals)}},{"../util/underscore":109}],73:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./drop"),i=e("../util/underscore"),o=e("../drop/blank-drop");class s extends n.Drop{equals(e){return i.isNil(i.toValue(e))||e instanceof o.BlankDrop}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return null}}r.NullDrop=s},{"../drop/blank-drop":68,"../util/underscore":109,"./drop":69}],74:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./forloop-drop");class i extends n.ForloopDrop{constructor(e,t){super(e),this.length=e,this.cols=t}row(){return Math.floor(this.i/this.cols)+1}col0(){return this.i%this.cols}col(){return this.col0()+1}col_first(){return 0===this.col0()}col_last(){return this.col()===this.cols}}r.TablerowloopDrop=i},{"./forloop-drop":71}],75:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=e("../util/underscore");r.default={readFile:function(e){return n(this,void 0,void 0,(function*(){return new Promise((t,r)=>{const n=new XMLHttpRequest;n.onload=()=>{n.status>=200&&n.status<300?t(n.responseText):r(new Error(n.statusText))},n.onerror=()=>{r(new Error("An error occurred whilst receiving the response."))},n.open("GET",e),n.send()})}))},resolve:function(e,t,r){return e.length&&"/"!==i.last(e)&&(e+="/"),function(e,t){const r=document.createElement("base");r.href=e;const n=document.getElementsByTagName("head")[0];n.insertBefore(r,n.firstChild);const i=document.createElement("a");i.href=t;const o=i.href;return n.removeChild(r),o}(e,t).replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,(e,t,n)=>{const i=n.split("/").pop();return/\.\w+$/.test(i)?e:t+n+r})},exists:function(){return n(this,void 0,void 0,(function*(){return!0}))},existsSync:function(){return!0},readFileSync:function(e){const t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(),t.status<200||t.status>=300)throw new Error(t.statusText);return t.responseText}}},{"../util/underscore":109}],76:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./util/underscore"),i={root:["."],cache:!1,extname:"",dynamicPartials:!0,trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",strictFilters:!1,strictVariables:!1};function o(e){return n.isArray(e)?e:n.isString(e)?[e]:[]}r.normalize=function(e){return(e=e||{}).hasOwnProperty("root")&&(e.root=o(e.root)),e},r.applyDefault=function(e){return Object.assign(Object.assign({},i),e)},r.normalizeStringArray=o},{"./util/underscore":109}],77:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=e("./context/context"),o=e("./fs/node"),s=e("./util/underscore"),a=e("./parser/tokenizer"),u=e("./render/render"),l=e("./template/tag/tag"),c=e("./template/filter/filter"),p=e("./parser/parser"),f=e("./template/value"),d=e("./builtin/tags"),h=e("./builtin/filters"),m=e("./liquid-options"),g=e("./util/async");!function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(e("./types"));class y{constructor(e={}){this.cache={},this.options=m.applyDefault(m.normalize(e)),this.parser=new p.default(this),this.renderer=new u.Render,this.tokenizer=new a.Tokenizer(this.options),this.fs=e.fs||o.default,s.forOwn(d.default,(e,t)=>this.registerTag(t,e)),s.forOwn(h.default,(e,t)=>this.registerFilter(t,e))}parse(e,t){const r=this.tokenizer.tokenize(e,t);return this.parser.parse(r)}_render(e,t,r,n){const o=Object.assign(Object.assign({},this.options),m.normalize(r)),s=new i.Context(t,o,n);return this.renderer.renderTemplates(e,s)}render(e,t,r){return n(this,void 0,void 0,(function*(){return g.toThenable(this._render(e,t,r,!1))}))}renderSync(e,t,r){return g.toValue(this._render(e,t,r,!0))}_parseAndRender(e,t,r,n){const i=this.parse(e);return this._render(i,t,r,n)}parseAndRender(e,t,r){return n(this,void 0,void 0,(function*(){return g.toThenable(this._parseAndRender(e,t,r,!1))}))}parseAndRenderSync(e,t,r){return g.toValue(this._parseAndRender(e,t,r,!0))}*_parseFile(e,t,r){const n=Object.assign(Object.assign({},this.options),m.normalize(t)),i=n.root.map(t=>this.fs.resolve(t,e,n.extname));if(void 0!==this.fs.fallback){const t=this.fs.fallback(e);void 0!==t&&i.push(t)}for(const e of i){if(this.options.cache&&this.cache[e])return this.cache[e];if(!(r?this.fs.existsSync(e):yield this.fs.exists(e)))continue;const t=this.parse(r?this.fs.readFileSync(e):yield this.fs.readFile(e),e);return this.cache[e]=t}throw this.lookupError(e,n.root)}parseFile(e,t){return n(this,void 0,void 0,(function*(){return g.toThenable(this._parseFile(e,t,!1))}))}parseFileSync(e,t){return g.toValue(this._parseFile(e,t,!0))}renderFile(e,t,r){return n(this,void 0,void 0,(function*(){const n=yield this.parseFile(e,r);return this.render(n,t,r)}))}renderFileSync(e,t,r){const n=m.normalize(r),i=this.parseFileSync(e,n);return this.renderSync(i,t,r)}_evalValue(e,t){return new f.Value(e,this.options.strictFilters).value(t)}evalValue(e,t){return n(this,void 0,void 0,(function*(){return g.toThenable(this._evalValue(e,t))}))}evalValueSync(e,t){return g.toValue(this._evalValue(e,t))}registerFilter(e,t){return c.Filter.register(e,t)}registerTag(e,t){return l.Tag.register(e,t)}plugin(e){return e.call(this,y)}express(){const e=this;return function(t,r,n){const i={root:[...m.normalizeStringArray(this.root),...e.options.root]};e.renderFile(t,r,i).then(e=>n(null,e),n)}}lookupError(e,t){const r=new Error("ENOENT");return r.message=`ENOENT: Failed to lookup "${e}" in "${t}"`,r.code="ENOENT",r}getTemplate(e,t){return n(this,void 0,void 0,(function*(){return this.parseFile(e,t)}))}getTemplateSync(e,t){return this.parseFileSync(e,t)}}r.Liquid=y},{"./builtin/filters":42,"./builtin/tags":60,"./context/context":67,"./fs/node":75,"./liquid-options":76,"./parser/parser":85,"./parser/tokenizer":88,"./render/render":95,"./template/filter/filter":97,"./template/tag/tag":101,"./template/value":103,"./types":104,"./util/async":106,"./util/underscore":109}],78:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./token"),i=e("../util/underscore");class o extends n.Token{constructor(e,t,r,n,o,s,a,u){super(e,r,n,o,u);const l="-"===t[0],c="-"===i.last(t);this.value=t.slice(l?1:0,c?-1:t.length).trim(),this.trimLeft=l||s,this.trimRight=c||a}}r.DelimitedToken=o},{"../util/underscore":109,"./token":87}],79:[function(e,t,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flatten=function(t){return e.from(t).toString()}}).call(this,e("buffer").Buffer)},{buffer:27}],80:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./token");class i extends n.Token{constructor(e,t,r,n,i){super(e,t,r,n,i),this.type="html",this.value=e}static is(e){return"html"===e.type}}r.HTMLToken=i},{"./token":87}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.quoted=new RegExp(`${/'[^']*'/.source}|${/"[^"]*"/.source}`),r.quoteBalanced=new RegExp(`(?:${r.quoted.source}|[^'"])*`),r.number=/[+-]?(?:\d+\.?\d*|\.?\d+)/,r.bool=/true|false/,r.identifier=/[\w-]+[?]?/,r.subscript=new RegExp(`\\[(?:${r.quoted.source}|[\\w-\\.]+)\\]`),r.literal=new RegExp(`(?:${r.quoted.source}|${r.bool.source}|${r.number.source})`),r.variable=new RegExp(`${r.identifier.source}(?:\\.${r.identifier.source}|${r.subscript.source})*`),r.rangeLimit=new RegExp(`(?:${r.variable.source}|${r.number.source})`),r.range=new RegExp(`\\(${r.rangeLimit.source}\\.\\.${r.rangeLimit.source}\\)`),r.rangeCapture=new RegExp(`\\((${r.rangeLimit.source})\\.\\.(${r.rangeLimit.source})\\)`),r.value=new RegExp(`(?:${r.variable.source}|${r.literal.source}|${r.range.source})`),r.hash=new RegExp(`(?:${r.identifier.source})\\s*:\\s*(?:${r.value.source})`),r.hashCapture=new RegExp(`(${r.identifier.source})\\s*:\\s*(${r.value.source})`,"g"),r.tagLine=new RegExp(`^\\s*(${r.identifier.source})\\s*([\\s\\S]*?)\\s*$`),r.numberLine=new RegExp(`^${r.number.source}$`),r.boolLine=new RegExp(`^${r.bool.source}$`,"i"),r.quotedLine=new RegExp(`^${r.quoted.source}$`),r.rangeLine=new RegExp(`^${r.rangeCapture.source}$`),r.operators=[/\s+or\s+/,/\s+and\s+/,/==|!=|<=|>=|<|>|\s+contains\s+/],r.isRange=function(e){return r.rangeLine.test(e)}},{}],82:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../util/underscore"),i=e("../drop/null-drop"),o=e("../drop/empty-drop"),s=e("../drop/blank-drop");r.parseLiteral=function(e){return"true"===(e=e.trim())||"false"!==e&&("nil"===e||"null"===e?new i.NullDrop:"empty"===e?new o.EmptyDrop:"blank"===e?new s.BlankDrop:isNaN(Number(e))?'"'!==e[0]&&"'"!==e[0]||e[0]!==n.last(e)?void 0:e.slice(1,-1):Number(e))}},{"../drop/blank-drop":68,"../drop/empty-drop":70,"../drop/null-drop":73,"../util/underscore":109}],83:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./delimited-token");class i extends n.DelimitedToken{constructor(e,t,r,n,i,o,s){super(e,t,r,n,i,o.trimOutputLeft,o.trimOutputRight,s),this.type="output"}static is(e){return"output"===e.type}}r.OutputToken=i},{"./delimited-token":78}],84:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./tag-token");r.ParseStream=class{constructor(e,t){this.handlers={},this.stopRequested=!1,this.tokens=e,this.parseToken=t}on(e,t){return this.handlers[e]=t,this}trigger(e,t){const r=this.handlers[e];return!!r&&(r(t),!0)}start(){let e;for(this.trigger("start");!this.stopRequested&&(e=this.tokens.shift());){if(this.trigger("token",e))continue;if(n.TagToken.is(e)&&this.trigger(`tag:${e.name}`,e))continue;const t=this.parseToken(e,this.tokens);this.trigger("template",t)}return this.stopRequested||this.trigger("end"),this}stop(){return this.stopRequested=!0,this}}},{"./tag-token":86}],85:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../util/error"),i=e("./parse-stream"),o=e("./tag-token"),s=e("./output-token"),a=e("../template/tag/tag"),u=e("../template/output"),l=e("../template/html");r.default=class{constructor(e){this.liquid=e}parse(e){let t;const r=[];for(;t=e.shift();)r.push(this.parseToken(t,e));return r}parseToken(e,t){try{return o.TagToken.is(e)?new a.Tag(e,t,this.liquid):s.OutputToken.is(e)?new u.Output(e,this.liquid.options.strictFilters):new l.HTML(e)}catch(t){throw new n.ParseError(t,e)}}parseStream(e){return new i.ParseStream(e,(e,t)=>this.parseToken(e,t))}}},{"../template/html":98,"../template/output":99,"../template/tag/tag":101,"../util/error":107,"./output-token":83,"./parse-stream":84,"./tag-token":86}],86:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./delimited-token"),i=e("../util/error"),o=e("./lexical");class s extends n.DelimitedToken{constructor(e,t,r,n,s,a,u){super(e,t,r,n,s,a.trimTagLeft,a.trimTagRight,u),this.type="tag";const l=this.value.match(o.tagLine);if(!l)throw new i.TokenizationError("illegal tag syntax",this);this.name=l[1],this.args=l[2]}static is(e){return"tag"===e.type}}r.TagToken=s},{"../util/error":107,"./delimited-token":78,"./lexical":81}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.Token=class{constructor(e,t,r,n,i){this.trimLeft=!1,this.trimRight=!1,this.type="notset",this.col=n,this.line=r,this.raw=e,this.value=e,this.input=t,this.file=i}}},{}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./whitespace-ctrl"),i=e("./html-token"),o=e("./tag-token"),s=e("./token"),a=e("./output-token"),u=e("../util/error"),l=e("../liquid-options"),c=e("./flatten/node");var p,f;(f=p||(p={}))[f.HTML=0]="HTML",f[f.OUTPUT=1]="OUTPUT",f[f.TAG=2]="TAG";r.Tokenizer=class{constructor(e){this.options=l.applyDefault(e)}tokenize(e,t){const r=[],{tagDelimiterLeft:l,tagDelimiterRight:f,outputDelimiterLeft:d,outputDelimiterRight:h}=this.options;let m=0,g=1,y=p.HTML,v="",b=0,w=1,T=1;for(;m<e.length;){if("\n"===e[m]&&(g++,b=m+1),y===p.HTML){if(e.substr(m,d.length)===d){v&&r.push(new i.HTMLToken(c.flatten(v),e,w,T,t)),v=d,w=g,T=m-b+1,m+=d.length,y=p.OUTPUT;continue}if(e.substr(m,l.length)===l){v&&r.push(new i.HTMLToken(c.flatten(v),e,w,T,t)),v=l,w=g,T=m-b+1,m+=l.length,y=p.TAG;continue}}else{if(y===p.OUTPUT&&e.substr(m,h.length)===h){v+=h,r.push(new a.OutputToken(c.flatten(v),v.slice(d.length,-h.length),e,w,T,this.options,t)),m+=h.length,v="",w=g,T=m-b+1,y=p.HTML;continue}if(e.substr(m,f.length)===f){v+=f,r.push(new o.TagToken(c.flatten(v),v.slice(l.length,-f.length),e,w,T,this.options,t)),m+=f.length,v="",w=g,T=m-b+1,y=p.HTML;continue}}v+=e[m++]}if(y!==p.HTML){const r=y===p.OUTPUT?"output":"tag",n=v.length>16?v.slice(0,13)+"...":v;throw new u.TokenizationError(`${r} "${n}" not closed`,new s.Token(c.flatten(v),e,w,T,t))}return v&&r.push(new i.HTMLToken(c.flatten(v),e,w,T,t)),n.whiteSpaceCtrl(r,this.options),r}}},{"../liquid-options":76,"../util/error":107,"./flatten/node":79,"./html-token":80,"./output-token":83,"./tag-token":86,"./token":87,"./whitespace-ctrl":89}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../parser/tag-token"),i=e("../parser/html-token");function o(e,t){if(!e||!i.HTMLToken.is(e))return;const r=t?/\s+$/g:/[\t\r ]*$/g;e.value=e.value.replace(r,"")}function s(e,t){if(!e||!i.HTMLToken.is(e))return;const r=t?/^\s+/g:/^[\t\r ]*\n?/g;e.value=e.value.replace(r,"")}r.whiteSpaceCtrl=function(e,t){t=Object.assign({greedy:!0},t);let r=!1;for(let i=0;i<e.length;i++){const a=e[i];!r&&a.trimLeft&&o(e[i-1],t.greedy),n.TagToken.is(a)&&("raw"===a.name?r=!0:"endraw"===a.name&&(r=!1)),!r&&a.trimRight&&s(e[i+1],t.greedy)}}},{"../parser/html-token":80,"../parser/tag-token":86}],90:[function(e,t,r){"use strict";function n(e){return!1===e||null==e}Object.defineProperty(r,"__esModule",{value:!0}),r.isTruthy=function(e){return!n(e)},r.isFalsy=n},{}],91:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.Emitter=class{constructor(){this.html="",this.break=!1,this.continue=!1}write(e){this.html+=e}}},{}],92:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../util/assert"),i=e("./range"),o=e("./value"),s=e("../util/underscore"),a=e("./operator");function*u(e){const t=[];for(const r of function*(e){const t=e.length;let r="";const n={'"':'"',"'":"'","[":"]","(":")"};for(let i=0;i<t;i++){const o=e[i];switch(o){case"[":case'"':case"'":for(r+=o;i+1<t&&(r+=e[++i],e[i]!==n[o]););break;case" ":case"\t":case"\n":r&&(yield r),r="";break;default:r+=o}}r&&(yield r)}(e))if(a.isOperator(r)){for(;t.length&&a.precedence[t[t.length-1]]>a.precedence[r];)yield t.pop();t.push(r)}else yield r;for(;t.length;)yield t.pop()}r.Expression=class{constructor(e=""){this.operands=[],this.postfix=[...u(e)]}*evaluate(e){n.assert(e,"unable to evaluate: context not defined");for(const t of this.postfix)a.isOperator(t)?this.evaluateOnce(t):i.isRange(t)?this.operands.push(yield i.rangeValue(t,e)):this.operands.push(yield new o.Value(t).evaluate(e));return this.operands[0]}*value(e){return s.toValue(yield this.evaluate(e))}evaluateOnce(e){const t=this.operands.pop(),r=this.operands.pop(),n=a.operatorImpls[e](r,t);this.operands.push(n)}}},{"../util/assert":105,"../util/underscore":109,"./operator":93,"./range":94,"./value":96}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../drop/icomparable"),i=e("../util/underscore"),o=e("../render/boolean");r.precedence={"==":1,"!=":1,">":1,"<":1,">=":1,"<=":1,contains:1,and:0,or:0},r.operatorImpls={"==":(e,t)=>n.isComparable(e)?e.equals(t):n.isComparable(t)?t.equals(e):e===t,"!=":(e,t)=>n.isComparable(e)?!e.equals(t):n.isComparable(t)?!t.equals(e):e!==t,">":(e,t)=>n.isComparable(e)?e.gt(t):n.isComparable(t)?t.lt(e):e>t,"<":(e,t)=>n.isComparable(e)?e.lt(t):n.isComparable(t)?t.gt(e):e<t,">=":(e,t)=>n.isComparable(e)?e.geq(t):n.isComparable(t)?t.leq(e):e>=t,"<=":(e,t)=>n.isComparable(e)?e.leq(t):n.isComparable(t)?t.geq(e):e<=t,contains:(e,t)=>!(!e||!i.isFunction(e.indexOf))&&e.indexOf(t)>-1,and:(e,t)=>o.isTruthy(e)&&o.isTruthy(t),or:(e,t)=>o.isTruthy(e)||o.isTruthy(t)};const s=Object.keys(r.precedence);r.isOperator=function(e){return s.includes(e)}},{"../drop/icomparable":72,"../render/boolean":90,"../util/underscore":109}],94:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../parser/lexical"),i=e("../util/underscore"),o=e("./value");r.isRange=function(e){return"("===e[0]&&")"===e[e.length-1]},r.rangeValue=function*(e,t){let r;if(r=e.match(n.rangeLine)){const e=yield new o.Value(r[1]).value(t),n=yield new o.Value(r[2]).value(t);return i.range(+e,+n+1)}}},{"../parser/lexical":81,"../util/underscore":109,"./value":96}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../util/error"),i=e("./emitter");r.Render=class{*renderTemplates(e,t,r=new i.Emitter){for(const i of e)try{const e=yield i.render(t,r);if(e&&r.write(e),r.break||r.continue)break}catch(e){throw n.RenderError.is(e)?e:new n.RenderError(e,i)}return r.html}}},{"../util/error":107,"./emitter":91}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../util/underscore"),i=e("../parser/literal");r.Value=class{constructor(e){this.str=e}evaluate(e){const t=i.parseLiteral(this.str);return void 0!==t?t:e.get(this.str)}value(e){return n.toValue(this.evaluate(e))}}},{"../parser/literal":82,"../util/underscore":109}],97:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../render/expression"),i=e("../../util/underscore");class o{constructor(e,t,r){const n=o.impls[e];if(!n&&r)throw new TypeError(`undefined filter: ${e}`);this.name=e,this.impl=n||i.identify,this.args=t}*render(e,t){const r=[];for(const e of this.args)s(e)?r.push([e[0],yield new n.Expression(e[1]).evaluate(t)]):r.push(yield new n.Expression(e).evaluate(t));return this.impl.apply({context:t},[e,...r])}static register(e,t){o.impls[e]=t}static clear(){o.impls={}}}function s(e){return i.isArray(e)}r.Filter=o,o.impls={}},{"../../render/expression":92,"../../util/underscore":109}],98:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../template/template");class i extends n.Template{constructor(e){super(e),this.str=e.value}*render(e,t){t.write(this.str)}}r.HTML=i},{"../template/template":102}],99:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./value"),i=e("../util/underscore"),o=e("../template/template");class s extends o.Template{constructor(e,t){super(e),this.value=new n.Value(e.value,t)}*render(e,t){const r=yield this.value.value(e);t.write(i.stringify(i.toValue(r)))}}r.Output=s},{"../template/template":102,"../util/underscore":109,"./value":103}],100:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../parser/lexical"),i=e("../../render/expression");class o{static parse(e){const t=new o;let r;for(n.hashCapture.lastIndex=0;r=n.hashCapture.exec(e);){const e=r[1],n=r[2];t[e]=n}return t}static*create(e,t){const r=o.parse(e);for(const e of Object.keys(r))r[e]=yield new i.Expression(r[e]).evaluate(t);return r}}r.Hash=o},{"../../parser/lexical":81,"../../render/expression":92}],101:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../util/underscore"),i=e("../../util/assert"),o=e("../../template/template"),s=e("../../types");class a extends o.Template{constructor(e,t,r){super(e),this.name=e.name;const n=a.impls[e.name];i.assert(n,`tag ${e.name} not found`),this.impl=Object.create(n),this.impl.liquid=r,this.impl.parse&&this.impl.parse(e,t)}*render(e,t){const r=yield s.Hash.create(this.token.args,e),i=this.impl;if(n.isFunction(i.render))return yield i.render(e,r,t)}static register(e,t){a.impls[e]=t}static clear(){a.impls={}}}r.Tag=a,a.impls={}},{"../../template/template":102,"../../types":104,"../../util/assert":105,"../../util/underscore":109}],102:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.Template=class{constructor(e){this.token=e}}},{}],103:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../render/expression"),i=e("./filter/filter");class o{constructor(e,t){this.filters=[];const r=o.tokenize(e);this.strictFilters=t,this.initial=r[0],this.parseFilters(r,1)}parseFilters(e,t){let r=t;for(;r<e.length;){if("|"!==e[r]){r++;continue}const t=++r;for(;r<e.length&&"|"!==e[r];)r++;this.parseFilter(e,t,r)}}parseFilter(e,t,r){const n=e[t],o=[];let s,a;for(let n=t+1;n<r+1;n++)n===r||","===e[n]?((s||a)&&o.push(s?[s,a]:a),a=s=void 0):":"===e[n]?(s=a,a=void 0):void 0===a&&(a=e[n]);this.filters.push(new i.Filter(n,o,this.strictFilters))}*value(e){let t=yield new n.Expression(this.initial).evaluate(e);for(const r of this.filters)t=yield r.render(t,e);return t}static tokenize(e){const t=[];let r=0;for(;r<e.length;){const n=e[r];if('"'===n||"'"===n){const i=r;for(r+=2;r<e.length&&e[r-1]!==n;++r);t.push(e.slice(i,r))}else if(/\s/.test(n))r++;else if(/[|,:]/.test(n))t.push(e[r++]);else{const n=r++;let i;for(;r<e.length&&!/[|,:\s]/.test(i=e[r]);++r)if('"'===i||"'"===i)for(r+=2;r<e.length&&e[r-1]!==i;++r);t.push(e.slice(n,r))}}return t}}r.Value=o},{"../render/expression":92,"./filter/filter":97}],104:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./util/error");r.ParseError=n.ParseError,r.TokenizationError=n.TokenizationError,r.AssertionError=n.AssertionError;var i=e("./drop/drop");r.Drop=i.Drop;var o=e("./render/emitter");r.Emitter=o.Emitter;var s=e("./render/expression");r.Expression=s.Expression;var a=e("./render/boolean");r.isFalsy=a.isFalsy,r.isTruthy=a.isTruthy;var u=e("./parser/tag-token");r.TagToken=u.TagToken;var l=e("./context/context");r.Context=l.Context;var c=e("./parser/parse-stream");r.ParseStream=c.ParseStream;var p=e("./parser/token");r.Token=p.Token;var f=e("./template/tag/hash");r.Hash=f.Hash},{"./context/context":67,"./drop/drop":69,"./parser/parse-stream":84,"./parser/tag-token":86,"./parser/token":87,"./render/boolean":90,"./render/emitter":91,"./render/expression":92,"./template/tag/hash":100,"./util/error":107}],105:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./error");r.assert=function(e,t){if(!e)throw t=t||`expect ${e} to be true`,new n.AssertionError(t)}},{"./error":107}],106:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./underscore");function i(e){const t={then:t=>t(e),catch:()=>t};return t}function o(e){const t={then:(r,n)=>n?n(e):t,catch:t=>t(e)};return t}function s(e){return function(e){return e&&n.isFunction(e.then)}(e)?e:function(e){return e&&n.isFunction(e.next)&&n.isFunction(e.throw)&&n.isFunction(e.return)}(e)?function t(r){let n;try{n=e.next(r)}catch(e){return o(e)}return n.done?i(n.value):s(n.value).then(t,r=>{let n;try{n=e.throw(r)}catch(e){return o(e)}return n.done?i(n.value):t(n.value)})}():i(e)}r.toThenable=s,r.toValue=function(e){let t;return s(e).then(e=>(t=e,i(t))).catch(e=>{throw e}),t}},{"./underscore":109}],107:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./underscore");class i extends Error{constructor(e,t){super(e.message),this.originalError=e,this.token=t}update(){const e=this.originalError,t=function(e){const t=e.input.split("\n"),r=Math.max(e.line-2,1),i=Math.min(e.line+3,t.length);return n.range(r,i+1).map(r=>`${r===e.line?">> ":"   "}${n.padStart(String(r),String(i).length)}| ${t[r-1]}`).join("\n")}(this.token);this.message=function(e,t){return t.file&&(e+=`, file:${t.file}`),e+=`, line:${t.line}, col:${t.col}`}(e.message,this.token),this.stack=this.message+"\n"+t+"\n"+this.stack+"\nFrom "+e.stack}}r.TokenizationError=class extends i{constructor(e,t){super(new Error(e),t),this.name="TokenizationError",super.update()}};r.ParseError=class extends i{constructor(e,t){super(e,t),this.name="ParseError",this.message=e.message,super.update()}};class o extends i{constructor(e,t){super(e,t.token),this.name="RenderError",this.message=e.message,super.update()}static is(e){return e instanceof o}}r.RenderError=o;class s extends Error{constructor(e){super(e),this.name="AssertionError",this.message=e+""}}r.AssertionError=s},{"./underscore":109}],108:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./underscore"),i=/%([-_0^#:]+)?(\d+)?([EO])?(.)/,o=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=o.map(c),u=s.map(c),l={1:"st",2:"nd",3:"rd",default:"th"};function c(e){return e.slice(0,3)}function p(e){return[31,h(e)?29:28,31,30,31,30,31,31,30,31,30,31]}function f(e){let t=0;for(let r=0;r<e.getMonth();++r)t+=p(e)[r];return t+e.getDate()}function d(e,t){const r=f(e)+(t-e.getDay()),n=7-new Date(e.getFullYear(),0,1).getDay()+t;return String(Math.floor((r-n)/7)+1)}function h(e){const t=e.getFullYear();return!(0!=(3&t)||!(t%100||t%400==0&&t))}const m={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},g={a:" ",A:" ",b:" ",B:" ",c:" ",e:" ",k:" ",l:" ",p:" ",P:" "},y={a:e=>u[e.getDay()],A:e=>s[e.getDay()],b:e=>a[e.getMonth()],B:e=>o[e.getMonth()],c:e=>e.toLocaleString(),C:e=>function(e){return parseInt(e.getFullYear().toString().substring(0,2),10)}(e),d:e=>e.getDate(),e:e=>e.getDate(),H:e=>e.getHours(),I:e=>String(e.getHours()%12||12),j:e=>f(e),k:e=>e.getHours(),l:e=>String(e.getHours()%12||12),L:e=>e.getMilliseconds(),m:e=>e.getMonth()+1,M:e=>e.getMinutes(),N:(e,t)=>{const r=Number(t.width)||9,i=String(e.getMilliseconds()).substr(0,r);return n.padEnd(i,r,"0")},p:e=>e.getHours()<12?"AM":"PM",P:e=>e.getHours()<12?"am":"pm",q:e=>function(e){const t=e.getDate().toString(),r=parseInt(t.slice(-1));return l[r]||l.default}(e),s:e=>Math.round(e.valueOf()/1e3),S:e=>e.getSeconds(),u:e=>e.getDay()||7,U:e=>d(e,0),w:e=>e.getDay(),W:e=>d(e,1),x:e=>e.toLocaleDateString(),X:e=>e.toLocaleTimeString(),y:e=>e.getFullYear().toString().substring(2,4),Y:e=>e.getFullYear(),z:(e,t)=>{const r=e.getTimezoneOffset(),i=Math.abs(r),o=Math.floor(i/60),s=i%60;return(r>0?"-":"+")+n.padStart(o,2,"0")+(t.flags[":"]?":":"")+n.padStart(s,2,"0")},t:()=>"\t",n:()=>"\n","%":()=>"%"};function v(e,t){const[r,i="",o,s,a]=t,u=y[a];if(!u)return r;const l={};for(const e of i)l[e]=!0;let c=String(u(e,{flags:l,width:o,modifier:s})),p=g[a]||"0",f=o||m[a]||0;return l["^"]?c=c.toUpperCase():l["#"]&&(c=n.changeCase(c)),l._?p=" ":l[0]&&(p="0"),l["-"]&&(f=0),n.padStart(c,f,p)}y.h=y.b,r.default=function(e,t){let r,n="",o=t;for(;r=i.exec(o);)n+=o.slice(0,r.index),o=o.slice(r.index+r[0].length),n+=v(e,r);return n+o}},{"./underscore":109}],109:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../drop/drop"),i=Object.prototype.toString;function o(e){return"function"==typeof e}function s(e){return e instanceof n.Drop?e.valueOf():e}function a(e){return null==e}function u(e,t,r,n){let i=t-(e=String(e)).length;for(;i-- >0;)e=n(e,r);return e}r.isString=function(e){return"[object String]"===i.call(e)},r.isFunction=o,r.promisify=function(e){return function(...t){return new Promise((r,n)=>{e(...t,(e,t)=>{e?n(e):r(t)})})}},r.stringify=function(e){return a(e=s(e))?"":String(e)},r.toValue=s,r.isNumber=function(e){return"number"==typeof e},r.toLiquid=function e(t){return t&&o(t.toLiquid)?e(t.toLiquid()):t},r.isNil=a,r.isArray=function(e){return"[object Array]"===i.call(e)},r.forOwn=function(e,t){e=e||{};for(const r in e)if(e.hasOwnProperty(r)&&!1===t(e[r],r,e))break;return e},r.last=function(e){return e[e.length-1]},r.isObject=function(e){const t=typeof e;return null!==e&&("object"===t||"function"===t)},r.range=function(e,t,r=1){const n=[];for(let i=e;i<t;i+=r)n.push(i);return n},r.padStart=function(e,t,r=" "){return u(e,t,r,(e,t)=>t+e)},r.padEnd=function(e,t,r=" "){return u(e,t,r,(e,t)=>e+t)},r.pad=u,r.identify=function(e){return e},r.changeCase=function(e){return[...e].some(e=>e>="a"&&e<="z")?e.toUpperCase():e.toLowerCase()}},{"../drop/drop":69}],110:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);var o=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")};r.default=o,t.exports=r.default},{}],111:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return s.default}});var n=a(e("./v1.js")),i=a(e("./v3.js")),o=a(e("./v4.js")),s=a(e("./v5.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"./v1.js":115,"./v3.js":116,"./v4.js":118,"./v5.js":119}],112:[function(e,t,r){"use strict";function n(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,o,s){return n((a=n(n(t,e),n(i,s)))<<(u=o)|a>>>32-u,r);var a,u}function o(e,t,r,n,o,s,a){return i(t&r|~t&n,e,t,o,s,a)}function s(e,t,r,n,o,s,a){return i(t&n|r&~n,e,t,o,s,a)}function a(e,t,r,n,o,s,a){return i(t^r^n,e,t,o,s,a)}function u(e,t,r,n,o,s,a){return i(r^(t|~n),e,t,o,s,a)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return function(e){var t,r,n,i=[],o=32*e.length;for(t=0;t<o;t+=8)r=e[t>>5]>>>t%32&255,n=parseInt("0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r),16),i.push(n);return i}(function(e,t){var r,i,l,c,p;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var f=1732584193,d=-271733879,h=-1732584194,m=271733878;for(r=0;r<e.length;r+=16)i=f,l=d,c=h,p=m,f=o(f,d,h,m,e[r],7,-680876936),m=o(m,f,d,h,e[r+1],12,-389564586),h=o(h,m,f,d,e[r+2],17,606105819),d=o(d,h,m,f,e[r+3],22,-1044525330),f=o(f,d,h,m,e[r+4],7,-176418897),m=o(m,f,d,h,e[r+5],12,1200080426),h=o(h,m,f,d,e[r+6],17,-1473231341),d=o(d,h,m,f,e[r+7],22,-45705983),f=o(f,d,h,m,e[r+8],7,1770035416),m=o(m,f,d,h,e[r+9],12,-1958414417),h=o(h,m,f,d,e[r+10],17,-42063),d=o(d,h,m,f,e[r+11],22,-1990404162),f=o(f,d,h,m,e[r+12],7,1804603682),m=o(m,f,d,h,e[r+13],12,-40341101),h=o(h,m,f,d,e[r+14],17,-1502002290),d=o(d,h,m,f,e[r+15],22,1236535329),f=s(f,d,h,m,e[r+1],5,-165796510),m=s(m,f,d,h,e[r+6],9,-1069501632),h=s(h,m,f,d,e[r+11],14,643717713),d=s(d,h,m,f,e[r],20,-373897302),f=s(f,d,h,m,e[r+5],5,-701558691),m=s(m,f,d,h,e[r+10],9,38016083),h=s(h,m,f,d,e[r+15],14,-660478335),d=s(d,h,m,f,e[r+4],20,-405537848),f=s(f,d,h,m,e[r+9],5,568446438),m=s(m,f,d,h,e[r+14],9,-1019803690),h=s(h,m,f,d,e[r+3],14,-187363961),d=s(d,h,m,f,e[r+8],20,1163531501),f=s(f,d,h,m,e[r+13],5,-1444681467),m=s(m,f,d,h,e[r+2],9,-51403784),h=s(h,m,f,d,e[r+7],14,1735328473),d=s(d,h,m,f,e[r+12],20,-1926607734),f=a(f,d,h,m,e[r+5],4,-378558),m=a(m,f,d,h,e[r+8],11,-2022574463),h=a(h,m,f,d,e[r+11],16,1839030562),d=a(d,h,m,f,e[r+14],23,-35309556),f=a(f,d,h,m,e[r+1],4,-1530992060),m=a(m,f,d,h,e[r+4],11,1272893353),h=a(h,m,f,d,e[r+7],16,-155497632),d=a(d,h,m,f,e[r+10],23,-1094730640),f=a(f,d,h,m,e[r+13],4,681279174),m=a(m,f,d,h,e[r],11,-358537222),h=a(h,m,f,d,e[r+3],16,-722521979),d=a(d,h,m,f,e[r+6],23,76029189),f=a(f,d,h,m,e[r+9],4,-640364487),m=a(m,f,d,h,e[r+12],11,-421815835),h=a(h,m,f,d,e[r+15],16,530742520),d=a(d,h,m,f,e[r+2],23,-995338651),f=u(f,d,h,m,e[r],6,-198630844),m=u(m,f,d,h,e[r+7],10,1126891415),h=u(h,m,f,d,e[r+14],15,-1416354905),d=u(d,h,m,f,e[r+5],21,-57434055),f=u(f,d,h,m,e[r+12],6,1700485571),m=u(m,f,d,h,e[r+3],10,-1894986606),h=u(h,m,f,d,e[r+10],15,-1051523),d=u(d,h,m,f,e[r+1],21,-2054922799),f=u(f,d,h,m,e[r+8],6,1873313359),m=u(m,f,d,h,e[r+15],10,-30611744),h=u(h,m,f,d,e[r+6],15,-1560198380),d=u(d,h,m,f,e[r+13],21,1309151649),f=u(f,d,h,m,e[r+4],6,-145523070),m=u(m,f,d,h,e[r+11],10,-1120210379),h=u(h,m,f,d,e[r+2],15,718787259),d=u(d,h,m,f,e[r+9],21,-343485551),f=n(f,i),d=n(d,l),h=n(h,c),m=n(m,p);return[f,d,h,m]}(function(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e[t/8])<<t%32;return r}(e),8*e.length))};r.default=l,t.exports=r.default},{}],113:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);t.exports=r.default},{}],114:[function(e,t,r){"use strict";function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var o=unescape(encodeURIComponent(e));e=new Array(o.length);for(var s=0;s<o.length;s++)e[s]=o.charCodeAt(s)}e.push(128);var a=e.length/4+2,u=Math.ceil(a/16),l=new Array(u);for(s=0;s<u;s++){l[s]=new Array(16);for(var c=0;c<16;c++)l[s][c]=e[64*s+4*c]<<24|e[64*s+4*c+1]<<16|e[64*s+4*c+2]<<8|e[64*s+4*c+3]}for(l[u-1][14]=8*(e.length-1)/Math.pow(2,32),l[u-1][14]=Math.floor(l[u-1][14]),l[u-1][15]=8*(e.length-1)&4294967295,s=0;s<u;s++){for(var p=new Array(80),f=0;f<16;f++)p[f]=l[s][f];for(f=16;f<80;f++)p[f]=i(p[f-3]^p[f-8]^p[f-14]^p[f-16],1);var d=r[0],h=r[1],m=r[2],g=r[3],y=r[4];for(f=0;f<80;f++){var v=Math.floor(f/20),b=i(d,5)+n(v,h,m,g)+y+t[v]+p[f]>>>0;y=g,g=m,m=i(h,30)>>>0,h=d,d=b}r[0]=r[0]+d>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+m>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+y>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};r.default=o,t.exports=r.default},{}],115:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i,o=a(e("./rng.js")),s=a(e("./bytesToUuid.js"));function a(e){return e&&e.__esModule?e:{default:e}}var u=0,l=0;var c=function(e,t,r){var a=t&&r||0,c=t||[],p=(e=e||{}).node||n,f=void 0!==e.clockseq?e.clockseq:i;if(null==p||null==f){var d=e.random||(e.rng||o.default)();null==p&&(p=n=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==f&&(f=i=16383&(d[6]<<8|d[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=h-u+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>u)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,l=m,i=f;var y=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;c[a++]=y>>>24&255,c[a++]=y>>>16&255,c[a++]=y>>>8&255,c[a++]=255&y;var v=h/4294967296*1e4&268435455;c[a++]=v>>>8&255,c[a++]=255&v,c[a++]=v>>>24&15|16,c[a++]=v>>>16&255,c[a++]=f>>>8|128,c[a++]=255&f;for(var b=0;b<6;++b)c[a+b]=p[b];return t||(0,s.default)(c)};r.default=c,t.exports=r.default},{"./bytesToUuid.js":110,"./rng.js":113}],116:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./v35.js")),i=o(e("./md5.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("v3",48,i.default);r.default=s,t.exports=r.default},{"./md5.js":112,"./v35.js":117}],117:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){var n=function(e,n,o,s){var a=o&&s||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)),"string"==typeof n&&(n=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var u=r(n.concat(e));if(u[6]=15&u[6]|t,u[8]=63&u[8]|128,o)for(var l=0;l<16;++l)o[a+l]=u[l];return o||(0,i.default)(u)};try{n.name=e}catch(e){}return n.DNS=o,n.URL=s,n},r.URL=r.DNS=void 0;var n,i=(n=e("./bytesToUuid.js"))&&n.__esModule?n:{default:n};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=o;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=s},{"./bytesToUuid.js":110}],118:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./rng.js")),i=o(e("./bytesToUuid.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||n.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||(0,i.default)(s)};r.default=s,t.exports=r.default},{"./bytesToUuid.js":110,"./rng.js":113}],119:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./v35.js")),i=o(e("./sha1.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("v5",80,i.default);r.default=s,t.exports=r.default},{"./sha1.js":114,"./v35.js":117}],120:[function(e,t,r){r.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,l=u>>1,c=-7,p=r?i-1:0,f=r?-1:1,d=e[t+p];for(p+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+e[t+p],p+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+p],p+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=l}return(d?-1:1)*s*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,p=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=c?(a=0,s=c):s+p>=1?(a=(t*u-1)*Math.pow(2,i),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=h,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[r+d]=255&s,d+=h,s/=256,l-=8);e[r+d-h]|=128*m}},{}],121:[function(e,t,r){(function(e){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
!function(e,n){"object"==typeof r&&void 0!==t?t.exports=n():"function"==typeof define&&define.amd?define(n):e.Popper=n()}(this,(function(){"use strict";var t="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],r=0;r<e.length;r+=1)if(t&&navigator.userAgent.indexOf(e[r])>=0)return 1;return 0}();var n=t&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function i(e){return e&&"[object Function]"==={}.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?r[t]:r}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function a(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(r+i+n)?e:a(s(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}var l=t&&!(!window.MSInputMethodContext||!document.documentMode),c=t&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?l:10===e?c:l||c}function f(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===o(r,"position")?f(r):r:e?e.ownerDocument.documentElement:document.documentElement}function d(e){return null!==e.parentNode?d(e.parentNode):e}function h(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,i=r?t:e,o=document.createRange();o.setStart(n,0),o.setEnd(i,0);var s,a,u=o.commonAncestorContainer;if(e!==u&&t!==u||n.contains(i))return"BODY"===(a=(s=u).nodeName)||"HTML"!==a&&f(s.firstElementChild)!==s?f(u):u;var l=d(e);return l.host?h(l.host,t):h(e,d(t).host)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",r="top"===t?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||i;return o[r]}return e[r]}function g(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=m(t,"top"),i=m(t,"left"),o=r?-1:1;return e.top+=n*o,e.bottom+=n*o,e.left+=i*o,e.right+=i*o,e}function y(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function v(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],p(10)?parseInt(r["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,r=e.documentElement,n=p(10)&&getComputedStyle(r);return{height:v("Height",t,r,n),width:v("Width",t,r,n)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},T=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),x=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function k(e){return E({},e,{right:e.left+e.width,bottom:e.top+e.height})}function O(e){var t={};try{if(p(10)){t=e.getBoundingClientRect();var r=m(e,"top"),n=m(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?b(e.ownerDocument):{},a=s.width||e.clientWidth||i.width,u=s.height||e.clientHeight||i.height,l=e.offsetWidth-a,c=e.offsetHeight-u;if(l||c){var f=o(e);l-=y(f,"x"),c-=y(f,"y"),i.width-=l,i.height-=c}return k(i)}function C(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=p(10),i="HTML"===t.nodeName,s=O(e),u=O(t),l=a(e),c=o(t),f=parseFloat(c.borderTopWidth),d=parseFloat(c.borderLeftWidth);r&&i&&(u.top=Math.max(u.top,0),u.left=Math.max(u.left,0));var h=k({top:s.top-u.top-f,left:s.left-u.left-d,width:s.width,height:s.height});if(h.marginTop=0,h.marginLeft=0,!n&&i){var m=parseFloat(c.marginTop),y=parseFloat(c.marginLeft);h.top-=f-m,h.bottom-=f-m,h.left-=d-y,h.right-=d-y,h.marginTop=m,h.marginLeft=y}return(n&&!r?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(h=g(h,t)),h}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,n=C(e,r),i=Math.max(r.clientWidth,window.innerWidth||0),o=Math.max(r.clientHeight,window.innerHeight||0),s=t?0:m(r),a=t?0:m(r,"left"),u={top:s-n.top+n.marginTop,left:a-n.left+n.marginLeft,width:i,height:o};return k(u)}function _(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var r=s(e);return!!r&&_(r)}function A(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function j(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},l=i?A(e):h(e,u(t));if("viewport"===n)o=S(l,i);else{var c=void 0;"scrollParent"===n?"BODY"===(c=a(s(t))).nodeName&&(c=e.ownerDocument.documentElement):c="window"===n?e.ownerDocument.documentElement:n;var p=C(c,l,i);if("HTML"!==c.nodeName||_(l))o=p;else{var f=b(e.ownerDocument),d=f.height,m=f.width;o.top+=p.top-p.marginTop,o.bottom=d+p.top,o.left+=p.left-p.marginLeft,o.right=m+p.left}}var g="number"==typeof(r=r||0);return o.left+=g?r:r.left||0,o.top+=g?r:r.top||0,o.right-=g?r:r.right||0,o.bottom-=g?r:r.bottom||0,o}function P(e){return e.width*e.height}function M(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=j(r,n,o,i),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},u=Object.keys(a).map((function(e){return E({key:e},a[e],{area:P(a[e])})})).sort((function(e,t){return t.area-e.area})),l=u.filter((function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight})),c=l.length>0?l[0].key:u[0].key,p=e.split("-")[1];return c+(p?"-"+p:"")}function L(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n?A(t):h(t,u(r));return C(r,i,n)}function D(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+n,height:e.offsetHeight+r}}function q(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function R(e,t,r){r=r.split("-")[0];var n=D(e),i={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(r),s=o?"top":"left",a=o?"left":"top",u=o?"height":"width",l=o?"width":"height";return i[s]=t[s]+t[u]/2-n[u]/2,i[a]=r===a?t[a]-n[l]:t[q(a)],i}function I(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function F(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===r}));var n=I(e,(function(e){return e[t]===r}));return e.indexOf(n)}(e,"name",r))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&i(r)&&(t.offsets.popper=k(t.offsets.popper),t.offsets.reference=k(t.offsets.reference),t=r(t,e))})),t}function U(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=R(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=F(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function B(e,t){return e.some((function(e){var r=e.name;return e.enabled&&r===t}))}function N(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],o=i?""+i+r:e;if(void 0!==document.body.style[o])return o}return null}function $(){return this.state.isDestroyed=!0,B(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[N("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function H(e){var t=e.ownerDocument;return t?t.defaultView:window}function z(e,t,r,n){r.updateBound=n,H(e).addEventListener("resize",r.updateBound,{passive:!0});var i=a(e);return function e(t,r,n,i){var o="BODY"===t.nodeName,s=o?t.ownerDocument.defaultView:t;s.addEventListener(r,n,{passive:!0}),o||e(a(s.parentNode),r,n,i),i.push(s)}(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function V(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}function W(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,H(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Y(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function X(e,t){Object.keys(t).forEach((function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&Y(t[r])&&(n="px"),e.style[r]=t[r]+n}))}var K=t&&/Firefox/i.test(navigator.userAgent);function G(e,t,r){var n=I(e,(function(e){return e.name===t})),i=!!n&&e.some((function(e){return e.name===r&&e.enabled&&e.order<n.order}));if(!i){var o="`"+t+"`",s="`"+r+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Z=J.slice(3);function Q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Z.indexOf(e),n=Z.slice(r+1).concat(Z.slice(0,r));return t?n.reverse():n}var ee="flip",te="clockwise",re="counterclockwise";function ne(e,t,r,n){var i=[0,0],o=-1!==["right","left"].indexOf(n),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(I(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==a?[s.slice(0,a).concat([s[a].split(u)[0]]),[s[a].split(u)[1]].concat(s.slice(a+1))]:[s];return(l=l.map((function(e,n){var i=(1===n?!o:o)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,r,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=r;break;case"%":case"%r":default:a=n}return k(a)[t]/100*o}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(e,i,t,r)}))}))).forEach((function(e,t){e.forEach((function(r,n){Y(r)&&(i[t]+=r*("-"===e[n-1]?-1:1))}))})),i}var ie={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var i=e.offsets,o=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(r),u=a?"left":"top",l=a?"width":"height",c={start:x({},u,o[u]),end:x({},u,o[u]+o[l]-s[l])};e.offsets.popper=E({},s,c[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var r=t.offset,n=e.placement,i=e.offsets,o=i.popper,s=i.reference,a=n.split("-")[0],u=void 0;return u=Y(+r)?[+r,0]:ne(r,o,s,a),"left"===a?(o.top+=u[0],o.left-=u[1]):"right"===a?(o.top+=u[0],o.left+=u[1]):"top"===a?(o.left+=u[0],o.top-=u[1]):"bottom"===a&&(o.left+=u[0],o.top+=u[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var r=t.boundariesElement||f(e.instance.popper);e.instance.reference===r&&(r=f(r));var n=N("transform"),i=e.instance.popper.style,o=i.top,s=i.left,a=i[n];i.top="",i.left="",i[n]="";var u=j(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);i.top=o,i.left=s,i[n]=a,t.boundaries=u;var l=t.priority,c=e.offsets.popper,p={primary:function(e){var r=c[e];return c[e]<u[e]&&!t.escapeWithReference&&(r=Math.max(c[e],u[e])),x({},e,r)},secondary:function(e){var r="right"===e?"left":"top",n=c[r];return c[e]>u[e]&&!t.escapeWithReference&&(n=Math.min(c[r],u[e]-("right"===e?c.width:c.height))),x({},r,n)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=E({},c,p[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,r=t.popper,n=t.reference,i=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",u=s?"left":"top",l=s?"width":"height";return r[a]<o(n[u])&&(e.offsets.popper[u]=o(n[u])-r[l]),r[u]>o(n[a])&&(e.offsets.popper[u]=o(n[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var r;if(!G(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],s=e.offsets,a=s.popper,u=s.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",p=l?"Top":"Left",f=p.toLowerCase(),d=l?"left":"top",h=l?"bottom":"right",m=D(n)[c];u[h]-m<a[f]&&(e.offsets.popper[f]-=a[f]-(u[h]-m)),u[f]+m>a[h]&&(e.offsets.popper[f]+=u[f]+m-a[h]),e.offsets.popper=k(e.offsets.popper);var g=u[f]+u[c]/2-m/2,y=o(e.instance.popper),v=parseFloat(y["margin"+p]),b=parseFloat(y["border"+p+"Width"]),w=g-e.offsets.popper[f]-v-b;return w=Math.max(Math.min(a[c]-m,w),0),e.arrowElement=n,e.offsets.arrow=(x(r={},f,Math.round(w)),x(r,d,""),r),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(B(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=j(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],i=q(n),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case ee:s=[n,i];break;case te:s=Q(n);break;case re:s=Q(n,!0);break;default:s=t.behavior}return s.forEach((function(a,u){if(n!==a||s.length===u+1)return e;n=e.placement.split("-")[0],i=q(n);var l=e.offsets.popper,c=e.offsets.reference,p=Math.floor,f="left"===n&&p(l.right)>p(c.left)||"right"===n&&p(l.left)<p(c.right)||"top"===n&&p(l.bottom)>p(c.top)||"bottom"===n&&p(l.top)<p(c.bottom),d=p(l.left)<p(r.left),h=p(l.right)>p(r.right),m=p(l.top)<p(r.top),g=p(l.bottom)>p(r.bottom),y="left"===n&&d||"right"===n&&h||"top"===n&&m||"bottom"===n&&g,v=-1!==["top","bottom"].indexOf(n),b=!!t.flipVariations&&(v&&"start"===o&&d||v&&"end"===o&&h||!v&&"start"===o&&m||!v&&"end"===o&&g),w=!!t.flipVariationsByContent&&(v&&"start"===o&&h||v&&"end"===o&&d||!v&&"start"===o&&g||!v&&"end"===o&&m),T=b||w;(f||y||T)&&(e.flipped=!0,(f||y)&&(n=s[u+1]),T&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=n+(o?"-"+o:""),e.offsets.popper=E({},e.offsets.popper,R(e.instance.popper,e.offsets.reference,e.placement)),e=F(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,i=n.popper,o=n.reference,s=-1!==["left","right"].indexOf(r),a=-1===["top","left"].indexOf(r);return i[s?"left":"top"]=o[r]-(a?i[s?"width":"height"]:0),e.placement=q(t),e.offsets.popper=k(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!G(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=I(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var r=t.x,n=t.y,i=e.offsets.popper,o=I(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,a=f(e.instance.popper),u=O(a),l={position:i.position},c=function(e,t){var r=e.offsets,n=r.popper,i=r.reference,o=Math.round,s=Math.floor,a=function(e){return e},u=o(i.width),l=o(n.width),c=-1!==["left","right"].indexOf(e.placement),p=-1!==e.placement.indexOf("-"),f=t?c||p||u%2==l%2?o:s:a,d=t?o:a;return{left:f(u%2==1&&l%2==1&&!p&&t?n.left-1:n.left),top:d(n.top),bottom:d(n.bottom),right:f(n.right)}}(e,window.devicePixelRatio<2||!K),p="bottom"===r?"top":"bottom",d="right"===n?"left":"right",h=N("transform"),m=void 0,g=void 0;if(g="bottom"===p?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-u.height+c.bottom:c.top,m="right"===d?"HTML"===a.nodeName?-a.clientWidth+c.right:-u.width+c.right:c.left,s&&h)l[h]="translate3d("+m+"px, "+g+"px, 0)",l[p]=0,l[d]=0,l.willChange="transform";else{var y="bottom"===p?-1:1,v="right"===d?-1:1;l[p]=g*y,l[d]=m*v,l.willChange=p+", "+d}var b={"x-placement":e.placement};return e.attributes=E({},b,e.attributes),e.styles=E({},l,e.styles),e.arrowStyles=E({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,r;return X(e.instance.popper,e.styles),t=e.instance.popper,r=e.attributes,Object.keys(r).forEach((function(e){!1!==r[e]?t.setAttribute(e,r[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&X(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,r,n,i){var o=L(i,t,e,r.positionFixed),s=M(r.placement,o,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",s),X(t,{position:r.positionFixed?"fixed":"absolute"}),r},gpuAcceleration:void 0}}},oe=function(){function e(t,r){var o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=n(this.update.bind(this)),this.options=E({},e.Defaults,s),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(E({},e.Defaults.modifiers,s.modifiers)).forEach((function(t){o.options.modifiers[t]=E({},e.Defaults.modifiers[t]||{},s.modifiers?s.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return E({name:e},o.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&i(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return T(e,[{key:"update",value:function(){return U.call(this)}},{key:"destroy",value:function(){return $.call(this)}},{key:"enableEventListeners",value:function(){return V.call(this)}},{key:"disableEventListeners",value:function(){return W.call(this)}}]),e}();return oe.Utils=("undefined"!=typeof window?window:e).PopperUtils,oe.placements=J,oe.Defaults=ie,oe}))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],122:[function(e,t,r){var n,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],p=!1,f=-1;function d(){p&&l&&(p=!1,l.length?c=l.concat(c):f=-1,c.length&&h())}function h(){if(!p){var e=u(d);p=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,p=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||p||u(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],123:[function(e,t,r){(function(t){
/**!
* tippy.js v5.1.4
* (c) 2017-2020 atomiks
* MIT License
*/
"use strict";var n,i=(n=e("popper.js"))&&"object"==typeof n&&"default"in n?n.default:n;function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){e.innerHTML=t}function a(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function u(e,t){return{}.hasOwnProperty.call(e,t)}function l(e){return d(e)?[e]:function(e){return f(e,"NodeList")}(e)?E(e):Array.isArray(e)?e:E(document.querySelectorAll(e))}function c(e,t,r){if(Array.isArray(e)){var n=e[t];return null==n?Array.isArray(r)?r[t]:r:n}return e}function p(e,t){return e&&e.modifiers&&e.modifiers[t]}function f(e,t){var r={}.toString.call(e);return 0===r.indexOf("[object")&&r.indexOf(t+"]")>-1}function d(e){return f(e,"Element")}function h(e){return f(e,"MouseEvent")}function m(e,t){return"function"==typeof e?e.apply(void 0,t):e}function g(e,t,r,n){e.filter((function(e){return e.name===t}))[0][r]=n}function y(){return document.createElement("div")}function v(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function b(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function w(e,t){return 0===t?e:function(n){clearTimeout(r),r=setTimeout((function(){e(n)}),t)};var r}function T(e,t,r){e&&e!==t&&e.apply(void 0,r)}function x(e,t){var r=o({},e);return t.forEach((function(e){delete r[e]})),r}function E(e){return[].slice.call(e)}function k(e,t){for(;e;){if(t(e))return e;e=e.parentElement}return null}function O(e,t){return e.indexOf(t)>-1}function C(e){return e.split(/\s+/).filter(Boolean)}function S(e,t){return void 0!==e?e:t}function _(e){return[].concat(e)}function A(e){var t=_(e)[0];return t&&t.ownerDocument||document}function j(e,t){-1===e.indexOf(t)&&e.push(t)}function P(e){return"number"==typeof e?e:parseFloat(e)}function M(e,t,r){void 0===t&&(t=5);var n={top:0,right:0,bottom:0,left:0};return Object.keys(n).reduce((function(n,i){return n[i]="number"==typeof t?t:t[i],e===i&&(n[i]="number"==typeof t?t+r:t[e]+r),n}),n)}function L(e){return"\n    "+e+"() was called on a"+("destroy"===e?"n already-":" ")+"destroyed instance. This is a no-op but\n    indicates a potential memory leak.\n  "}function D(e){return e.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function q(e){return D("\n  %ctippy.js\n\n  %c"+D(e)+"\n\n  %c👷‍ This is a development-only message. It will be removed in production.\n  ")}function R(e){return[q(e),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function I(e,t){var r;e&&(r=console).warn.apply(r,R(t))}function F(e,t){var r;e&&(r=console).error.apply(r,R(t))}var U=o({allowHTML:!0,animation:"fade",appendTo:function(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[300,250],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",plugins:[],popperOptions:{},role:"tooltip",showOnCreate:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1}),B=Object.keys(U),N=["arrow","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],$=function(e){"production"!==t.env.NODE_ENV&&V(e,[]),Object.keys(e).forEach((function(t){U[t]=e[t]}))};function H(e){var t=(e.plugins||[]).reduce((function(t,r){var n=r.name,i=r.defaultValue;return n&&(t[n]=void 0!==e[n]?e[n]:i),t}),{});return o({},e,{},t)}function z(e,t){var r=o({},t,{content:m(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(H(o({},U,{plugins:t}))):B).reduce((function(t,r){var n=(e.getAttribute("data-tippy-"+r)||"").trim();if(!n)return t;if("content"===r)t[r]=n;else try{t[r]=JSON.parse(n)}catch(e){t[r]=n}return t}),{})}(e,t.plugins));return r.interactive&&(r.aria=null),r}function V(e,t){void 0===e&&(e={}),void 0===t&&(t=[]),Object.keys(e).forEach((function(r){var n=e[r],i="popperOptions"===r&&null!==n&&"object"==typeof n&&u(n,"placement"),o=!u(x(U,["animateFill","followCursor","inlinePositioning","sticky"]),r)&&!O(["a11y","arrowType","showOnInit","size","target","touchHold"],r);o&&(o=0===t.filter((function(e){return e.name===r})).length),I("target"===r,["The `target` prop was removed in v5 and replaced with the delegate() addon","in order to conserve bundle size.","See: https://atomiks.github.io/tippyjs/addons/#event-delegation"].join(" ")),I("a11y"===r,["The `a11y` prop was removed in v5. Make sure the element you are giving a","tippy to is natively focusable, such as <button> or <input>, not <div>","or <span>."].join(" ")),I("showOnInit"===r,"The `showOnInit` prop was renamed to `showOnCreate` in v5."),I("arrowType"===r,["The `arrowType` prop was removed in v5 in favor of overloading the `arrow`","prop.","\n\n",'"round" string was replaced with importing the string from the package.',"\n\n","* import {roundArrow} from 'tippy.js'; (ESM version)\n","* const {roundArrow} = tippy; (IIFE CDN version)","\n\n",'Before: {arrow: true, arrowType: "round"}\n',"After: {arrow: roundArrow}`"].join(" ")),I("touchHold"===r,["The `touchHold` prop was removed in v5 in favor of overloading the `touch`","prop.","\n\n","Before: {touchHold: true}\n",'After: {touch: "hold"}'].join(" ")),I("size"===r,["The `size` prop was removed in v5. Instead, use a theme that specifies","CSS padding and font-size properties."].join(" ")),I("theme"===r&&"google"===n,'The included theme "google" was renamed to "material" in v5.'),I(i,["Specifying placement in `popperOptions` is not supported. Use the base-level","`placement` prop instead.","\n\n",'Before: {popperOptions: {placement: "bottom"}}\n','After: {placement: "bottom"}'].join(" ")),I(o,["`"+r+"`","is not a valid prop. You may have spelled it incorrectly, or if it's a","plugin, forgot to pass it in an array as props.plugins.","\n\n","In v5, the following props were turned into plugins:","\n\n","* animateFill\n","* followCursor\n","* sticky","\n\n","All props: https://atomiks.github.io/tippyjs/all-props/\n","Plugins: https://atomiks.github.io/tippyjs/plugins/"].join(" "))}))}var W={passive:!0},Y={isTouch:!1},X=0;function K(){Y.isTouch||(Y.isTouch=!0,window.performance&&document.addEventListener("mousemove",G))}function G(){var e=performance.now();e-X<20&&(Y.isTouch=!1,document.removeEventListener("mousemove",G)),X=e}function J(){var e=document.activeElement;if(a(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var Z="undefined"!=typeof window&&"undefined"!=typeof document,Q=Z?navigator.userAgent:"",ee=/MSIE |Trident\//.test(Q),te=/UCBrowser\//.test(Q),re=Z&&/iPhone|iPad|iPod/.test(navigator.platform);function ne(e){var t=e&&re&&Y.isTouch;document.body.classList[t?"add":"remove"]("tippy-iOS")}function ie(e){return e.split("-")[0]}function oe(e){e.setAttribute("data-inertia","")}function se(e){e.setAttribute("data-interactive","")}function ae(e,t){if(d(t.content))s(e,""),e.appendChild(t.content);else if("function"!=typeof t.content){e[t.allowHTML?"innerHTML":"textContent"]=t.content}}function ue(e){return{tooltip:e.querySelector(".tippy-tooltip"),content:e.querySelector(".tippy-content"),arrow:e.querySelector(".tippy-arrow")||e.querySelector(".tippy-svg-arrow")}}function le(e){var t=y();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",d(e)?t.appendChild(e):s(t,e)),t}function ce(e,t){var r=y();r.className="tippy-popper",r.style.position="absolute",r.style.top="0",r.style.left="0";var n=y();n.className="tippy-tooltip",n.id="tippy-"+e,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1"),de(n,"add",t.theme);var i=y();return i.className="tippy-content",i.setAttribute("data-state","hidden"),t.interactive&&se(n),t.arrow&&(n.setAttribute("data-arrow",""),n.appendChild(le(t.arrow))),t.inertia&&oe(n),ae(i,t),n.appendChild(i),r.appendChild(n),pe(r,t,t),r}function pe(e,t,r){var n,i=ue(e),o=i.tooltip,s=i.content,a=i.arrow;e.style.zIndex=""+r.zIndex,o.setAttribute("data-animation",r.animation),o.style.maxWidth="number"==typeof(n=r.maxWidth)?n+"px":n,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),t.content!==r.content&&ae(s,r),!t.arrow&&r.arrow?(o.appendChild(le(r.arrow)),o.setAttribute("data-arrow","")):t.arrow&&!r.arrow?(o.removeChild(a),o.removeAttribute("data-arrow")):t.arrow!==r.arrow&&(o.removeChild(a),o.appendChild(le(r.arrow))),!t.interactive&&r.interactive?se(o):t.interactive&&!r.interactive&&function(e){e.removeAttribute("data-interactive")}(o),!t.inertia&&r.inertia?oe(o):t.inertia&&!r.inertia&&function(e){e.removeAttribute("data-inertia")}(o),t.theme!==r.theme&&(de(o,"remove",t.theme),de(o,"add",r.theme))}function fe(e,t,r){var n=te&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";e[t+"EventListener"](n,r)}function de(e,t,r){C(r).forEach((function(r){e.classList[t](r+"-theme")}))}var he=1,me=[],ge=[];function ye(e,r){var n,s,a,l=z(e,o({},U,{},H(r)));if(!l.multiple&&e._tippy)return null;var f,d,y,x,D,q=!1,R=!1,F=!1,B=0,$=[],X=w(Pe,l.interactiveDebounce),K=A(l.triggerTarget||e),G=he++,J=ce(G,l),Z=ue(J),Q=(D=l.plugins).filter((function(e,t){return D.indexOf(e)===t})),te=Z.tooltip,re=Z.content,oe=[te,re],se={id:G,reference:e,popper:J,popperChildren:Z,popperInstance:null,props:l,state:{currentPlacement:null,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:Q,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(s),cancelAnimationFrame(a)},setProps:function(r){"production"!==t.env.NODE_ENV&&I(se.state.isDestroyed,L("setProps"));if(se.state.isDestroyed)return;"production"!==t.env.NODE_ENV&&(V(r,Q),I(!!r.plugins&&(r.plugins.length!==Q.length||Q.some((function(e,t){return!r.plugins||!r.plugins[t]||e!==r.plugins[t]}))),"Cannot update plugins"));be("onBeforeUpdate",[se,r]),Ae();var n=se.props,i=z(e,o({},se.props,{},r,{ignoreAttributes:!0}));i.ignoreAttributes=S(r.ignoreAttributes,n.ignoreAttributes),se.props=i,_e(),n.interactiveDebounce!==i.interactiveDebounce&&(xe(),X=w(Pe,i.interactiveDebounce));pe(J,n,i),se.popperChildren=ue(J),n.triggerTarget&&!i.triggerTarget?_(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):i.triggerTarget&&e.removeAttribute("aria-expanded");if(Te(),se.popperInstance)if(N.some((function(e){return u(r,e)&&r[e]!==n[e]}))){var s=se.popperInstance.reference;se.popperInstance.destroy(),qe(),se.popperInstance.reference=s,se.state.isVisible&&se.popperInstance.enableEventListeners()}else se.popperInstance.update();be("onAfterUpdate",[se,r])},setContent:function(e){se.setProps({content:e})},show:function(e){void 0===e&&(e=c(se.props.duration,0,U.duration));"production"!==t.env.NODE_ENV&&I(se.state.isDestroyed,L("show"));var r=se.state.isVisible,n=se.state.isDestroyed,i=!se.state.isEnabled,o=Y.isTouch&&!se.props.touch;if(r||n||i||o)return;if(ye().hasAttribute("disabled"))return;se.popperInstance||qe();if(be("onShow",[se],!1),!1===se.props.onShow(se))return;ke(),J.style.visibility="visible",se.state.isVisible=!0,se.state.isMounted||v(oe.concat(J),0);d=function(){se.state.isVisible&&(v([J],se.props.updateDuration),v(oe,e),b(oe,"visible"),we(),Te(),j(ge,se),ne(!0),se.state.isMounted=!0,be("onMount",[se]),function(e,t){Ce(e,t)}(e,(function(){se.state.isShown=!0,be("onShown",[se])})))},function(){B=0;var e,r=se.props.appendTo,n=ye();e=se.props.interactive&&r===U.appendTo||"parent"===r?n.parentNode:m(r,[n]);e.contains(J)||e.appendChild(J);"production"!==t.env.NODE_ENV&&I(se.props.interactive&&r===U.appendTo&&n.nextElementSibling!==J,["Interactive tippy element may not be accessible via keyboard navigation","because it is not directly after the reference element in the DOM source","order.","\n\n","Using a wrapper <div> or <span> tag around the reference element solves","this by creating a new parentNode context.","\n\n","Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle keyboard","navigation.","\n\n","See: https://atomiks.github.io/tippyjs/accessibility/#interactivity"].join(" "));g(se.popperInstance.modifiers,"flip","enabled",se.props.flip),se.popperInstance.enableEventListeners(),se.popperInstance.update()}()},hide:function(e){void 0===e&&(e=c(se.props.duration,1,U.duration));"production"!==t.env.NODE_ENV&&I(se.state.isDestroyed,L("hide"));var r=!se.state.isVisible&&!q,n=se.state.isDestroyed,i=!se.state.isEnabled&&!q;if(r||n||i)return;if(be("onHide",[se],!1),!1===se.props.onHide(se)&&!q)return;Oe(),J.style.visibility="hidden",se.state.isVisible=!1,se.state.isShown=!1,v(oe,e),b(oe,"hidden"),we(),Te(),function(e,t){Ce(e,(function(){!se.state.isVisible&&J.parentNode&&J.parentNode.contains(J)&&t()}))}(e,(function(){se.popperInstance.disableEventListeners(),se.popperInstance.options.placement=se.props.placement,J.parentNode.removeChild(J),0===(ge=ge.filter((function(e){return e!==se}))).length&&ne(!1),se.state.isMounted=!1,be("onHidden",[se])}))},enable:function(){se.state.isEnabled=!0},disable:function(){se.hide(),se.state.isEnabled=!1},destroy:function(){"production"!==t.env.NODE_ENV&&I(se.state.isDestroyed,L("destroy"));if(se.state.isDestroyed)return;q=!0,se.clearDelayTimeouts(),se.hide(0),Ae(),delete e._tippy,se.popperInstance&&se.popperInstance.destroy();q=!1,se.state.isDestroyed=!0,be("onDestroy",[se])}};e._tippy=se,J._tippy=se;var ae=Q.map((function(e){return e.fn(se)}));return _e(),Te(),l.lazy||qe(),be("onCreate",[se]),l.showOnCreate&&Ie(),J.addEventListener("mouseenter",(function(){se.props.interactive&&se.state.isVisible&&se.clearDelayTimeouts()})),J.addEventListener("mouseleave",(function(){se.props.interactive&&O(se.props.trigger,"mouseenter")&&K.addEventListener("mousemove",X)})),se;function le(){var e=se.props.touch;return Array.isArray(e)?e:[e,0]}function de(){return"hold"===le()[0]}function ye(){return x||e}function ve(e){return se.state.isMounted&&!se.state.isVisible||Y.isTouch||f&&"focus"===f.type?0:c(se.props.delay,e?0:1,U.delay)}function be(e,t,r){var n;(void 0===r&&(r=!0),ae.forEach((function(r){u(r,e)&&r[e].apply(r,t)})),r)&&(n=se.props)[e].apply(n,t)}function we(){var t=se.props.aria;if(t){var r="aria-"+t,n=te.id;_(se.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(r);if(se.state.isVisible)e.setAttribute(r,t?t+" "+n:n);else{var i=t&&t.replace(n,"").trim();i?e.setAttribute(r,i):e.removeAttribute(r)}}))}}function Te(){_(se.props.triggerTarget||e).forEach((function(e){se.props.interactive?e.setAttribute("aria-expanded",se.state.isVisible&&e===ye()?"true":"false"):e.removeAttribute("aria-expanded")}))}function xe(){K.body.removeEventListener("mouseleave",Fe),K.removeEventListener("mousemove",X),me=me.filter((function(e){return e!==X}))}function Ee(e){if(!se.props.interactive||!J.contains(e.target)){if(ye().contains(e.target)){if(Y.isTouch)return;if(se.state.isVisible&&O(se.props.trigger,"click"))return}!0===se.props.hideOnClick&&(R=!1,se.clearDelayTimeouts(),se.hide(),F=!0,setTimeout((function(){F=!1})),se.state.isMounted||Oe())}}function ke(){K.addEventListener("mousedown",Ee,!0)}function Oe(){K.removeEventListener("mousedown",Ee,!0)}function Ce(e,t){function r(e){e.target===te&&(fe(te,"remove",r),t())}if(0===e)return t();fe(te,"remove",y),fe(te,"add",r),y=r}function Se(t,r,n){void 0===n&&(n=!1),_(se.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,r,n),$.push({node:e,eventType:t,handler:r,options:n})}))}function _e(){de()&&(Se("touchstart",je,W),Se("touchend",Me,W)),C(se.props.trigger).forEach((function(e){if("manual"!==e)switch(Se(e,je),e){case"mouseenter":Se("mouseleave",Me);break;case"focus":Se(ee?"focusout":"blur",Le)}}))}function Ae(){$.forEach((function(e){var t=e.node,r=e.eventType,n=e.handler,i=e.options;t.removeEventListener(r,n,i)})),$=[]}function je(e){var t=!1;if(se.state.isEnabled&&!De(e)&&!F){if(f=e,x=e.currentTarget,Te(),!se.state.isVisible&&h(e)&&me.forEach((function(t){return t(e)})),"click"!==e.type||O(se.props.trigger,"mouseenter")&&!R||!1===se.props.hideOnClick||!se.state.isVisible){var r=le(),i=r[0],o=r[1];Y.isTouch&&"hold"===i&&o?n=setTimeout((function(){Ie(e)}),o):Ie(e)}else t=!0;"click"===e.type&&(R=!t),t&&Fe(e)}}function Pe(t){k(t.target,(function(t){return t===e||t===J}))||function(e,t){var r=t.clientX,n=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.tooltipRect,o=e.interactiveBorder,s=Math.min(t.top,i.top),a=Math.max(t.right,i.right),u=Math.max(t.bottom,i.bottom),l=Math.min(t.left,i.left);return s-n>o||n-u>o||l-r>o||r-a>o}))}(E(J.querySelectorAll(".tippy-popper")).concat(J).map((function(e){var t=e._tippy,r=t.popperChildren.tooltip,n=t.props.interactiveBorder;return{popperRect:e.getBoundingClientRect(),tooltipRect:r.getBoundingClientRect(),interactiveBorder:n}})),t)&&(xe(),Fe(t))}function Me(e){if(!(De(e)||O(se.props.trigger,"click")&&R))return se.props.interactive?(K.body.addEventListener("mouseleave",Fe),K.addEventListener("mousemove",X),void j(me,X)):void Fe(e)}function Le(e){e.target===ye()&&(se.props.interactive&&e.relatedTarget&&J.contains(e.relatedTarget)||Fe(e))}function De(e){var t="ontouchstart"in window,r=O(e.type,"touch"),n=de();return t&&Y.isTouch&&n&&!r||Y.isTouch&&!n&&r}function qe(){var t,r=se.props.popperOptions,n=se.popperChildren.arrow,s=p(r,"flip"),a=p(r,"preventOverflow");function u(e){var r=se.state.currentPlacement;se.state.currentPlacement=e.placement,se.props.flip&&!se.props.flipOnUpdate&&(e.flipped&&(se.popperInstance.options.placement=e.placement),g(se.popperInstance.modifiers,"flip","enabled",!1)),te.setAttribute("data-placement",e.placement),!1!==e.attributes["x-out-of-boundaries"]?te.setAttribute("data-out-of-boundaries",""):te.removeAttribute("data-out-of-boundaries");var n=ie(e.placement),i=O(["top","bottom"],n),o=O(["bottom","right"],n);te.style.top="0",te.style.left="0",te.style[i?"top":"left"]=(o?1:-1)*t+"px",r&&r!==e.placement&&se.popperInstance.update()}var l=o({eventsEnabled:!1,placement:se.props.placement},r,{modifiers:o({},r&&r.modifiers,{tippyDistance:{enabled:!0,order:0,fn:function(e){t=function(e,t){var r="string"==typeof t&&O(t,"rem"),n=e.documentElement;return n&&r?parseFloat(getComputedStyle(n).fontSize||String(16))*P(t):P(t)}(K,se.props.distance);var r=ie(e.placement),n=M(r,a&&a.padding,t),i=M(r,s&&s.padding,t),o=se.popperInstance.modifiers;return g(o,"preventOverflow","padding",n),g(o,"flip","padding",i),e}},preventOverflow:o({boundariesElement:se.props.boundary},a),flip:o({enabled:se.props.flip,behavior:se.props.flipBehavior},s),arrow:o({element:n,enabled:!!n},p(r,"arrow")),offset:o({offset:se.props.offset},p(r,"offset"))}),onCreate:function(e){u(e),T(r&&r.onCreate,l.onCreate,[e]),Re()},onUpdate:function(e){u(e),T(r&&r.onUpdate,l.onUpdate,[e]),Re()}});se.popperInstance=new i(e,J,l)}function Re(){0===B?(B++,se.popperInstance.update()):d&&1===B&&(B++,J.offsetHeight,d())}function Ie(e){se.clearDelayTimeouts(),se.popperInstance||qe(),e&&be("onTrigger",[se,e]),ke();var t=ve(!0);t?n=setTimeout((function(){se.show()}),t):se.show()}function Fe(e){if(se.clearDelayTimeouts(),be("onUntrigger",[se,e]),se.state.isVisible){if(!(O(se.props.trigger,"mouseenter")&&O(se.props.trigger,"click")&&O(["mouseleave","mousemove"],e.type)&&R)){var t=ve(!1);t?s=setTimeout((function(){se.state.isVisible&&se.hide()}),t):a=requestAnimationFrame((function(){se.hide()}))}}else Oe()}}function ve(e,r,n){void 0===r&&(r={}),void 0===n&&(n=[]),n=U.plugins.concat(r.plugins||n),"production"!==t.env.NODE_ENV&&(!function(e){var t=!e,r="[object Object]"===Object.prototype.toString.call(e)&&!e.addEventListener;F(t,["tippy() was passed","`"+String(e)+"`","as its targets (first) argument. Valid types are: String, Element, Element[],","or NodeList."].join(" ")),F(r,["tippy() was passed a plain object which is no longer supported as an argument.","See: https://atomiks.github.io/tippyjs/misc/#custom-position"].join(" "))}(e),V(r,n)),document.addEventListener("touchstart",K,o({},W,{capture:!0})),window.addEventListener("blur",J);var i=o({},r,{plugins:n}),s=l(e);if("production"!==t.env.NODE_ENV){var a=d(i.content),u=s.length>1;I(a&&u,["tippy() was passed an Element as the `content` prop, but more than one tippy","instance was created by this invocation. This means the content element will","only be appended to the last tippy instance.","\n\n","Instead, pass the .innerHTML of the element, or use a function that returns a","cloned version of the element instead.","\n\n","1) content: element.innerHTML\n","2) content: () => element.cloneNode(true)"].join(" "))}var c=s.reduce((function(e,t){var r=t&&ye(t,i);return r&&e.push(r),e}),[]);return d(e)?c[0]:c}ve.version="5.1.4",ve.defaultProps=U,ve.setDefaultProps=$,ve.currentInput=Y;r.BACKDROP_CLASS="tippy-backdrop",r.ROUND_ARROW='<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>',r._extends=o,r.arrayFrom=E,r.closestCallback=k,r.createTippyWithPlugins=function(e){"production"!==t.env.NODE_ENV&&I(!0,["createTippyWithPlugins([...]) has been deprecated.","\n\n","Use tippy.setDefaultProps({plugins: [...]}) instead."].join(" "));var r=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n=[]),n=r.plugins||n,ve(t,o({},r,{plugins:[].concat(e,n)}))};return r.version="5.1.4",r.defaultProps=U,r.setDefaultProps=$,r.currentInput=Y,r},r.currentInput=Y,r.defaultProps=U,r.div=y,r.errorWhen=F,r.getBasePlacement=ie,r.getOwnerDocument=A,r.hideAll=function(e){var t=void 0===e?{}:e,r=t.exclude,n=t.duration;ge.forEach((function(e){var t=!1;r&&(t=a(r)?e.reference===r:e.popper===r.popper),t||e.hide(n)}))},r.includes=O,r.isBrowser=Z,r.isMouseEvent=h,r.isUCBrowser=te,r.normalizeToArray=_,r.removeProperties=x,r.setVisibilityState=b,r.tippy=ve,r.useIfDefined=S,r.warnWhen=I}).call(this,e("_process"))},{_process:122,"popper.js":121}],124:[function(e,t,r){(function(t){
/**!
* tippy.js v5.1.4
* (c) 2017-2020 atomiks
* MIT License
*/
"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./tippy.chunk.cjs.js");e("popper.js");var i={mouseover:"mouseenter",focusin:"focus",click:"click"};var o={name:"animateFill",defaultValue:!1,fn:function(e){var r=e.popperChildren,i=r.tooltip,o=r.content,s=e.props.animateFill&&!n.isUCBrowser?function(){var e=n.div();return e.className=n.BACKDROP_CLASS,n.setVisibilityState([e],"hidden"),e}():null;function a(){e.popperChildren.backdrop=s}return{onCreate:function(){s&&(a(),i.insertBefore(s,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",e.setProps({animation:"shift-away",arrow:!1}))},onMount:function(){if(s){var e=i.style.transitionDuration,r=Number(e.replace("ms",""));o.style.transitionDelay=Math.round(r/10)+"ms",s.style.transitionDuration=e,n.setVisibilityState([s],"visible"),"production"!==t.env.NODE_ENV&&(n.warnWhen("absolute"!==getComputedStyle(s).position,"The `tippy.js/dist/backdrop.css` stylesheet has not been\n              imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."),n.warnWhen("none"===getComputedStyle(i).transform,"The `tippy.js/animations/shift-away.css` stylesheet has not\n              been imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."))}},onShow:function(){s&&(s.style.transitionDuration="0ms")},onHide:function(){s&&n.setVisibilityState([s],"hidden")},onAfterUpdate:function(){a()}}}};var s={name:"followCursor",defaultValue:!1,fn:function(e){var t,r=e.reference,i=e.popper,o=null,s=n.getOwnerDocument(e.props.triggerTarget||r),a=null,u=!1,l=e.props;function c(){return"manual"===e.props.trigger.trim()}function p(){var t=!!c()||null!==a&&!(0===a.clientX&&0===a.clientY);return e.props.followCursor&&t}function f(){return n.currentInput.isTouch||"initial"===e.props.followCursor&&e.state.isVisible}function d(){e.popperInstance&&o&&(e.popperInstance.reference=o)}function h(){if(p()||e.props.placement!==l.placement){var t=l.placement,r=t.split("-")[1];u=!0,e.setProps({placement:p()&&r?t.replace(r,"start"===r?"end":"start"):t}),u=!1}}function m(){e.popperInstance&&p()&&(f()||!0!==e.props.followCursor)&&e.popperInstance.disableEventListeners()}function g(){p()?s.addEventListener("mousemove",b):d()}function y(){p()&&b(t)}function v(){s.removeEventListener("mousemove",b)}function b(s){var a=t=s,u=a.clientX,l=a.clientY;if(e.popperInstance&&e.state.currentPlacement){var c=n.closestCallback(s.target,(function(e){return e===r})),p=r.getBoundingClientRect(),d=e.props.followCursor,h="horizontal"===d,m="vertical"===d,g=n.includes(["top","bottom"],n.getBasePlacement(e.state.currentPlacement)),y=function(e,t){var r=t?e.offsetWidth:e.offsetHeight;return{size:r,x:t?r:0,y:t?0:r}}(i,g),b=y.size,w=y.x,T=y.y;!c&&e.props.interactive||(null===o&&(o=e.popperInstance.reference),e.popperInstance.reference={referenceNode:r,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:g?b:0,height:g?0:b,top:(h?p.top:l)-T,bottom:(h?p.bottom:l)+T,left:(m?p.left:u)-w,right:(m?p.right:u)+w}}},e.popperInstance.update()),f()&&v()}}return{onAfterUpdate:function(e,t){var r;u||(r=t,Object.keys(r).forEach((function(e){l[e]=n.useIfDefined(r[e],l[e])})),t.placement&&h()),t.placement&&m(),requestAnimationFrame(y)},onMount:function(){y(),m()},onShow:function(){c()&&(t=a={clientX:0,clientY:0},h(),g())},onTrigger:function(e,r){a||(n.isMouseEvent(r)&&(a={clientX:r.clientX,clientY:r.clientY},t=r),h(),g())},onUntrigger:function(){e.state.isVisible||(v(),a=null)},onHidden:function(){v(),d(),a=null}}}};var a={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t=e.reference;function r(){return!!e.props.inlinePositioning}return{onHidden:function(){r()&&(e.popperInstance.reference=t)},onShow:function(){r()&&(e.popperInstance.reference={referenceNode:t,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return function(e,t,r){if(r.length<2||null===e)return t;switch(e){case"top":case"bottom":var n=r[0],i=r[r.length-1],o="top"===e,s=n.top,a=i.bottom,u=o?n.left:i.left,l=o?n.right:i.right;return{top:s,bottom:a,left:u,right:l,width:l-u,height:a-s};case"left":case"right":var c=Math.min.apply(Math,r.map((function(e){return e.left}))),p=Math.max.apply(Math,r.map((function(e){return e.right}))),f=r.filter((function(t){return"left"===e?t.left===c:t.right===p})),d=f[0].top,h=f[f.length-1].bottom;return{top:d,bottom:h,left:c,right:p,width:p-c,height:h-d};default:return t}}(e.state.currentPlacement&&n.getBasePlacement(e.state.currentPlacement),t.getBoundingClientRect(),n.arrayFrom(t.getClientRects()))}})}}}};var u={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,r=e.popper;function n(t){return!0===e.props.sticky||e.props.sticky===t}var i=null,o=null;function s(){var a=n("reference")?(e.popperInstance?e.popperInstance.reference:t).getBoundingClientRect():null,u=n("popper")?r.getBoundingClientRect():null;(a&&l(i,a)||u&&l(o,u))&&e.popperInstance.update(),i=a,o=u,e.state.isMounted&&requestAnimationFrame(s)}return{onMount:function(){e.props.sticky&&s()}}}};function l(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}r.createTippyWithPlugins=n.createTippyWithPlugins,r.default=n.tippy,r.hideAll=n.hideAll,r.roundArrow=n.ROUND_ARROW,r.animateFill=o,r.createSingleton=function(e,r,i){void 0===r&&(r={}),void 0===i&&(i=[]),"production"!==t.env.NODE_ENV&&n.errorWhen(!Array.isArray(e),["The first argument passed to createSingleton() must be an array of tippy","instances. The passed value was",String(e)].join(" ")),i=r.plugins||i,e.forEach((function(e){e.disable()}));var o,s,a=n._extends({},n.defaultProps,{},r).aria,u=!1,l=e.map((function(e){return e.reference})),c={fn:function(t){function r(e){if(o){var r="aria-"+o;e&&!t.props.interactive?s.setAttribute(r,t.popperChildren.tooltip.id):s.removeAttribute(r)}}return{onAfterUpdate:function(e,r){var n=r.aria;void 0!==n&&n!==a&&(u?(u=!0,t.setProps({aria:null}),u=!1):a=n)},onDestroy:function(){e.forEach((function(e){e.enable()}))},onMount:function(){r(!0)},onUntrigger:function(){r(!1)},onTrigger:function(n,i){var u=i.currentTarget,c=l.indexOf(u);u!==s&&(s=u,o=a,t.state.isVisible&&r(!0),t.popperInstance.reference=u,t.setContent(e[c].props.content))}}}};return n.tippy(n.div(),n._extends({},r,{plugins:[c].concat(i),aria:null,triggerTarget:l}))},r.delegate=function(e,r,o){void 0===o&&(o=[]),"production"!==t.env.NODE_ENV&&n.errorWhen(!(r&&r.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" ")),o=r.plugins||o;var s=[],a=[],u=r.target,l=n.removeProperties(r,["target"]),c=n._extends({},l,{plugins:o,trigger:"manual"}),p=n._extends({},l,{plugins:o,showOnCreate:!0}),f=n.tippy(e,c);function d(e){if(e.target){var t=e.target.closest(u);if(t){var o=t.getAttribute("data-tippy-trigger")||r.trigger||n.defaultProps.trigger;if(n.includes(o,i[e.type])){var s=n.tippy(t,p);s&&(a=a.concat(s))}}}}function h(e,t,r,n){void 0===n&&(n=!1),e.addEventListener(t,r,n),s.push({node:e,eventType:t,handler:r,options:n})}return n.normalizeToArray(f).forEach((function(e){var t=e.destroy;e.destroy=function(e){void 0===e&&(e=!0),e&&a.forEach((function(e){e.destroy()})),a=[],s.forEach((function(e){var t=e.node,r=e.eventType,n=e.handler,i=e.options;t.removeEventListener(r,n,i)})),s=[],t()},function(e){var t=e.reference;h(t,"mouseover",d),h(t,"focusin",d),h(t,"click",d)}(e)})),f},r.followCursor=s,r.inlinePositioning=a,r.sticky=u}).call(this,e("_process"))},{"./tippy.chunk.cjs.js":123,_process:122,"popper.js":121}],125:[function(e,t,r){(function(e){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r,n,i,o,s,a,u,l,c,p,f,d,h,m,g,y,v,b,w,T;!function(r){var n="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:{};function i(e,t){return e!==n&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(r,n){return e[r]=t?t(r,n):n}}"function"==typeof define&&define.amd?define("tslib",["exports"],(function(e){r(i(n,i(e)))})):"object"==typeof t&&"object"==typeof t.exports?r(i(n,i(t.exports))):r(i(n))}((function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};r=function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},o=function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=function(e,t){return function(r,n){t(r,n,e)}},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(s,a)}u((n=n.apply(e,t||[])).next())}))},l=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=function(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])},p=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},f=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},d=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e},h=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},m=function(e){return this instanceof m?(this.v=e,this):new m(e)},g=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof m?Promise.resolve(r.value.v).then(u,l):c(o[0][2],r)}catch(e){c(o[0][3],e)}var r}function u(e){a("next",e)}function l(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},y=function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:m(e[n](t)),done:"return"===n}:i?i(t):t}:i}},v=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},b=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},T=function(e){return e&&e.__esModule?e:{default:e}},e("__extends",r),e("__assign",n),e("__rest",i),e("__decorate",o),e("__param",s),e("__metadata",a),e("__awaiter",u),e("__generator",l),e("__exportStar",c),e("__values",p),e("__read",f),e("__spread",d),e("__spreadArrays",h),e("__await",m),e("__asyncGenerator",g),e("__asyncDelegator",y),e("__asyncValues",v),e("__makeTemplateObject",b),e("__importStar",w),e("__importDefault",T)}))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],126:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.BoundElement=class{constructor(e,t,r){this.element=e,this.window=t,this.document=r,this.isContenteditable=this.element.isContentEditable,this.isCodeMirror="object"==typeof this.element.doc}setFocus(){if(this.isCodeMirror)this.element.focus();else{let e=new Event("focus");this.element.dispatchEvent(e)}}caretPositionWithDocumentInfo(){return this.isCodeMirror?this.caretPositionWithDocumentInfoForCodeMirror():this.isContenteditable?this.caretPositionWithDocumentInfoForContenteditable():this.caretPositionWithDocumentInfoForInput()}setCaretPosition(e,t){if(this.isCodeMirror){var r=this.element.getValue().slice(0,e).split(/\r?\n/),n=r.length-1,i=r[n].length;this.element.doc.setCursor({line:n,ch:i})}else if(this.isContenteditable){var o=this.document.createRange(),s=this.window.getSelection();o.setStart(t,0),o.collapse(!0),s.removeAllRanges(),s.addRange(o)}else this.element.setSelectionRange(e,e)}getCaretPosition(){if(this.isCodeMirror){let e=this.element.cursorCoords(!0),t=this.element.display.lineDiv,r=this.window.getComputedStyle?getComputedStyle(t):t.currentStyle,n=this.element.getCursor(!0).line+1;return{top:this.element.heightAtLine(n),left:e.left+parseInt(r.borderLeftWidth)}}if(this.isContenteditable){let e=this.window.getSelection().getRangeAt(0);return this.getContentEditableCaretPosition(e.startOffset)}{let e=this.element.selectionStart;return this.getTextAreaOrInputUnderlinePosition(this.element,e,!1)}}insertTextAtCaret(e){if(!this.isCodeMirror)return this.isContenteditable?this.insertTextForContenteditable(e):this.insertTextForInput(e);{let t=this.element.getCursor(!0);this.element.doc.replaceRange(e,t,t)}}insertTextForContenteditable(e){var t,r;(r=(t=this.window.getSelection()).getRangeAt(0)).deleteContents();var n=this.document.createTextNode(e);return r.insertNode(n),r.selectNodeContents(n),r.collapse(!1),t.removeAllRanges(),t.addRange(r),n}insertTextForInput(e){var t=this.element,r=t.scrollTop,n=t.selectionStart,i=t.value.substring(0,n),o=t.value.substring(t.selectionEnd,t.value.length);return t.value=i+e+o,n+=e.length,t.selectionStart=n,t.selectionEnd=n,t.focus(),t.scrollTop=r,t}caretPositionWithDocumentInfoForInput(){let e=this.element.selectionStart,t=this.element.value;return{leftText:t.slice(0,e),selectionStart:e,rightText:t.slice(e,t.length),allText:t}}caretPositionWithDocumentInfoForContenteditable(){let e=this.window.getSelection().getRangeAt(0),t=e.cloneRange();t.setStart(this.element,0),t.setEnd(e.startContainer,e.startOffset);let r=this.captureRangeText(t),n=e.cloneRange();n.selectNodeContents(this.element),n.setStart(e.startContainer,e.startOffset);let i=this.captureRangeText(n);return{leftText:r,selectionStart:r.length,rightText:i,allText:r+i}}caretPositionWithDocumentInfoForCodeMirror(){let e=this.element.getValue(),t=this.element.getCursor(!0),r=t.line,n=t.ch,i=[],o=[];e.split(/\r?\n/).forEach((function(e,t){t<r?i.push(e):t===r?(i.push(e.slice(0,n)),o.push(e.slice(n,e.length))):t>r&&o.push(e)}));let s=i.join("\n"),a=o.join("\n");return{leftText:s,selectionStart:s.length,rightText:a,allText:s+a}}captureRangeText(e){let t=e.cloneContents(),r=this.document.createElement("div");r.setAttribute("style","position: absolute; left: -10000px; top: -10000px"),r.setAttribute("contenteditable","true"),r.appendChild(t),this.document.body.appendChild(r);let n=r.innerText;return r.remove(),n}getTextAreaOrInputUnderlinePosition(e,t,r){let n=null!==this.window.mozInnerScreenX,i=this.document.createElement("div");i.id="input-textarea-caret-position-mirror-div",this.document.body.appendChild(i);let o=i.style,s=this.window.getComputedStyle?getComputedStyle(e):e.currentStyle;o.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"].forEach(e=>{o[e]=s[e]}),n?(o.width=`${parseInt(s.width)-2}px`,e.scrollHeight>parseInt(s.height)&&(o.overflowY="scroll")):o.overflow="hidden",i.textContent=e.value.substring(0,t),"INPUT"===e.nodeName&&(i.textContent=i.textContent.replace(/\s/g," "));let a=this.document.createElement("span");a.textContent=e.value.substring(t)||".",i.appendChild(a);let u=e.getBoundingClientRect(),l=this.document.documentElement,c=(this.window.pageXOffset||l.scrollLeft)-(l.clientLeft||0),p=(this.window.pageYOffset||l.scrollTop)-(l.clientTop||0),f=0,d=0;f=u.top,d=u.left;let h={top:f+p+a.offsetTop+parseInt(s.borderTopWidth)+parseInt(s.fontSize)-e.scrollTop,left:d+c+a.offsetLeft+parseInt(s.borderLeftWidth)};return this.document.body.removeChild(i),h}getContentEditableCaretPosition(e){let t,r,n=`sel_${(new Date).getTime()}_${Math.random().toString().substr(2)}`,i=this.window.getSelection(),o=i.getRangeAt(0);r=this.document.createRange(),r.setStart(i.anchorNode,e),r.setEnd(i.anchorNode,e),r.collapse(!1),t=this.document.createElement("span"),t.id=n,t.appendChild(this.document.createTextNode("\ufeff")),r.insertNode(t),i.removeAllRanges(),i.addRange(o);let s=t.getBoundingClientRect(),a=this.document.documentElement,u=(this.window.pageXOffset||a.scrollLeft)-(a.clientLeft||0),l=(this.window.pageYOffset||a.scrollTop)-(a.clientTop||0),c=0,p=0;c=s.left,p=s.top;let f={left:c+u,top:p+t.offsetHeight+l};return t.parentNode.removeChild(t),f}}},{}],127:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const{DropkiqEngine:n}=e("dropkiq"),i=e("./BoundElement"),o=e("tippy.js");r.DropkiqUI=class{constructor(e,t,r,o,s="",a={}){this.schema=t,this.context=r,this.scope=o,this.licenseKey=s,this.options=a,this.showPreviews="function"==typeof a.showPreviews?a.showPreviews:()=>!0,this.showHints="function"==typeof a.showHints?a.showHints:()=>!0,this.suggestionFilter="function"==typeof a.suggestionFilter?a.suggestionFilter:()=>{},this.onRender="function"==typeof a.onRender?a.onRender:()=>{},this.iframe=a.iframe,this.iframe?(this.window=this.iframe.contentWindow,this.document=this.window.document):(this.window=window,this.document=document),this.element=e,this.isCodeMirror="object"==typeof this.element.doc,this.boundElement=new i.BoundElement(this.element,this.window,this.document),this.dropkiqEngine=new n("",0,t,r,o,this.licenseKey,{suggestionFilter:this.suggestionFilter}),this.suggestionsArray=[],this.result={},this.caretOffset={},this.pathSchema=[],this.$poweredByDropkiq=document.createElement("div"),this.$poweredByDropkiq.style.display="none",this.$poweredByDropkiq.style.padding="5px",this.$poweredByDropkiq.style.height="24px",this.$poweredByDropkiq.style.color="#666666",this.$poweredByDropkiq.style["font-size"]="10px",this.$poweredByDropkiq.style.background="rgba(240,240,240,0.9)",this.$poweredByDropkiq.style["text-align"]="right";let u=document.createTextNode("Powered by"),l=document.createElement("img");l.setAttribute("src","https://app.dropkiq.com/plugin/dropkiq-sm.png"),l.style.width="48px",l.style.height="10px",l.style["margin-left"]="3px",this.$poweredByDropkiq.appendChild(u),this.$poweredByDropkiq.appendChild(l),this.$paywall=document.createElement("div"),this.$paywall.style["font-size"]="14px",this.$paywall.style.padding="10px",this.$paywall.style.color="#666666",this.$paywall.display="none",this.$ul=document.createElement("ul"),this.$header=document.createElement("div"),this.$header.setAttribute("class","dropkiq-header"),this.$div=document.createElement("div"),this.$div.setAttribute("id","dropkiq-autosuggest-menu"),this.$div.appendChild(this.$header),this.$div.appendChild(this.$ul),this.$div.appendChild(this.$paywall),this.$div.appendChild(this.$poweredByDropkiq),document.body.appendChild(this.$div);let c=this,p=function(e){if(c.suggestionsArray.length){let t;switch(e.keyCode){case 27:return c.closeMenu(),e.preventDefault(),!1;case 38:return c.scrollToPrevious(),e.preventDefault(),!1;case 40:return c.scrollToNext(),e.preventDefault(),!1;case 9:case 13:return t=c.suggestionsArray.find((function(e){return e.active})),c.insertSuggestion(t),e.preventDefault(),!1}}!function(e){e.stopImmediatePropagation(),setTimeout((function(){let t=c.boundElement.caretPositionWithDocumentInfo(),r=t.selectionStart,n=t.leftText,i=t.rightText,o=n.slice(-2);if(219!=e.keyCode||!e.shiftKey||"{"!=o[1]&&"{"!=o){if(53==e.keyCode&&e.shiftKey&&"{%"==o&&/^(\s+)?\}(.+)?/.test(i)){let e=c.boundElement.insertTextAtCaret("%");c.boundElement.setCaretPosition(r,e),c.element.focus()}}else{let e=c.boundElement.insertTextAtCaret("}");c.boundElement.setCaretPosition(r,e),c.element.focus()}}),25),f(e)}(e)},f=function(e){e.stopImmediatePropagation(),setTimeout((function(){c.findResults.apply(c)}),25)};this.isCodeMirror?(this.element.on("keydown",(function(e,t){p(t)})),this.element.on("mousedown",(function(e,t){f(t)})),this.element.on("focus",(function(e,t){f(t)}))):(this.element.addEventListener("keydown",p),this.element.addEventListener("click",f),this.element.addEventListener("focus",f))}closeMenu(){this.suggestionsArray=[],this.renderSuggestions()}renderSuggestions(){let e,t=this.result.prefix;if(this.$paywall.innerHTML="",this.$paywall.style.display="none",this.$header.innerHTML="",this.$header.style.display="none",this.$poweredByDropkiq.style.display="none",this.dropkiqEngine.authorizer.authorized()||(this.$poweredByDropkiq.style.display="block"),this.pathSchema&&(e=this.pathSchema[this.pathSchema.length-1]),e&&"ColumnTypes::HasOne"===e.type){let t="https://app.dropkiq.com/plugin/object.png",r=document.createElement("img");r.setAttribute("src",t),r.setAttribute("class","icon"),r.setAttribute("width","16px"),r.setAttribute("height","16px");let n=document.createElement("span");n.textContent=e.name,this.$header.appendChild(r),this.$header.appendChild(n),this.$header.style.display="block"}this.$div.style.top=`${this.caretOffset.top}px`,this.$div.style.left=`${this.caretOffset.left}px`,this.suggestionsArray.length?this.$div.style.display="block":this.$div.style.display="none",this.$ul.innerHTML="";let r=this;this.suggestionsArray.forEach((function(e){let n=document.createElement("li"),i=e.iconImageURLForSuggestion,o=document.createElement("img");o.setAttribute("src",i),o.setAttribute("class","icon"),o.setAttribute("width","16px"),o.setAttribute("height","16px");let s=document.createElement("div");s.setAttribute("class","first-line");let a=document.createElement("div");a.setAttribute("class","extra");let u=document.createElement("span"),l=document.createElement("img");if(l.setAttribute("class","right-arrow"),l.setAttribute("src","https://app.dropkiq.com/plugin/next-level.png"),s.appendChild(o),s.appendChild(l),t){let r=document.createElement("strong");r.textContent=t;let n=e.name;u.textContent=n.slice(t.length,n.length),s.appendChild(r)}else u.textContent=e.name;if(s.appendChild(u),n.appendChild(s),n.setAttribute("title",r.suggestionTitleText(e)),e.hint&&r.showHints()){let t=document.createElement("div");t.setAttribute("class","hint-icon"),t.setAttribute("data-tippy-content",e.hint),t.setAttribute("title","");let r="https://app.dropkiq.com/plugin/question-circle.png",i=document.createElement("img");i.setAttribute("src",r),t.appendChild(i),n.appendChild(t)}if(e.preview&&r.showPreviews()){let t=document.createElement("p");t.textContent="OUTPUT";let r=document.createElement("samp");r.textContent=e.preview,a.appendChild(t),a.appendChild(r),n.appendChild(a)}e.active&&n.classList.add("active"),r.$ul.appendChild(n),n.addEventListener("click",(function(t){r.insertSuggestion(e)}))}));let n=this.$ul.querySelector(".active");if(n&&(this.$ul.scrollTop=n.offsetTop-50),e&&"ColumnTypes::HasOne"===e.type&&!this.dropkiqEngine.authorizer.authorized()){this.$ul.innerHTML="",this.$paywall.style.display="block";let e=document.createElement("p"),t=this.suggestionsArray[0];t&&(e.textContent=t.hint),this.$paywall.appendChild(e);let r=document.createElement("p"),n=document.createElement("a");n.textContent="Purchase to unlock",n.setAttribute("href","http://dropkiq.com"),r.appendChild(n),this.$paywall.appendChild(r)}let i=function(){r.closeMenu(),document.removeEventListener("click",i),r.document!==document&&r.document.removeEventListener("click",i)};document.addEventListener("click",i),this.document!==document&&this.document.addEventListener("click",i),o.default(".hint-icon")}findResults(){let e=this.boundElement.caretPositionWithDocumentInfo();if(this.caretOffset=this.boundElement.getCaretPosition(),this.iframe){var t=this.iframe.getBoundingClientRect();this.caretOffset.top=this.caretOffset.top+t.top,this.caretOffset.left=this.caretOffset.left+t.left}try{this.result=this.dropkiqEngine.update(e.allText,e.selectionStart)}catch(e){if("ParseError"===e.name)return!1;throw e}this.onRender(this.result.renderedDocument),this.pathSchema=this.result.pathSchema;this.suggestionsArray=this.result.suggestionsArray||[],this.suggestionsArray.length>0&&(this.suggestionsArray[0].active=!0),this.renderSuggestions()}insertSuggestion(e){let t=this.result.prefix,r=e.name,n=r.slice(t.length,r.length);"ColumnTypes::HasOne"===e.type&&(n+="."),this.boundElement.insertTextAtCaret(n),this.closeMenu();let i=this;setTimeout((function(){i.findResults.apply(i)}),25)}scrollToNext(){let e=this.suggestionsArray.find((function(e,t){return e.active})),t=this.suggestionsArray.indexOf(e);this.suggestionsArray[t].active=!1,this.suggestionsArray[t+1]?this.suggestionsArray[t+1].active=!0:this.suggestionsArray[0].active=!0,this.renderSuggestions()}scrollToPrevious(){let e=this.suggestionsArray.find((function(e,t){return e.active})),t=this.suggestionsArray.indexOf(e);this.suggestionsArray[t].active=!1,this.suggestionsArray[t-1]?this.suggestionsArray[t-1].active=!0:this.suggestionsArray[this.suggestionsArray.length-1].active=!0,this.renderSuggestions()}suggestionTitleText(e){let t=[e.name];return e.preview&&t.push(`**OUTPUT** ${e.preview}`),e.hint&&t.push(`**HINT** ${e.hint}`),t.join(" ")}}},{"./BoundElement":126,dropkiq:38,"tippy.js":124}],128:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("dropkiq"),i=e("./DropkiqUI");r.DropkiqUIFromScope=class{constructor(e,t,r="",i={}){this.element=e,this.scope=t,this.licenseKey=r,this.options=i,this.dropkiqEngineFromScope=new n.DropkiqEngineFromScope("",0,this.scope,this.licenseKey,this.options),this.schema=this.dropkiqEngineFromScope.schema,this.context=this.dropkiqEngineFromScope.context}dropkiqUI(){return new i.DropkiqUI(this.element,this.schema,this.context,this.scope,this.licenseKey,this.options)}}},{"./DropkiqUI":127,dropkiq:38}],129:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./DropkiqUI"),i=e("./DropkiqUIFromScope");window.DropkiqUI=n.DropkiqUI,window.DropkiqUIFromScope=i.DropkiqUIFromScope;var o=e("./DropkiqUI");r.DropkiqUI=o.DropkiqUI;var s=e("./DropkiqUIFromScope");r.DropkiqUIFromScope=s.DropkiqUIFromScope},{"./DropkiqUI":127,"./DropkiqUIFromScope":128}]},{},[129]);