"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function c(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0});const underscore_1=require("../util/underscore");function domResolve(e,t){const n=document.createElement("base");n.href=e;const r=document.getElementsByTagName("head")[0];r.insertBefore(n,r.firstChild);const s=document.createElement("a");s.href=t;const o=s.href;return r.removeChild(n),o}function resolve(e,t,n){return e.length&&"/"!==underscore_1.last(e)&&(e+="/"),domResolve(e,t).replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,(e,t,r)=>{const s=r.split("/").pop();return/\.\w+$/.test(s)?e:t+r+n})}function readFile(e){return __awaiter(this,void 0,void 0,(function*(){return new Promise((t,n)=>{const r=new XMLHttpRequest;r.onload=()=>{r.status>=200&&r.status<300?t(r.responseText):n(new Error(r.statusText))},r.onerror=()=>{n(new Error("An error occurred whilst receiving the response."))},r.open("GET",e),r.send()})}))}function readFileSync(e){const t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(),t.status<200||t.status>=300)throw new Error(t.statusText);return t.responseText}function exists(){return __awaiter(this,void 0,void 0,(function*(){return!0}))}function existsSync(){return!0}exports.default={readFile:readFile,resolve:resolve,exists:exists,existsSync:existsSync,readFileSync:readFileSync};