"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const block_mode_1=require("../../context/block-mode");exports.default={parse:function(e,t){const o=/\w+/.exec(e.args);this.block=o?o[0]:"",this.tpls=[];const s=this.liquid.parser.parseStream(t).on("tag:endblock",()=>s.stop()).on("template",e=>this.tpls.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});s.start()},render:function*(e,t,o){const s=e.getRegister("blocks"),r=s[this.block],l=this.liquid.renderer,i=void 0!==r?r:yield l.renderTemplates(this.tpls,e);e.getRegister("blockMode",block_mode_1.default.OUTPUT)!==block_mode_1.default.STORE?o.write(i):s[this.block]=i}};