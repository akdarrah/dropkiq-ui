"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const types_1=require("../../types");exports.default={parse:function(e,t){let s;this.templates=[],this.elseTemplates=[];const r=this.liquid.parser.parseStream(t).on("start",()=>{s=this.templates,this.cond=e.args}).on("tag:else",()=>s=this.elseTemplates).on("tag:endunless",()=>r.stop()).on("template",e=>s.push(e)).on("end",()=>{throw new Error(`tag ${e.raw} not closed`)});r.start()},render:function*(e,t,s){const r=this.liquid.renderer,n=yield new types_1.Expression(this.cond).value(e);yield types_1.isFalsy(n)?r.renderTemplates(this.templates,e,s):r.renderTemplates(this.elseTemplates,e,s)}};