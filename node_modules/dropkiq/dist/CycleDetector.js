"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const constants_1=require("./constants");class CycleDetector{constructor(){this.registry={}}register(t,e){if(this.registry[t]=this.registry[t]||0,this.registry[t]=this.registry[t]+1,this.registry[t]>constants_1.MAX_CYCLES_AT_MAX_DEPTH&&e>constants_1.ALLOW_CYCLES_UNTIL_DEPTH)throw new Error(`Cycle detected for key "${t}"`)}unregister(t){this.registry[t]=this.registry[t]-1}}exports.CycleDetector=CycleDetector;