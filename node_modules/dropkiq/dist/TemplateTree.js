"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class TemplateTree{constructor(e){this.templates=e}templateWithoutSiblingsPathToToken(e){let t,i=[],l=this.templateWithSiblingsPathToToken(e);return t=[...this.templates].find(e=>l.includes(e)),t&&(this.removeSiblingsOnChildrenTemplates(t,l),i.push(t)),i}removeSiblingsOnChildrenTemplates(e,t){if(e.impl&&e.impl.templates){let i=e.impl.templates;i=i.filter(e=>t.includes(e)),i.map(e=>{this.removeSiblingsOnChildrenTemplates(e,t)}),e.impl.templates=i}return e}templateWithSiblingsPathToToken(e){let t=[];return this.constructTemplateWithSiblingsPath(this.templates,t,e),t}constructTemplateWithSiblingsPath(e,t,i){let l;return l=e.find(e=>{if(e.impl&&e.impl.templates){if(this.constructTemplateWithSiblingsPath(e.impl.templates,t,i))return!0}if(e.token==i)return!0}),!!l&&(t.push(l),!0)}}exports.TemplateTree=TemplateTree;